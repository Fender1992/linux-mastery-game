/*! For license information please see main.efafec05.js.LICENSE.txt */
(()=>{var e={4:(e,t,r)=>{"use strict";var i=r(853),n=r(43),s=r(950);function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(l(e)!==e)throw Error(o(188))}function h(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=h(e)))return t;e=e.sibling}return null}var d=Object.assign,f=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),b=Symbol.for("react.consumer"),S=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),E=Symbol.for("react.lazy");Symbol.for("react.scope");var D=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var L=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var R=Symbol.iterator;function T(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var P=Symbol.for("react.client.reference");function A(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===P?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case v:return"Profiler";case g:return"StrictMode";case C:return"Suspense";case k:return"SuspenseList";case D:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case m:return"Portal";case S:return(e.displayName||"Context")+".Provider";case b:return(e._context.displayName||"Context")+".Consumer";case w:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case x:return null!==(t=e.displayName||null)?t:A(e.type)||"Memo";case E:t=e._payload,e=e._init;try{return A(e(t))}catch(r){}}return null}var M=Array.isArray,O=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I={pending:!1,data:null,method:null,action:null},N=[],H=-1;function F(e){return{current:e}}function j(e){0>H||(e.current=N[H],N[H]=null,H--)}function z(e,t){H++,N[H]=e.current,e.current=t}var U=F(null),W=F(null),q=F(null),K=F(null);function V(e,t){switch(z(q,t),z(W,e),z(U,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?nh(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=sh(t=nh(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}j(U),z(U,e)}function X(){j(U),j(W),j(q)}function G(e){null!==e.memoizedState&&z(K,e);var t=U.current,r=sh(t,e.type);t!==r&&(z(W,e),z(U,r))}function $(e){W.current===e&&(j(U),j(W)),K.current===e&&(j(K),Gh._currentValue=I)}var Y=Object.prototype.hasOwnProperty,Q=i.unstable_scheduleCallback,J=i.unstable_cancelCallback,Z=i.unstable_shouldYield,ee=i.unstable_requestPaint,te=i.unstable_now,re=i.unstable_getCurrentPriorityLevel,ie=i.unstable_ImmediatePriority,ne=i.unstable_UserBlockingPriority,se=i.unstable_NormalPriority,oe=i.unstable_LowPriority,ae=i.unstable_IdlePriority,le=i.log,ce=i.unstable_setDisableYieldValue,ue=null,he=null;function de(e){if("function"===typeof le&&ce(e),he&&"function"===typeof he.setStrictMode)try{he.setStrictMode(ue,e)}catch(t){}}var fe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(pe(e)/me|0)|0},pe=Math.log,me=Math.LN2;var _e=256,ge=4194304;function ve(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ye(e,t,r){var i=e.pendingLanes;if(0===i)return 0;var n=0,s=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var a=134217727&i;return 0!==a?0!==(i=a&~s)?n=ve(i):0!==(o&=a)?n=ve(o):r||0!==(r=a&~e)&&(n=ve(r)):0!==(a=i&~s)?n=ve(a):0!==o?n=ve(o):r||0!==(r=i&~e)&&(n=ve(r)),0===n?0:0!==t&&t!==n&&0===(t&s)&&((s=n&-n)>=(r=t&-t)||32===s&&0!==(4194048&r))?t:n}function be(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Se(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function we(){var e=_e;return 0===(4194048&(_e<<=1))&&(_e=256),e}function Ce(){var e=ge;return 0===(62914560&(ge<<=1))&&(ge=4194304),e}function ke(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function xe(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ee(e,t,r){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-fe(t);e.entangledLanes|=t,e.entanglements[i]=1073741824|e.entanglements[i]|4194090&r}function De(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var i=31-fe(r),n=1<<i;n&t|e[i]&t&&(e[i]|=t),r&=~n}}function Le(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Re(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Te(){var e=B.p;return 0!==e?e:void 0===(e=window.event)?32:cd(e.type)}var Pe=Math.random().toString(36).slice(2),Ae="__reactFiber$"+Pe,Me="__reactProps$"+Pe,Oe="__reactContainer$"+Pe,Be="__reactEvents$"+Pe,Ie="__reactListeners$"+Pe,Ne="__reactHandles$"+Pe,He="__reactResources$"+Pe,Fe="__reactMarker$"+Pe;function je(e){delete e[Ae],delete e[Me],delete e[Be],delete e[Ie],delete e[Ne]}function ze(e){var t=e[Ae];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Oe]||r[Ae]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=yh(e);null!==e;){if(r=e[Ae])return r;e=yh(e)}return t}r=(e=r).parentNode}return null}function Ue(e){if(e=e[Ae]||e[Oe]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function We(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(o(33))}function qe(e){var t=e[He];return t||(t=e[He]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ke(e){e[Fe]=!0}var Ve=new Set,Xe={};function Ge(e,t){$e(e,t),$e(e+"Capture",t)}function $e(e,t){for(Xe[e]=t,e=0;e<t.length;e++)Ve.add(t[e])}var Ye,Qe,Je=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ze={},et={};function tt(e,t,r){if(n=t,Y.call(et,n)||!Y.call(Ze,n)&&(Je.test(n)?et[n]=!0:(Ze[n]=!0,0)))if(null===r)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var i=t.toLowerCase().slice(0,5);if("data-"!==i&&"aria-"!==i)return void e.removeAttribute(t)}e.setAttribute(t,""+r)}var n}function rt(e,t,r){if(null===r)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+r)}}function it(e,t,r,i){if(null===i)e.removeAttribute(r);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(r)}e.setAttributeNS(t,r,""+i)}}function nt(e){if(void 0===Ye)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Ye=t&&t[1]||"",Qe=-1<r.stack.indexOf("\n    at")?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Ye+e+Qe}var st=!1;function ot(e,t){if(!e||st)return"";st=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var r=function(){throw Error()};if(Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(r,[])}catch(n){var i=n}Reflect.construct(e,[],r)}else{try{r.call()}catch(s){i=s}e.call(r.prototype)}}else{try{throw Error()}catch(o){i=o}(r=e())&&"function"===typeof r.catch&&r.catch(function(){})}}catch(a){if(a&&i&&"string"===typeof a.stack)return[a.stack,i.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=i.DetermineComponentFrameRoot(),o=s[0],a=s[1];if(o&&a){var l=o.split("\n"),c=a.split("\n");for(n=i=0;i<l.length&&!l[i].includes("DetermineComponentFrameRoot");)i++;for(;n<c.length&&!c[n].includes("DetermineComponentFrameRoot");)n++;if(i===l.length||n===c.length)for(i=l.length-1,n=c.length-1;1<=i&&0<=n&&l[i]!==c[n];)n--;for(;1<=i&&0<=n;i--,n--)if(l[i]!==c[n]){if(1!==i||1!==n)do{if(i--,0>--n||l[i]!==c[n]){var u="\n"+l[i].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=i&&0<=n);break}}}finally{st=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?nt(r):""}function at(e){switch(e.tag){case 26:case 27:case 5:return nt(e.type);case 16:return nt("Lazy");case 13:return nt("Suspense");case 19:return nt("SuspenseList");case 0:case 15:return ot(e.type,!1);case 11:return ot(e.type.render,!1);case 1:return ot(e.type,!0);case 31:return nt("Activity");default:return""}}function lt(e){try{var t="";do{t+=at(e),e=e.return}while(e);return t}catch(r){return"\nError generating stack: "+r.message+"\n"+r.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ht(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var n=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(e){i=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function dt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),i="";return e&&(i=ut(e)?e.checked?"true":"false":e.value),(e=i)!==r&&(t.setValue(e),!0)}function ft(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var pt=/[\n"\\]/g;function mt(e){return e.replace(pt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function _t(e,t,r,i,n,s,o,a){e.name="",null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.type=o:e.removeAttribute("type"),null!=t?"number"===o?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==o&&"reset"!==o||e.removeAttribute("value"),null!=t?vt(e,o,ct(t)):null!=r?vt(e,o,ct(r)):null!=i&&e.removeAttribute("value"),null==n&&null!=s&&(e.defaultChecked=!!s),null!=n&&(e.checked=n&&"function"!==typeof n&&"symbol"!==typeof n),null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.name=""+ct(a):e.removeAttribute("name")}function gt(e,t,r,i,n,s,o,a){if(null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.type=s),null!=t||null!=r){if(!("submit"!==s&&"reset"!==s||void 0!==t&&null!==t))return;r=null!=r?""+ct(r):"",t=null!=t?""+ct(t):r,a||t===e.value||(e.value=t),e.defaultValue=t}i="function"!==typeof(i=null!=i?i:n)&&"symbol"!==typeof i&&!!i,e.checked=a?e.checked:!!i,e.defaultChecked=!!i,null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.name=o)}function vt(e,t,r){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function yt(e,t,r,i){if(e=e.options,t){t={};for(var n=0;n<r.length;n++)t["$"+r[n]]=!0;for(r=0;r<e.length;r++)n=t.hasOwnProperty("$"+e[r].value),e[r].selected!==n&&(e[r].selected=n),n&&i&&(e[r].defaultSelected=!0)}else{for(r=""+ct(r),t=null,n=0;n<e.length;n++){if(e[n].value===r)return e[n].selected=!0,void(i&&(e[n].defaultSelected=!0));null!==t||e[n].disabled||(t=e[n])}null!==t&&(t.selected=!0)}}function bt(e,t,r){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=r)?e.defaultValue=null!=r?""+ct(r):"":e.defaultValue!==t&&(e.defaultValue=t)}function St(e,t,r,i){if(null==t){if(null!=i){if(null!=r)throw Error(o(92));if(M(i)){if(1<i.length)throw Error(o(93));i=i[0]}r=i}null==r&&(r=""),t=r}r=ct(t),e.defaultValue=r,(i=e.textContent)===r&&""!==i&&null!==i&&(e.value=i)}function wt(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var Ct=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kt(e,t,r){var i=0===t.indexOf("--");null==r||"boolean"===typeof r||""===r?i?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":i?e.setProperty(t,r):"number"!==typeof r||0===r||Ct.has(t)?"float"===t?e.cssFloat=r:e[t]=(""+r).trim():e[t]=r+"px"}function xt(e,t,r){if(null!=t&&"object"!==typeof t)throw Error(o(62));if(e=e.style,null!=r){for(var i in r)!r.hasOwnProperty(i)||null!=t&&t.hasOwnProperty(i)||(0===i.indexOf("--")?e.setProperty(i,""):"float"===i?e.cssFloat="":e[i]="");for(var n in t)i=t[n],t.hasOwnProperty(n)&&r[n]!==i&&kt(e,n,i)}else for(var s in t)t.hasOwnProperty(s)&&kt(e,s,t[s])}function Et(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Lt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Rt(e){return Lt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Tt=null;function Pt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var At=null,Mt=null;function Ot(e){var t=Ue(e);if(t&&(e=t.stateNode)){var r=e[Me]||null;e:switch(e=t.stateNode,t.type){case"input":if(_t(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<r.length;t++){var i=r[t];if(i!==e&&i.form===e.form){var n=i[Me]||null;if(!n)throw Error(o(90));_t(i,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name)}}for(t=0;t<r.length;t++)(i=r[t]).form===e.form&&dt(i)}break e;case"textarea":bt(e,r.value,r.defaultValue);break e;case"select":null!=(t=r.value)&&yt(e,!!r.multiple,t,!1)}}}var Bt=!1;function It(e,t,r){if(Bt)return e(t,r);Bt=!0;try{return e(t)}finally{if(Bt=!1,(null!==At||null!==Mt)&&(zc(),At&&(t=At,e=Mt,Mt=At=null,Ot(t),e)))for(t=0;t<e.length;t++)Ot(e[t])}}function Nt(e,t){var r=e.stateNode;if(null===r)return null;var i=r[Me]||null;if(null===i)return null;r=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(o(231,t,typeof r));return r}var Ht=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Ft=!1;if(Ht)try{var jt={};Object.defineProperty(jt,"passive",{get:function(){Ft=!0}}),window.addEventListener("test",jt,jt),window.removeEventListener("test",jt,jt)}catch(Md){Ft=!1}var zt=null,Ut=null,Wt=null;function qt(){if(Wt)return Wt;var e,t,r=Ut,i=r.length,n="value"in zt?zt.value:zt.textContent,s=n.length;for(e=0;e<i&&r[e]===n[e];e++);var o=i-e;for(t=1;t<=o&&r[i-t]===n[s-t];t++);return Wt=n.slice(e,1<t?1-t:void 0)}function Kt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Vt(){return!0}function Xt(){return!1}function Gt(e){function t(t,r,i,n,s){for(var o in this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=n,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(n):n[o]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Vt:Xt,this.isPropagationStopped=Xt,this}return d(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Vt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Vt)},persist:function(){},isPersistent:Vt}),t}var $t,Yt,Qt,Jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zt=Gt(Jt),er=d({},Jt,{view:0,detail:0}),tr=Gt(er),rr=d({},er,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qt&&(Qt&&"mousemove"===e.type?($t=e.screenX-Qt.screenX,Yt=e.screenY-Qt.screenY):Yt=$t=0,Qt=e),$t)},movementY:function(e){return"movementY"in e?e.movementY:Yt}}),ir=Gt(rr),nr=Gt(d({},rr,{dataTransfer:0})),sr=Gt(d({},er,{relatedTarget:0})),or=Gt(d({},Jt,{animationName:0,elapsedTime:0,pseudoElement:0})),ar=Gt(d({},Jt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),lr=Gt(d({},Jt,{data:0})),cr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ur={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=hr[e])&&!!t[e]}function fr(){return dr}var pr=Gt(d({},er,{key:function(e){if(e.key){var t=cr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Kt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?ur[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fr,charCode:function(e){return"keypress"===e.type?Kt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Kt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),mr=Gt(d({},rr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),_r=Gt(d({},er,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fr})),gr=Gt(d({},Jt,{propertyName:0,elapsedTime:0,pseudoElement:0})),vr=Gt(d({},rr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),yr=Gt(d({},Jt,{newState:0,oldState:0})),br=[9,13,27,32],Sr=Ht&&"CompositionEvent"in window,wr=null;Ht&&"documentMode"in document&&(wr=document.documentMode);var Cr=Ht&&"TextEvent"in window&&!wr,kr=Ht&&(!Sr||wr&&8<wr&&11>=wr),xr=String.fromCharCode(32),Er=!1;function Dr(e,t){switch(e){case"keyup":return-1!==br.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lr(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Rr=!1;var Tr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Tr[e.type]:"textarea"===t}function Ar(e,t,r,i){At?Mt?Mt.push(i):Mt=[i]:At=i,0<(t=qu(t,"onChange")).length&&(r=new Zt("onChange","change",null,r,i),e.push({event:r,listeners:t}))}var Mr=null,Or=null;function Br(e){Iu(e,0)}function Ir(e){if(dt(We(e)))return e}function Nr(e,t){if("change"===e)return t}var Hr=!1;if(Ht){var Fr;if(Ht){var jr="oninput"in document;if(!jr){var zr=document.createElement("div");zr.setAttribute("oninput","return;"),jr="function"===typeof zr.oninput}Fr=jr}else Fr=!1;Hr=Fr&&(!document.documentMode||9<document.documentMode)}function Ur(){Mr&&(Mr.detachEvent("onpropertychange",Wr),Or=Mr=null)}function Wr(e){if("value"===e.propertyName&&Ir(Or)){var t=[];Ar(t,Or,e,Pt(e)),It(Br,t)}}function qr(e,t,r){"focusin"===e?(Ur(),Or=r,(Mr=t).attachEvent("onpropertychange",Wr)):"focusout"===e&&Ur()}function Kr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Ir(Or)}function Vr(e,t){if("click"===e)return Ir(t)}function Xr(e,t){if("input"===e||"change"===e)return Ir(t)}var Gr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function $r(e,t){if(Gr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++){var n=r[i];if(!Y.call(t,n)||!Gr(e[n],t[n]))return!1}return!0}function Yr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Qr(e,t){var r,i=Yr(e);for(e=0;i;){if(3===i.nodeType){if(r=e+i.textContent.length,e<=t&&r>=t)return{node:i,offset:t-e};e=r}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Yr(i)}}function Jr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Jr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Zr(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(i){r=!1}if(!r)break;t=ft((e=t.contentWindow).document)}return t}function ei(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ti=Ht&&"documentMode"in document&&11>=document.documentMode,ri=null,ii=null,ni=null,si=!1;function oi(e,t,r){var i=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;si||null==ri||ri!==ft(i)||("selectionStart"in(i=ri)&&ei(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},ni&&$r(ni,i)||(ni=i,0<(i=qu(ii,"onSelect")).length&&(t=new Zt("onSelect","select",null,t,r),e.push({event:t,listeners:i}),t.target=ri)))}function ai(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var li={animationend:ai("Animation","AnimationEnd"),animationiteration:ai("Animation","AnimationIteration"),animationstart:ai("Animation","AnimationStart"),transitionrun:ai("Transition","TransitionRun"),transitionstart:ai("Transition","TransitionStart"),transitioncancel:ai("Transition","TransitionCancel"),transitionend:ai("Transition","TransitionEnd")},ci={},ui={};function hi(e){if(ci[e])return ci[e];if(!li[e])return e;var t,r=li[e];for(t in r)if(r.hasOwnProperty(t)&&t in ui)return ci[e]=r[t];return e}Ht&&(ui=document.createElement("div").style,"AnimationEvent"in window||(delete li.animationend.animation,delete li.animationiteration.animation,delete li.animationstart.animation),"TransitionEvent"in window||delete li.transitionend.transition);var di=hi("animationend"),fi=hi("animationiteration"),pi=hi("animationstart"),mi=hi("transitionrun"),_i=hi("transitionstart"),gi=hi("transitioncancel"),vi=hi("transitionend"),yi=new Map,bi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Si(e,t){yi.set(e,t),Ge(t,[e])}bi.push("scrollEnd");var wi=new WeakMap;function Ci(e,t){if("object"===typeof e&&null!==e){var r=wi.get(e);return void 0!==r?r:(t={value:e,source:t,stack:lt(t)},wi.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var ki=[],xi=0,Ei=0;function Di(){for(var e=xi,t=Ei=xi=0;t<e;){var r=ki[t];ki[t++]=null;var i=ki[t];ki[t++]=null;var n=ki[t];ki[t++]=null;var s=ki[t];if(ki[t++]=null,null!==i&&null!==n){var o=i.pending;null===o?n.next=n:(n.next=o.next,o.next=n),i.pending=n}0!==s&&Pi(r,n,s)}}function Li(e,t,r,i){ki[xi++]=e,ki[xi++]=t,ki[xi++]=r,ki[xi++]=i,Ei|=i,e.lanes|=i,null!==(e=e.alternate)&&(e.lanes|=i)}function Ri(e,t,r,i){return Li(e,t,r,i),Ai(e)}function Ti(e,t){return Li(e,null,null,t),Ai(e)}function Pi(e,t,r){e.lanes|=r;var i=e.alternate;null!==i&&(i.lanes|=r);for(var n=!1,s=e.return;null!==s;)s.childLanes|=r,null!==(i=s.alternate)&&(i.childLanes|=r),22===s.tag&&(null===(e=s.stateNode)||1&e._visibility||(n=!0)),e=s,s=s.return;return 3===e.tag?(s=e.stateNode,n&&null!==t&&(n=31-fe(r),null===(i=(e=s.hiddenUpdates)[n])?e[n]=[t]:i.push(t),t.lane=536870912|r),s):null}function Ai(e){if(50<Ac)throw Ac=0,Mc=null,Error(o(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Mi={};function Oi(e,t,r,i){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bi(e,t,r,i){return new Oi(e,t,r,i)}function Ii(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ni(e,t){var r=e.alternate;return null===r?((r=Bi(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=65011712&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Hi(e,t){e.flags&=65011714;var r=e.alternate;return null===r?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,t=r.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Fi(e,t,r,i,n,s){var a=0;if(i=e,"function"===typeof e)Ii(e)&&(a=1);else if("string"===typeof e)a=function(e,t,r){if(1===r||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,r,U.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case D:return(e=Bi(31,r,t,n)).elementType=D,e.lanes=s,e;case _:return ji(r.children,n,s,t);case g:a=8,n|=24;break;case v:return(e=Bi(12,r,t,2|n)).elementType=v,e.lanes=s,e;case C:return(e=Bi(13,r,t,n)).elementType=C,e.lanes=s,e;case k:return(e=Bi(19,r,t,n)).elementType=k,e.lanes=s,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case y:case S:a=10;break e;case b:a=9;break e;case w:a=11;break e;case x:a=14;break e;case E:a=16,i=null;break e}a=29,r=Error(o(130,null===e?"null":typeof e,"")),i=null}return(t=Bi(a,r,t,n)).elementType=e,t.type=i,t.lanes=s,t}function ji(e,t,r,i){return(e=Bi(7,e,i,t)).lanes=r,e}function zi(e,t,r){return(e=Bi(6,e,null,t)).lanes=r,e}function Ui(e,t,r){return(t=Bi(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Wi=[],qi=0,Ki=null,Vi=0,Xi=[],Gi=0,$i=null,Yi=1,Qi="";function Ji(e,t){Wi[qi++]=Vi,Wi[qi++]=Ki,Ki=e,Vi=t}function Zi(e,t,r){Xi[Gi++]=Yi,Xi[Gi++]=Qi,Xi[Gi++]=$i,$i=e;var i=Yi;e=Qi;var n=32-fe(i)-1;i&=~(1<<n),r+=1;var s=32-fe(t)+n;if(30<s){var o=n-n%5;s=(i&(1<<o)-1).toString(32),i>>=o,n-=o,Yi=1<<32-fe(t)+n|r<<n|i,Qi=s+e}else Yi=1<<s|r<<n|i,Qi=e}function en(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function tn(e){for(;e===Ki;)Ki=Wi[--qi],Wi[qi]=null,Vi=Wi[--qi],Wi[qi]=null;for(;e===$i;)$i=Xi[--Gi],Xi[Gi]=null,Qi=Xi[--Gi],Xi[Gi]=null,Yi=Xi[--Gi],Xi[Gi]=null}var rn=null,nn=null,sn=!1,on=null,an=!1,ln=Error(o(519));function cn(e){throw mn(Ci(Error(o(418,"")),e)),ln}function un(e){var t=e.stateNode,r=e.type,i=e.memoizedProps;switch(t[Ae]=e,t[Me]=i,r){case"dialog":Nu("cancel",t),Nu("close",t);break;case"iframe":case"object":case"embed":Nu("load",t);break;case"video":case"audio":for(r=0;r<Ou.length;r++)Nu(Ou[r],t);break;case"source":Nu("error",t);break;case"img":case"image":case"link":Nu("error",t),Nu("load",t);break;case"details":Nu("toggle",t);break;case"input":Nu("invalid",t),gt(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),ht(t);break;case"select":Nu("invalid",t);break;case"textarea":Nu("invalid",t),St(t,i.value,i.defaultValue,i.children),ht(t)}"string"!==typeof(r=i.children)&&"number"!==typeof r&&"bigint"!==typeof r||t.textContent===""+r||!0===i.suppressHydrationWarning||Yu(t.textContent,r)?(null!=i.popover&&(Nu("beforetoggle",t),Nu("toggle",t)),null!=i.onScroll&&Nu("scroll",t),null!=i.onScrollEnd&&Nu("scrollend",t),null!=i.onClick&&(t.onclick=Qu),t=!0):t=!1,t||cn(e)}function hn(e){for(rn=e.return;rn;)switch(rn.tag){case 5:case 13:return void(an=!1);case 27:case 3:return void(an=!0);default:rn=rn.return}}function dn(e){if(e!==rn)return!1;if(!sn)return hn(e),sn=!0,!1;var t,r=e.tag;if((t=3!==r&&27!==r)&&((t=5===r)&&(t=!("form"!==(t=e.type)&&"button"!==t)||oh(e.type,e.memoizedProps)),t=!t),t&&nn&&cn(e),hn(e),13===r){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,r=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===r){nn=gh(e.nextSibling);break e}r--}else"$"!==t&&"$!"!==t&&"$?"!==t||r++;e=e.nextSibling}nn=null}}else 27===r?(r=nn,fh(e.type)?(e=vh,vh=null,nn=e):nn=r):nn=rn?gh(e.stateNode.nextSibling):null;return!0}function fn(){nn=rn=null,sn=!1}function pn(){var e=on;return null!==e&&(null===yc?yc=e:yc.push.apply(yc,e),on=null),e}function mn(e){null===on?on=[e]:on.push(e)}var _n=F(null),gn=null,vn=null;function yn(e,t,r){z(_n,t._currentValue),t._currentValue=r}function bn(e){e._currentValue=_n.current,j(_n)}function Sn(e,t,r){for(;null!==e;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==i&&(i.childLanes|=t)):null!==i&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===r)break;e=e.return}}function wn(e,t,r,i){var n=e.child;for(null!==n&&(n.return=e);null!==n;){var s=n.dependencies;if(null!==s){var a=n.child;s=s.firstContext;e:for(;null!==s;){var l=s;s=n;for(var c=0;c<t.length;c++)if(l.context===t[c]){s.lanes|=r,null!==(l=s.alternate)&&(l.lanes|=r),Sn(s.return,r,e),i||(a=null);break e}s=l.next}}else if(18===n.tag){if(null===(a=n.return))throw Error(o(341));a.lanes|=r,null!==(s=a.alternate)&&(s.lanes|=r),Sn(a,r,e),a=null}else a=n.child;if(null!==a)a.return=n;else for(a=n;null!==a;){if(a===e){a=null;break}if(null!==(n=a.sibling)){n.return=a.return,a=n;break}a=a.return}n=a}}function Cn(e,t,r,i){e=null;for(var n=t,s=!1;null!==n;){if(!s)if(0!==(524288&n.flags))s=!0;else if(0!==(262144&n.flags))break;if(10===n.tag){var a=n.alternate;if(null===a)throw Error(o(387));if(null!==(a=a.memoizedProps)){var l=n.type;Gr(n.pendingProps.value,a.value)||(null!==e?e.push(l):e=[l])}}else if(n===K.current){if(null===(a=n.alternate))throw Error(o(387));a.memoizedState.memoizedState!==n.memoizedState.memoizedState&&(null!==e?e.push(Gh):e=[Gh])}n=n.return}null!==e&&wn(t,e,r,i),t.flags|=262144}function kn(e){for(e=e.firstContext;null!==e;){if(!Gr(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function xn(e){gn=e,vn=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function En(e){return Ln(gn,e)}function Dn(e,t){return null===gn&&xn(e),Ln(e,t)}function Ln(e,t){var r=t._currentValue;if(t={context:t,memoizedValue:r,next:null},null===vn){if(null===e)throw Error(o(308));vn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else vn=vn.next=t;return r}var Rn="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Tn=i.unstable_scheduleCallback,Pn=i.unstable_NormalPriority,An={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mn(){return{controller:new Rn,data:new Map,refCount:0}}function On(e){e.refCount--,0===e.refCount&&Tn(Pn,function(){e.controller.abort()})}var Bn=null,In=0,Nn=0,Hn=null;function Fn(){if(0===--In&&null!==Bn){null!==Hn&&(Hn.status="fulfilled");var e=Bn;Bn=null,Nn=0,Hn=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var jn=O.S;O.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Bn){var r=Bn=[];In=0,Nn=Ru(),Hn={status:"pending",value:void 0,then:function(e){r.push(e)}}}In++,t.then(Fn,Fn)}(0,t),null!==jn&&jn(e,t)};var zn=F(null);function Un(){var e=zn.current;return null!==e?e:ic.pooledCache}function Wn(e,t){z(zn,null===t?zn.current:t.pool)}function qn(){var e=Un();return null===e?null:{parent:An._currentValue,pool:e}}var Kn=Error(o(460)),Vn=Error(o(474)),Xn=Error(o(542)),Gn={then:function(){}};function $n(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Yn(){}function Qn(e,t,r){switch(void 0===(r=e[r])?e.push(t):r!==t&&(t.then(Yn,Yn),t=r),t.status){case"fulfilled":return t.value;case"rejected":throw es(e=t.reason),e;default:if("string"===typeof t.status)t.then(Yn,Yn);else{if(null!==(e=ic)&&100<e.shellSuspendCounter)throw Error(o(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var r=t;r.status="fulfilled",r.value=e}},function(e){if("pending"===t.status){var r=t;r.status="rejected",r.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw es(e=t.reason),e}throw Jn=t,Kn}}var Jn=null;function Zn(){if(null===Jn)throw Error(o(459));var e=Jn;return Jn=null,e}function es(e){if(e===Kn||e===Xn)throw Error(o(483))}var ts=!1;function rs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function is(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ns(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ss(e,t,r){var i=e.updateQueue;if(null===i)return null;if(i=i.shared,0!==(2&rc)){var n=i.pending;return null===n?t.next=t:(t.next=n.next,n.next=t),i.pending=t,t=Ai(e),Pi(e,null,r),t}return Li(e,i,t,r),Ai(e)}function os(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&r))){var i=t.lanes;r|=i&=e.pendingLanes,t.lanes=r,De(e,r)}}function as(e,t){var r=e.updateQueue,i=e.alternate;if(null!==i&&r===(i=i.updateQueue)){var n=null,s=null;if(null!==(r=r.firstBaseUpdate)){do{var o={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};null===s?n=s=o:s=s.next=o,r=r.next}while(null!==r);null===s?n=s=t:s=s.next=t}else n=s=t;return r={baseState:i.baseState,firstBaseUpdate:n,lastBaseUpdate:s,shared:i.shared,callbacks:i.callbacks},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}var ls=!1;function cs(){if(ls){if(null!==Hn)throw Hn}}function us(e,t,r,i){ls=!1;var n=e.updateQueue;ts=!1;var s=n.firstBaseUpdate,o=n.lastBaseUpdate,a=n.shared.pending;if(null!==a){n.shared.pending=null;var l=a,c=l.next;l.next=null,null===o?s=c:o.next=c,o=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==s){var h=n.baseState;for(o=0,u=c=l=null,a=s;;){var f=-536870913&a.lane,p=f!==a.lane;if(p?(sc&f)===f:(i&f)===f){0!==f&&f===Nn&&(ls=!0),null!==u&&(u=u.next={lane:0,tag:a.tag,payload:a.payload,callback:null,next:null});e:{var m=e,_=a;f=t;var g=r;switch(_.tag){case 1:if("function"===typeof(m=_.payload)){h=m.call(g,h,f);break e}h=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(f="function"===typeof(m=_.payload)?m.call(g,h,f):m)||void 0===f)break e;h=d({},h,f);break e;case 2:ts=!0}}null!==(f=a.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=n.callbacks)?n.callbacks=[f]:p.push(f))}else p={lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=p,l=h):u=u.next=p,o|=f;if(null===(a=a.next)){if(null===(a=n.shared.pending))break;a=(p=a).next,p.next=null,n.lastBaseUpdate=p,n.shared.pending=null}}null===u&&(l=h),n.baseState=l,n.firstBaseUpdate=c,n.lastBaseUpdate=u,null===s&&(n.shared.lanes=0),fc|=o,e.lanes=o,e.memoizedState=h}}function hs(e,t){if("function"!==typeof e)throw Error(o(191,e));e.call(t)}function ds(e,t){var r=e.callbacks;if(null!==r)for(e.callbacks=null,e=0;e<r.length;e++)hs(r[e],t)}var fs=F(null),ps=F(0);function ms(e,t){z(ps,e=hc),z(fs,t),hc=e|t.baseLanes}function _s(){z(ps,hc),z(fs,fs.current)}function gs(){hc=ps.current,j(fs),j(ps)}var vs=0,ys=null,bs=null,Ss=null,ws=!1,Cs=!1,ks=!1,xs=0,Es=0,Ds=null,Ls=0;function Rs(){throw Error(o(321))}function Ts(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Gr(e[r],t[r]))return!1;return!0}function Ps(e,t,r,i,n,s){return vs=s,ys=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,O.H=null===e||null===e.memoizedState?Vo:Xo,ks=!1,s=r(i,n),ks=!1,Cs&&(s=Ms(t,r,i,n)),As(e),s}function As(e){O.H=Ko;var t=null!==bs&&null!==bs.next;if(vs=0,Ss=bs=ys=null,ws=!1,Es=0,Ds=null,t)throw Error(o(300));null===e||Da||null!==(e=e.dependencies)&&kn(e)&&(Da=!0)}function Ms(e,t,r,i){ys=e;var n=0;do{if(Cs&&(Ds=null),Es=0,Cs=!1,25<=n)throw Error(o(301));if(n+=1,Ss=bs=null,null!=e.updateQueue){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,null!=s.memoCache&&(s.memoCache.index=0)}O.H=Go,s=t(r,i)}while(Cs);return s}function Os(){var e=O.H,t=e.useState()[0];return t="function"===typeof t.then?js(t):t,e=e.useState()[0],(null!==bs?bs.memoizedState:null)!==e&&(ys.flags|=1024),t}function Bs(){var e=0!==xs;return xs=0,e}function Is(e,t,r){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r}function Ns(e){if(ws){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}ws=!1}vs=0,Ss=bs=ys=null,Cs=!1,Es=xs=0,Ds=null}function Hs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ss?ys.memoizedState=Ss=e:Ss=Ss.next=e,Ss}function Fs(){if(null===bs){var e=ys.alternate;e=null!==e?e.memoizedState:null}else e=bs.next;var t=null===Ss?ys.memoizedState:Ss.next;if(null!==t)Ss=t,bs=e;else{if(null===e){if(null===ys.alternate)throw Error(o(467));throw Error(o(310))}e={memoizedState:(bs=e).memoizedState,baseState:bs.baseState,baseQueue:bs.baseQueue,queue:bs.queue,next:null},null===Ss?ys.memoizedState=Ss=e:Ss=Ss.next=e}return Ss}function js(e){var t=Es;return Es+=1,null===Ds&&(Ds=[]),e=Qn(Ds,e,t),t=ys,null===(null===Ss?t.memoizedState:Ss.next)&&(t=t.alternate,O.H=null===t||null===t.memoizedState?Vo:Xo),e}function zs(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return js(e);if(e.$$typeof===S)return En(e)}throw Error(o(438,String(e)))}function Us(e){var t=null,r=ys.updateQueue;if(null!==r&&(t=r.memoCache),null==t){var i=ys.alternate;null!==i&&(null!==(i=i.updateQueue)&&(null!=(i=i.memoCache)&&(t={data:i.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===r&&(r={lastEffect:null,events:null,stores:null,memoCache:null},ys.updateQueue=r),r.memoCache=t,void 0===(r=t.data[t.index]))for(r=t.data[t.index]=Array(e),i=0;i<e;i++)r[i]=L;return t.index++,r}function Ws(e,t){return"function"===typeof t?t(e):t}function qs(e){return Ks(Fs(),bs,e)}function Ks(e,t,r){var i=e.queue;if(null===i)throw Error(o(311));i.lastRenderedReducer=r;var n=e.baseQueue,s=i.pending;if(null!==s){if(null!==n){var a=n.next;n.next=s.next,s.next=a}t.baseQueue=n=s,i.pending=null}if(s=e.baseState,null===n)e.memoizedState=s;else{var l=a=null,c=null,u=t=n.next,h=!1;do{var d=-536870913&u.lane;if(d!==u.lane?(sc&d)===d:(vs&d)===d){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),d===Nn&&(h=!0);else{if((vs&f)===f){u=u.next,f===Nn&&(h=!0);continue}d={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=d,a=s):c=c.next=d,ys.lanes|=f,fc|=f}d=u.action,ks&&r(s,d),s=u.hasEagerState?u.eagerState:r(s,d)}else f={lane:d,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,a=s):c=c.next=f,ys.lanes|=d,fc|=d;u=u.next}while(null!==u&&u!==t);if(null===c?a=s:c.next=l,!Gr(s,e.memoizedState)&&(Da=!0,h&&null!==(r=Hn)))throw r;e.memoizedState=s,e.baseState=a,e.baseQueue=c,i.lastRenderedState=s}return null===n&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Vs(e){var t=Fs(),r=t.queue;if(null===r)throw Error(o(311));r.lastRenderedReducer=e;var i=r.dispatch,n=r.pending,s=t.memoizedState;if(null!==n){r.pending=null;var a=n=n.next;do{s=e(s,a.action),a=a.next}while(a!==n);Gr(s,t.memoizedState)||(Da=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),r.lastRenderedState=s}return[s,i]}function Xs(e,t,r){var i=ys,n=Fs(),s=sn;if(s){if(void 0===r)throw Error(o(407));r=r()}else r=t();var a=!Gr((bs||n).memoizedState,r);if(a&&(n.memoizedState=r,Da=!0),n=n.queue,go(2048,8,Ys.bind(null,i,n,e),[e]),n.getSnapshot!==t||a||null!==Ss&&1&Ss.memoizedState.tag){if(i.flags|=2048,po(9,{destroy:void 0,resource:void 0},$s.bind(null,i,n,r,t),null),null===ic)throw Error(o(349));s||0!==(124&vs)||Gs(i,t,r)}return r}function Gs(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=ys.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},ys.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function $s(e,t,r,i){t.value=r,t.getSnapshot=i,Qs(t)&&Js(e)}function Ys(e,t,r){return r(function(){Qs(t)&&Js(e)})}function Qs(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Gr(e,r)}catch(i){return!0}}function Js(e){var t=Ti(e,2);null!==t&&Ic(t,e,2)}function Zs(e){var t=Hs();if("function"===typeof e){var r=e;if(e=r(),ks){de(!0);try{r()}finally{de(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ws,lastRenderedState:e},t}function eo(e,t,r,i){return e.baseState=r,Ks(e,bs,"function"===typeof i?i:Ws)}function to(e,t,r,i,n){if(Uo(e))throw Error(o(485));if(null!==(e=t.action)){var s={payload:n,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){s.listeners.push(e)}};null!==O.T?r(!0):s.isTransition=!1,i(s),null===(r=t.pending)?(s.next=t.pending=s,ro(t,s)):(s.next=r.next,t.pending=r.next=s)}}function ro(e,t){var r=t.action,i=t.payload,n=e.state;if(t.isTransition){var s=O.T,o={};O.T=o;try{var a=r(n,i),l=O.S;null!==l&&l(o,a),io(e,t,a)}catch(c){so(e,t,c)}finally{O.T=s}}else try{io(e,t,s=r(n,i))}catch(u){so(e,t,u)}}function io(e,t,r){null!==r&&"object"===typeof r&&"function"===typeof r.then?r.then(function(r){no(e,t,r)},function(r){return so(e,t,r)}):no(e,t,r)}function no(e,t,r){t.status="fulfilled",t.value=r,oo(t),e.state=r,null!==(t=e.pending)&&((r=t.next)===t?e.pending=null:(r=r.next,t.next=r,ro(e,r)))}function so(e,t,r){var i=e.pending;if(e.pending=null,null!==i){i=i.next;do{t.status="rejected",t.reason=r,oo(t),t=t.next}while(t!==i)}e.action=null}function oo(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ao(e,t){return t}function lo(e,t){if(sn){var r=ic.formState;if(null!==r){e:{var i=ys;if(sn){if(nn){t:{for(var n=nn,s=an;8!==n.nodeType;){if(!s){n=null;break t}if(null===(n=gh(n.nextSibling))){n=null;break t}}n="F!"===(s=n.data)||"F"===s?n:null}if(n){nn=gh(n.nextSibling),i="F!"===n.data;break e}}cn(i)}i=!1}i&&(t=r[0])}}return(r=Hs()).memoizedState=r.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ao,lastRenderedState:t},r.queue=i,r=Fo.bind(null,ys,i),i.dispatch=r,i=Zs(!1),s=zo.bind(null,ys,!1,i.queue),n={state:t,dispatch:null,action:e,pending:null},(i=Hs()).queue=n,r=to.bind(null,ys,n,s,r),n.dispatch=r,i.memoizedState=e,[t,r,!1]}function co(e){return uo(Fs(),bs,e)}function uo(e,t,r){if(t=Ks(e,t,ao)[0],e=qs(Ws)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var i=js(t)}catch(o){if(o===Kn)throw Xn;throw o}else i=t;var n=(t=Fs()).queue,s=n.dispatch;return r!==t.memoizedState&&(ys.flags|=2048,po(9,{destroy:void 0,resource:void 0},ho.bind(null,n,r),null)),[i,s,e]}function ho(e,t){e.action=t}function fo(e){var t=Fs(),r=bs;if(null!==r)return uo(t,r,e);Fs(),t=t.memoizedState;var i=(r=Fs()).queue.dispatch;return r.memoizedState=e,[t,i,!1]}function po(e,t,r,i){return e={tag:e,create:r,deps:i,inst:t,next:null},null===(t=ys.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},ys.updateQueue=t),null===(r=t.lastEffect)?t.lastEffect=e.next=e:(i=r.next,r.next=e,e.next=i,t.lastEffect=e),e}function mo(){return Fs().memoizedState}function _o(e,t,r,i){var n=Hs();i=void 0===i?null:i,ys.flags|=e,n.memoizedState=po(1|t,{destroy:void 0,resource:void 0},r,i)}function go(e,t,r,i){var n=Fs();i=void 0===i?null:i;var s=n.memoizedState.inst;null!==bs&&null!==i&&Ts(i,bs.memoizedState.deps)?n.memoizedState=po(t,s,r,i):(ys.flags|=e,n.memoizedState=po(1|t,s,r,i))}function vo(e,t){_o(8390656,8,e,t)}function yo(e,t){go(2048,8,e,t)}function bo(e,t){return go(4,2,e,t)}function So(e,t){return go(4,4,e,t)}function wo(e,t){if("function"===typeof t){e=e();var r=t(e);return function(){"function"===typeof r?r():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Co(e,t,r){r=null!==r&&void 0!==r?r.concat([e]):null,go(4,4,wo.bind(null,t,e),r)}function ko(){}function xo(e,t){var r=Fs();t=void 0===t?null:t;var i=r.memoizedState;return null!==t&&Ts(t,i[1])?i[0]:(r.memoizedState=[e,t],e)}function Eo(e,t){var r=Fs();t=void 0===t?null:t;var i=r.memoizedState;if(null!==t&&Ts(t,i[1]))return i[0];if(i=e(),ks){de(!0);try{e()}finally{de(!1)}}return r.memoizedState=[i,t],i}function Do(e,t,r){return void 0===r||0!==(1073741824&vs)?e.memoizedState=t:(e.memoizedState=r,e=Bc(),ys.lanes|=e,fc|=e,r)}function Lo(e,t,r,i){return Gr(r,t)?r:null!==fs.current?(e=Do(e,r,i),Gr(e,t)||(Da=!0),e):0===(42&vs)?(Da=!0,e.memoizedState=r):(e=Bc(),ys.lanes|=e,fc|=e,t)}function Ro(e,t,r,i,n){var s=B.p;B.p=0!==s&&8>s?s:8;var o=O.T,a={};O.T=a,zo(e,!1,t,r);try{var l=n(),c=O.S;if(null!==c&&c(a,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)jo(e,t,function(e,t){var r=[],i={status:"pending",value:null,reason:null,then:function(e){r.push(e)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var e=0;e<r.length;e++)(0,r[e])(t)},function(e){for(i.status="rejected",i.reason=e,e=0;e<r.length;e++)(0,r[e])(void 0)}),i}(l,i),Oc());else jo(e,t,i,Oc())}catch(u){jo(e,t,{then:function(){},status:"rejected",reason:u},Oc())}finally{B.p=s,O.T=o}}function To(){}function Po(e,t,r,i){if(5!==e.tag)throw Error(o(476));var n=Ao(e).queue;Ro(e,n,t,I,null===r?To:function(){return Mo(e),r(i)})}function Ao(e){var t=e.memoizedState;if(null!==t)return t;var r={};return(t={memoizedState:I,baseState:I,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ws,lastRenderedState:I},next:null}).next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ws,lastRenderedState:r},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Mo(e){jo(e,Ao(e).next.queue,{},Oc())}function Oo(){return En(Gh)}function Bo(){return Fs().memoizedState}function Io(){return Fs().memoizedState}function No(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var r=Oc(),i=ss(t,e=ns(r),r);return null!==i&&(Ic(i,t,r),os(i,t,r)),t={cache:Mn()},void(e.payload=t)}t=t.return}}function Ho(e,t,r){var i=Oc();r={lane:i,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Uo(e)?Wo(t,r):null!==(r=Ri(e,t,r,i))&&(Ic(r,e,i),qo(r,t,i))}function Fo(e,t,r){jo(e,t,r,Oc())}function jo(e,t,r,i){var n={lane:i,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Uo(e))Wo(t,n);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,r);if(n.hasEagerState=!0,n.eagerState=a,Gr(a,o))return Li(e,t,n,0),null===ic&&Di(),!1}catch(l){}if(null!==(r=Ri(e,t,n,i)))return Ic(r,e,i),qo(r,t,i),!0}return!1}function zo(e,t,r,i){if(i={lane:2,revertLane:Ru(),action:i,hasEagerState:!1,eagerState:null,next:null},Uo(e)){if(t)throw Error(o(479))}else null!==(t=Ri(e,r,i,2))&&Ic(t,e,2)}function Uo(e){var t=e.alternate;return e===ys||null!==t&&t===ys}function Wo(e,t){Cs=ws=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function qo(e,t,r){if(0!==(4194048&r)){var i=t.lanes;r|=i&=e.pendingLanes,t.lanes=r,De(e,r)}}var Ko={readContext:En,use:zs,useCallback:Rs,useContext:Rs,useEffect:Rs,useImperativeHandle:Rs,useLayoutEffect:Rs,useInsertionEffect:Rs,useMemo:Rs,useReducer:Rs,useRef:Rs,useState:Rs,useDebugValue:Rs,useDeferredValue:Rs,useTransition:Rs,useSyncExternalStore:Rs,useId:Rs,useHostTransitionStatus:Rs,useFormState:Rs,useActionState:Rs,useOptimistic:Rs,useMemoCache:Rs,useCacheRefresh:Rs},Vo={readContext:En,use:zs,useCallback:function(e,t){return Hs().memoizedState=[e,void 0===t?null:t],e},useContext:En,useEffect:vo,useImperativeHandle:function(e,t,r){r=null!==r&&void 0!==r?r.concat([e]):null,_o(4194308,4,wo.bind(null,t,e),r)},useLayoutEffect:function(e,t){return _o(4194308,4,e,t)},useInsertionEffect:function(e,t){_o(4,2,e,t)},useMemo:function(e,t){var r=Hs();t=void 0===t?null:t;var i=e();if(ks){de(!0);try{e()}finally{de(!1)}}return r.memoizedState=[i,t],i},useReducer:function(e,t,r){var i=Hs();if(void 0!==r){var n=r(t);if(ks){de(!0);try{r(t)}finally{de(!1)}}}else n=t;return i.memoizedState=i.baseState=n,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},i.queue=e,e=e.dispatch=Ho.bind(null,ys,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},Hs().memoizedState=e},useState:function(e){var t=(e=Zs(e)).queue,r=Fo.bind(null,ys,t);return t.dispatch=r,[e.memoizedState,r]},useDebugValue:ko,useDeferredValue:function(e,t){return Do(Hs(),e,t)},useTransition:function(){var e=Zs(!1);return e=Ro.bind(null,ys,e.queue,!0,!1),Hs().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,r){var i=ys,n=Hs();if(sn){if(void 0===r)throw Error(o(407));r=r()}else{if(r=t(),null===ic)throw Error(o(349));0!==(124&sc)||Gs(i,t,r)}n.memoizedState=r;var s={value:r,getSnapshot:t};return n.queue=s,vo(Ys.bind(null,i,s,e),[e]),i.flags|=2048,po(9,{destroy:void 0,resource:void 0},$s.bind(null,i,s,r,t),null),r},useId:function(){var e=Hs(),t=ic.identifierPrefix;if(sn){var r=Qi;t="\xab"+t+"R"+(r=(Yi&~(1<<32-fe(Yi)-1)).toString(32)+r),0<(r=xs++)&&(t+="H"+r.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(r=Ls++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Oo,useFormState:lo,useActionState:lo,useOptimistic:function(e){var t=Hs();t.memoizedState=t.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=r,t=zo.bind(null,ys,!0,r),r.dispatch=t,[e,t]},useMemoCache:Us,useCacheRefresh:function(){return Hs().memoizedState=No.bind(null,ys)}},Xo={readContext:En,use:zs,useCallback:xo,useContext:En,useEffect:yo,useImperativeHandle:Co,useInsertionEffect:bo,useLayoutEffect:So,useMemo:Eo,useReducer:qs,useRef:mo,useState:function(){return qs(Ws)},useDebugValue:ko,useDeferredValue:function(e,t){return Lo(Fs(),bs.memoizedState,e,t)},useTransition:function(){var e=qs(Ws)[0],t=Fs().memoizedState;return["boolean"===typeof e?e:js(e),t]},useSyncExternalStore:Xs,useId:Bo,useHostTransitionStatus:Oo,useFormState:co,useActionState:co,useOptimistic:function(e,t){return eo(Fs(),0,e,t)},useMemoCache:Us,useCacheRefresh:Io},Go={readContext:En,use:zs,useCallback:xo,useContext:En,useEffect:yo,useImperativeHandle:Co,useInsertionEffect:bo,useLayoutEffect:So,useMemo:Eo,useReducer:Vs,useRef:mo,useState:function(){return Vs(Ws)},useDebugValue:ko,useDeferredValue:function(e,t){var r=Fs();return null===bs?Do(r,e,t):Lo(r,bs.memoizedState,e,t)},useTransition:function(){var e=Vs(Ws)[0],t=Fs().memoizedState;return["boolean"===typeof e?e:js(e),t]},useSyncExternalStore:Xs,useId:Bo,useHostTransitionStatus:Oo,useFormState:fo,useActionState:fo,useOptimistic:function(e,t){var r=Fs();return null!==bs?eo(r,0,e,t):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:Us,useCacheRefresh:Io},$o=null,Yo=0;function Qo(e){var t=Yo;return Yo+=1,null===$o&&($o=[]),Qn($o,e,t)}function Jo(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Zo(e,t){if(t.$$typeof===f)throw Error(o(525));throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ea(e){return(0,e._init)(e._payload)}function ta(e){function t(t,r){if(e){var i=t.deletions;null===i?(t.deletions=[r],t.flags|=16):i.push(r)}}function r(r,i){if(!e)return null;for(;null!==i;)t(r,i),i=i.sibling;return null}function i(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function n(e,t){return(e=Ni(e,t)).index=0,e.sibling=null,e}function s(t,r,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<r?(t.flags|=67108866,r):i:(t.flags|=67108866,r):(t.flags|=1048576,r)}function a(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,r,i){return null===t||6!==t.tag?((t=zi(r,e.mode,i)).return=e,t):((t=n(t,r)).return=e,t)}function c(e,t,r,i){var s=r.type;return s===_?h(e,t,r.props.children,i,r.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===E&&ea(s)===t.type)?(Jo(t=n(t,r.props),r),t.return=e,t):(Jo(t=Fi(r.type,r.key,r.props,null,e.mode,i),r),t.return=e,t)}function u(e,t,r,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Ui(r,e.mode,i)).return=e,t):((t=n(t,r.children||[])).return=e,t)}function h(e,t,r,i,s){return null===t||7!==t.tag?((t=ji(r,e.mode,i,s)).return=e,t):((t=n(t,r)).return=e,t)}function d(e,t,r){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=zi(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case p:return Jo(r=Fi(t.type,t.key,t.props,null,e.mode,r),t),r.return=e,r;case m:return(t=Ui(t,e.mode,r)).return=e,t;case E:return d(e,t=(0,t._init)(t._payload),r)}if(M(t)||T(t))return(t=ji(t,e.mode,r,null)).return=e,t;if("function"===typeof t.then)return d(e,Qo(t),r);if(t.$$typeof===S)return d(e,Dn(e,t),r);Zo(e,t)}return null}function f(e,t,r,i){var n=null!==t?t.key:null;if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return null!==n?null:l(e,t,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case p:return r.key===n?c(e,t,r,i):null;case m:return r.key===n?u(e,t,r,i):null;case E:return f(e,t,r=(n=r._init)(r._payload),i)}if(M(r)||T(r))return null!==n?null:h(e,t,r,i,null);if("function"===typeof r.then)return f(e,t,Qo(r),i);if(r.$$typeof===S)return f(e,t,Dn(e,r),i);Zo(e,r)}return null}function g(e,t,r,i,n){if("string"===typeof i&&""!==i||"number"===typeof i||"bigint"===typeof i)return l(t,e=e.get(r)||null,""+i,n);if("object"===typeof i&&null!==i){switch(i.$$typeof){case p:return c(t,e=e.get(null===i.key?r:i.key)||null,i,n);case m:return u(t,e=e.get(null===i.key?r:i.key)||null,i,n);case E:return g(e,t,r,i=(0,i._init)(i._payload),n)}if(M(i)||T(i))return h(t,e=e.get(r)||null,i,n,null);if("function"===typeof i.then)return g(e,t,r,Qo(i),n);if(i.$$typeof===S)return g(e,t,r,Dn(t,i),n);Zo(t,i)}return null}function v(l,c,u,h){if("object"===typeof u&&null!==u&&u.type===_&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case p:e:{for(var y=u.key;null!==c;){if(c.key===y){if((y=u.type)===_){if(7===c.tag){r(l,c.sibling),(h=n(c,u.props.children)).return=l,l=h;break e}}else if(c.elementType===y||"object"===typeof y&&null!==y&&y.$$typeof===E&&ea(y)===c.type){r(l,c.sibling),Jo(h=n(c,u.props),u),h.return=l,l=h;break e}r(l,c);break}t(l,c),c=c.sibling}u.type===_?((h=ji(u.props.children,l.mode,h,u.key)).return=l,l=h):(Jo(h=Fi(u.type,u.key,u.props,null,l.mode,h),u),h.return=l,l=h)}return a(l);case m:e:{for(y=u.key;null!==c;){if(c.key===y){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){r(l,c.sibling),(h=n(c,u.children||[])).return=l,l=h;break e}r(l,c);break}t(l,c),c=c.sibling}(h=Ui(u,l.mode,h)).return=l,l=h}return a(l);case E:return v(l,c,u=(y=u._init)(u._payload),h)}if(M(u))return function(n,o,a,l){for(var c=null,u=null,h=o,p=o=0,m=null;null!==h&&p<a.length;p++){h.index>p?(m=h,h=null):m=h.sibling;var _=f(n,h,a[p],l);if(null===_){null===h&&(h=m);break}e&&h&&null===_.alternate&&t(n,h),o=s(_,o,p),null===u?c=_:u.sibling=_,u=_,h=m}if(p===a.length)return r(n,h),sn&&Ji(n,p),c;if(null===h){for(;p<a.length;p++)null!==(h=d(n,a[p],l))&&(o=s(h,o,p),null===u?c=h:u.sibling=h,u=h);return sn&&Ji(n,p),c}for(h=i(h);p<a.length;p++)null!==(m=g(h,n,p,a[p],l))&&(e&&null!==m.alternate&&h.delete(null===m.key?p:m.key),o=s(m,o,p),null===u?c=m:u.sibling=m,u=m);return e&&h.forEach(function(e){return t(n,e)}),sn&&Ji(n,p),c}(l,c,u,h);if(T(u)){if("function"!==typeof(y=T(u)))throw Error(o(150));return function(n,a,l,c){if(null==l)throw Error(o(151));for(var u=null,h=null,p=a,m=a=0,_=null,v=l.next();null!==p&&!v.done;m++,v=l.next()){p.index>m?(_=p,p=null):_=p.sibling;var y=f(n,p,v.value,c);if(null===y){null===p&&(p=_);break}e&&p&&null===y.alternate&&t(n,p),a=s(y,a,m),null===h?u=y:h.sibling=y,h=y,p=_}if(v.done)return r(n,p),sn&&Ji(n,m),u;if(null===p){for(;!v.done;m++,v=l.next())null!==(v=d(n,v.value,c))&&(a=s(v,a,m),null===h?u=v:h.sibling=v,h=v);return sn&&Ji(n,m),u}for(p=i(p);!v.done;m++,v=l.next())null!==(v=g(p,n,m,v.value,c))&&(e&&null!==v.alternate&&p.delete(null===v.key?m:v.key),a=s(v,a,m),null===h?u=v:h.sibling=v,h=v);return e&&p.forEach(function(e){return t(n,e)}),sn&&Ji(n,m),u}(l,c,u=y.call(u),h)}if("function"===typeof u.then)return v(l,c,Qo(u),h);if(u.$$typeof===S)return v(l,c,Dn(l,u),h);Zo(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(r(l,c.sibling),(h=n(c,u)).return=l,l=h):(r(l,c),(h=zi(u,l.mode,h)).return=l,l=h),a(l)):r(l,c)}return function(e,t,r,i){try{Yo=0;var n=v(e,t,r,i);return $o=null,n}catch(o){if(o===Kn||o===Xn)throw o;var s=Bi(29,o,null,e.mode);return s.lanes=i,s.return=e,s}}}var ra=ta(!0),ia=ta(!1),na=F(null),sa=null;function oa(e){var t=e.alternate;z(ua,1&ua.current),z(na,e),null===sa&&(null===t||null!==fs.current||null!==t.memoizedState)&&(sa=e)}function aa(e){if(22===e.tag){if(z(ua,ua.current),z(na,e),null===sa){var t=e.alternate;null!==t&&null!==t.memoizedState&&(sa=e)}}else la()}function la(){z(ua,ua.current),z(na,na.current)}function ca(e){j(na),sa===e&&(sa=null),j(ua)}var ua=F(0);function ha(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||_h(r)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function da(e,t,r,i){r=null===(r=r(i,t=e.memoizedState))||void 0===r?t:d({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var fa={enqueueSetState:function(e,t,r){e=e._reactInternals;var i=Oc(),n=ns(i);n.payload=t,void 0!==r&&null!==r&&(n.callback=r),null!==(t=ss(e,n,i))&&(Ic(t,e,i),os(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var i=Oc(),n=ns(i);n.tag=1,n.payload=t,void 0!==r&&null!==r&&(n.callback=r),null!==(t=ss(e,n,i))&&(Ic(t,e,i),os(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Oc(),i=ns(r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=ss(e,i,r))&&(Ic(t,e,r),os(t,e,r))}};function pa(e,t,r,i,n,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!$r(r,i)||!$r(n,s))}function ma(e,t,r,i){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,i),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,i),t.state!==e&&fa.enqueueReplaceState(t,t.state,null)}function _a(e,t){var r=t;if("ref"in t)for(var i in r={},t)"ref"!==i&&(r[i]=t[i]);if(e=e.defaultProps)for(var n in r===t&&(r=d({},r)),e)void 0===r[n]&&(r[n]=e[n]);return r}var ga="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function va(e){ga(e)}function ya(e){console.error(e)}function ba(e){ga(e)}function Sa(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function wa(e,t,r){try{(0,e.onCaughtError)(r.value,{componentStack:r.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function Ca(e,t,r){return(r=ns(r)).tag=3,r.payload={element:null},r.callback=function(){Sa(e,t)},r}function ka(e){return(e=ns(e)).tag=3,e}function xa(e,t,r,i){var n=r.type.getDerivedStateFromError;if("function"===typeof n){var s=i.value;e.payload=function(){return n(s)},e.callback=function(){wa(t,r,i)}}var o=r.stateNode;null!==o&&"function"===typeof o.componentDidCatch&&(e.callback=function(){wa(t,r,i),"function"!==typeof n&&(null===kc?kc=new Set([this]):kc.add(this));var e=i.stack;this.componentDidCatch(i.value,{componentStack:null!==e?e:""})})}var Ea=Error(o(461)),Da=!1;function La(e,t,r,i){t.child=null===e?ia(t,null,r,i):ra(t,e.child,r,i)}function Ra(e,t,r,i,n){r=r.render;var s=t.ref;if("ref"in i){var o={};for(var a in i)"ref"!==a&&(o[a]=i[a])}else o=i;return xn(t),i=Ps(e,t,r,o,s,n),a=Bs(),null===e||Da?(sn&&a&&en(t),t.flags|=1,La(e,t,i,n),t.child):(Is(e,t,n),$a(e,t,n))}function Ta(e,t,r,i,n){if(null===e){var s=r.type;return"function"!==typeof s||Ii(s)||void 0!==s.defaultProps||null!==r.compare?((e=Fi(r.type,null,i,t,t.mode,n)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Pa(e,t,s,i,n))}if(s=e.child,!Ya(e,n)){var o=s.memoizedProps;if((r=null!==(r=r.compare)?r:$r)(o,i)&&e.ref===t.ref)return $a(e,t,n)}return t.flags|=1,(e=Ni(s,i)).ref=t.ref,e.return=t,t.child=e}function Pa(e,t,r,i,n){if(null!==e){var s=e.memoizedProps;if($r(s,i)&&e.ref===t.ref){if(Da=!1,t.pendingProps=i=s,!Ya(e,n))return t.lanes=e.lanes,$a(e,t,n);0!==(131072&e.flags)&&(Da=!0)}}return Ba(e,t,r,i,n)}function Aa(e,t,r){var i=t.pendingProps,n=i.children,s=null!==e?e.memoizedState:null;if("hidden"===i.mode){if(0!==(128&t.flags)){if(i=null!==s?s.baseLanes|r:r,null!==e){for(n=t.child=e.child,s=0;null!==n;)s=s|n.lanes|n.childLanes,n=n.sibling;t.childLanes=s&~i}else t.childLanes=0,t.child=null;return Ma(e,t,i,r)}if(0===(536870912&r))return t.lanes=t.childLanes=536870912,Ma(e,t,null!==s?s.baseLanes|r:r,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Wn(0,null!==s?s.cachePool:null),null!==s?ms(t,s):_s(),aa(t)}else null!==s?(Wn(0,s.cachePool),ms(t,s),la(),t.memoizedState=null):(null!==e&&Wn(0,null),_s(),la());return La(e,t,n,r),t.child}function Ma(e,t,r,i){var n=Un();return n=null===n?null:{parent:An._currentValue,pool:n},t.memoizedState={baseLanes:r,cachePool:n},null!==e&&Wn(0,null),_s(),aa(t),null!==e&&Cn(e,t,i,!0),null}function Oa(e,t){var r=t.ref;if(null===r)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof r&&"object"!==typeof r)throw Error(o(284));null!==e&&e.ref===r||(t.flags|=4194816)}}function Ba(e,t,r,i,n){return xn(t),r=Ps(e,t,r,i,void 0,n),i=Bs(),null===e||Da?(sn&&i&&en(t),t.flags|=1,La(e,t,r,n),t.child):(Is(e,t,n),$a(e,t,n))}function Ia(e,t,r,i,n,s){return xn(t),t.updateQueue=null,r=Ms(t,i,r,n),As(e),i=Bs(),null===e||Da?(sn&&i&&en(t),t.flags|=1,La(e,t,r,s),t.child):(Is(e,t,s),$a(e,t,s))}function Na(e,t,r,i,n){if(xn(t),null===t.stateNode){var s=Mi,o=r.contextType;"object"===typeof o&&null!==o&&(s=En(o)),s=new r(i,s),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=fa,t.stateNode=s,s._reactInternals=t,(s=t.stateNode).props=i,s.state=t.memoizedState,s.refs={},rs(t),o=r.contextType,s.context="object"===typeof o&&null!==o?En(o):Mi,s.state=t.memoizedState,"function"===typeof(o=r.getDerivedStateFromProps)&&(da(t,r,o,i),s.state=t.memoizedState),"function"===typeof r.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(o=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),o!==s.state&&fa.enqueueReplaceState(s,s.state,null),us(t,i,s,n),cs(),s.state=t.memoizedState),"function"===typeof s.componentDidMount&&(t.flags|=4194308),i=!0}else if(null===e){s=t.stateNode;var a=t.memoizedProps,l=_a(r,a);s.props=l;var c=s.context,u=r.contextType;o=Mi,"object"===typeof u&&null!==u&&(o=En(u));var h=r.getDerivedStateFromProps;u="function"===typeof h||"function"===typeof s.getSnapshotBeforeUpdate,a=t.pendingProps!==a,u||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a||c!==o)&&ma(t,s,i,o),ts=!1;var d=t.memoizedState;s.state=d,us(t,i,s,n),cs(),c=t.memoizedState,a||d!==c||ts?("function"===typeof h&&(da(t,r,h,i),c=t.memoizedState),(l=ts||pa(t,r,l,i,d,c,o))?(u||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=c),s.props=i,s.state=c,s.context=o,i=l):("function"===typeof s.componentDidMount&&(t.flags|=4194308),i=!1)}else{s=t.stateNode,is(e,t),u=_a(r,o=t.memoizedProps),s.props=u,h=t.pendingProps,d=s.context,c=r.contextType,l=Mi,"object"===typeof c&&null!==c&&(l=En(c)),(c="function"===typeof(a=r.getDerivedStateFromProps)||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==h||d!==l)&&ma(t,s,i,l),ts=!1,d=t.memoizedState,s.state=d,us(t,i,s,n),cs();var f=t.memoizedState;o!==h||d!==f||ts||null!==e&&null!==e.dependencies&&kn(e.dependencies)?("function"===typeof a&&(da(t,r,a,i),f=t.memoizedState),(u=ts||pa(t,r,u,i,d,f,l)||null!==e&&null!==e.dependencies&&kn(e.dependencies))?(c||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(i,f,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(i,f,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=f),s.props=i,s.state=f,s.context=l,i=u):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),i=!1)}return s=i,Oa(e,t),i=0!==(128&t.flags),s||i?(s=t.stateNode,r=i&&"function"!==typeof r.getDerivedStateFromError?null:s.render(),t.flags|=1,null!==e&&i?(t.child=ra(t,e.child,null,n),t.child=ra(t,null,r,n)):La(e,t,r,n),t.memoizedState=s.state,e=t.child):e=$a(e,t,n),e}function Ha(e,t,r,i){return fn(),t.flags|=256,La(e,t,r,i),t.child}var Fa={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ja(e){return{baseLanes:e,cachePool:qn()}}function za(e,t,r){return e=null!==e?e.childLanes&~r:0,t&&(e|=_c),e}function Ua(e,t,r){var i,n=t.pendingProps,s=!1,a=0!==(128&t.flags);if((i=a)||(i=(null===e||null!==e.memoizedState)&&0!==(2&ua.current)),i&&(s=!0,t.flags&=-129),i=0!==(32&t.flags),t.flags&=-33,null===e){if(sn){if(s?oa(t):la(),sn){var l,c=nn;if(l=c){e:{for(l=c,c=an;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=gh(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==$i?{id:Yi,overflow:Qi}:null,retryLane:536870912,hydrationErrors:null},(l=Bi(18,null,null,0)).stateNode=c,l.return=t,t.child=l,rn=t,nn=null,l=!0):l=!1}l||cn(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return _h(c)?t.lanes=32:t.lanes=536870912,null;ca(t)}return c=n.children,n=n.fallback,s?(la(),c=qa({mode:"hidden",children:c},s=t.mode),n=ji(n,s,r,null),c.return=t,n.return=t,c.sibling=n,t.child=c,(s=t.child).memoizedState=ja(r),s.childLanes=za(e,i,r),t.memoizedState=Fa,n):(oa(t),Wa(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(a)256&t.flags?(oa(t),t.flags&=-257,t=Ka(e,t,r)):null!==t.memoizedState?(la(),t.child=e.child,t.flags|=128,t=null):(la(),s=n.fallback,c=t.mode,n=qa({mode:"visible",children:n.children},c),(s=ji(s,c,r,null)).flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,ra(t,e.child,null,r),(n=t.child).memoizedState=ja(r),n.childLanes=za(e,i,r),t.memoizedState=Fa,t=s);else if(oa(t),_h(c)){if(i=c.nextSibling&&c.nextSibling.dataset)var u=i.dgst;i=u,(n=Error(o(419))).stack="",n.digest=i,mn({value:n,source:null,stack:null}),t=Ka(e,t,r)}else if(Da||Cn(e,t,r,!1),i=0!==(r&e.childLanes),Da||i){if(null!==(i=ic)&&(0!==(n=0!==((n=0!==(42&(n=r&-r))?1:Le(n))&(i.suspendedLanes|r))?0:n)&&n!==l.retryLane))throw l.retryLane=n,Ti(e,n),Ic(i,e,n),Ea;"$?"===c.data||Xc(),t=Ka(e,t,r)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,nn=gh(c.nextSibling),rn=t,sn=!0,on=null,an=!1,null!==e&&(Xi[Gi++]=Yi,Xi[Gi++]=Qi,Xi[Gi++]=$i,Yi=e.id,Qi=e.overflow,$i=t),(t=Wa(t,n.children)).flags|=4096);return t}return s?(la(),s=n.fallback,c=t.mode,u=(l=e.child).sibling,(n=Ni(l,{mode:"hidden",children:n.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?s=Ni(u,s):(s=ji(s,c,r,null)).flags|=2,s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,null===(c=e.child.memoizedState)?c=ja(r):(null!==(l=c.cachePool)?(u=An._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=qn(),c={baseLanes:c.baseLanes|r,cachePool:l}),s.memoizedState=c,s.childLanes=za(e,i,r),t.memoizedState=Fa,n):(oa(t),e=(r=e.child).sibling,(r=Ni(r,{mode:"visible",children:n.children})).return=t,r.sibling=null,null!==e&&(null===(i=t.deletions)?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=r,t.memoizedState=null,r)}function Wa(e,t){return(t=qa({mode:"visible",children:t},e.mode)).return=e,e.child=t}function qa(e,t){return(e=Bi(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Ka(e,t,r){return ra(t,e.child,null,r),(e=Wa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Va(e,t,r){e.lanes|=t;var i=e.alternate;null!==i&&(i.lanes|=t),Sn(e.return,t,r)}function Xa(e,t,r,i,n){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:r,tailMode:n}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=r,s.tailMode=n)}function Ga(e,t,r){var i=t.pendingProps,n=i.revealOrder,s=i.tail;if(La(e,t,i.children,r),0!==(2&(i=ua.current)))i=1&i|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Va(e,r,t);else if(19===e.tag)Va(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}switch(z(ua,i),n){case"forwards":for(r=t.child,n=null;null!==r;)null!==(e=r.alternate)&&null===ha(e)&&(n=r),r=r.sibling;null===(r=n)?(n=t.child,t.child=null):(n=r.sibling,r.sibling=null),Xa(t,!1,n,r,s);break;case"backwards":for(r=null,n=t.child,t.child=null;null!==n;){if(null!==(e=n.alternate)&&null===ha(e)){t.child=n;break}e=n.sibling,n.sibling=r,r=n,n=e}Xa(t,!0,r,null,s);break;case"together":Xa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function $a(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),fc|=t.lanes,0===(r&t.childLanes)){if(null===e)return null;if(Cn(e,t,r,!1),0===(r&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(r=Ni(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Ni(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function Ya(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!kn(e))}function Qa(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps)Da=!0;else{if(!Ya(e,r)&&0===(128&t.flags))return Da=!1,function(e,t,r){switch(t.tag){case 3:V(t,t.stateNode.containerInfo),yn(0,An,e.memoizedState.cache),fn();break;case 27:case 5:G(t);break;case 4:V(t,t.stateNode.containerInfo);break;case 10:yn(0,t.type,t.memoizedProps.value);break;case 13:var i=t.memoizedState;if(null!==i)return null!==i.dehydrated?(oa(t),t.flags|=128,null):0!==(r&t.child.childLanes)?Ua(e,t,r):(oa(t),null!==(e=$a(e,t,r))?e.sibling:null);oa(t);break;case 19:var n=0!==(128&e.flags);if((i=0!==(r&t.childLanes))||(Cn(e,t,r,!1),i=0!==(r&t.childLanes)),n){if(i)return Ga(e,t,r);t.flags|=128}if(null!==(n=t.memoizedState)&&(n.rendering=null,n.tail=null,n.lastEffect=null),z(ua,ua.current),i)break;return null;case 22:case 23:return t.lanes=0,Aa(e,t,r);case 24:yn(0,An,e.memoizedState.cache)}return $a(e,t,r)}(e,t,r);Da=0!==(131072&e.flags)}else Da=!1,sn&&0!==(1048576&t.flags)&&Zi(t,Vi,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var i=t.elementType,n=i._init;if(i=n(i._payload),t.type=i,"function"!==typeof i){if(void 0!==i&&null!==i){if((n=i.$$typeof)===w){t.tag=11,t=Ra(null,t,i,e,r);break e}if(n===x){t.tag=14,t=Ta(null,t,i,e,r);break e}}throw t=A(i)||i,Error(o(306,t,""))}Ii(i)?(e=_a(i,e),t.tag=1,t=Na(null,t,i,e,r)):(t.tag=0,t=Ba(null,t,i,e,r))}return t;case 0:return Ba(e,t,t.type,t.pendingProps,r);case 1:return Na(e,t,i=t.type,n=_a(i,t.pendingProps),r);case 3:e:{if(V(t,t.stateNode.containerInfo),null===e)throw Error(o(387));i=t.pendingProps;var s=t.memoizedState;n=s.element,is(e,t),us(t,i,null,r);var a=t.memoizedState;if(i=a.cache,yn(0,An,i),i!==s.cache&&wn(t,[An],r,!0),cs(),i=a.element,s.isDehydrated){if(s={element:i,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Ha(e,t,i,r);break e}if(i!==n){mn(n=Ci(Error(o(424)),t)),t=Ha(e,t,i,r);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(nn=gh(e.firstChild),rn=t,sn=!0,on=null,an=!0,r=ia(t,null,i,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(fn(),i===n){t=$a(e,t,r);break e}La(e,t,i,r)}t=t.child}return t;case 26:return Oa(e,t),null===e?(r=Lh(t.type,null,t.pendingProps,null))?t.memoizedState=r:sn||(r=t.type,e=t.pendingProps,(i=ih(q.current).createElement(r))[Ae]=t,i[Me]=e,eh(i,r,e),Ke(i),t.stateNode=i):t.memoizedState=Lh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return G(t),null===e&&sn&&(i=t.stateNode=bh(t.type,t.pendingProps,q.current),rn=t,an=!0,n=nn,fh(t.type)?(vh=n,nn=gh(i.firstChild)):nn=n),La(e,t,t.pendingProps.children,r),Oa(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&sn&&((n=i=nn)&&(null!==(i=function(e,t,r,i){for(;1===e.nodeType;){var n=r;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(i){if(!e[Fe])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(s=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(s!==n.rel||e.getAttribute("href")!==(null==n.href||""===n.href?null:n.href)||e.getAttribute("crossorigin")!==(null==n.crossOrigin?null:n.crossOrigin)||e.getAttribute("title")!==(null==n.title?null:n.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((s=e.getAttribute("src"))!==(null==n.src?null:n.src)||e.getAttribute("type")!==(null==n.type?null:n.type)||e.getAttribute("crossorigin")!==(null==n.crossOrigin?null:n.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var s=null==n.name?null:""+n.name;if("hidden"===n.type&&e.getAttribute("name")===s)return e}if(null===(e=gh(e.nextSibling)))break}return null}(i,t.type,t.pendingProps,an))?(t.stateNode=i,rn=t,nn=gh(i.firstChild),an=!1,n=!0):n=!1),n||cn(t)),G(t),n=t.type,s=t.pendingProps,a=null!==e?e.memoizedProps:null,i=s.children,oh(n,s)?i=null:null!==a&&oh(n,a)&&(t.flags|=32),null!==t.memoizedState&&(n=Ps(e,t,Os,null,null,r),Gh._currentValue=n),Oa(e,t),La(e,t,i,r),t.child;case 6:return null===e&&sn&&((e=r=nn)&&(null!==(r=function(e,t,r){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!r)return null;if(null===(e=gh(e.nextSibling)))return null}return e}(r,t.pendingProps,an))?(t.stateNode=r,rn=t,nn=null,e=!0):e=!1),e||cn(t)),null;case 13:return Ua(e,t,r);case 4:return V(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=ra(t,null,i,r):La(e,t,i,r),t.child;case 11:return Ra(e,t,t.type,t.pendingProps,r);case 7:return La(e,t,t.pendingProps,r),t.child;case 8:case 12:return La(e,t,t.pendingProps.children,r),t.child;case 10:return i=t.pendingProps,yn(0,t.type,i.value),La(e,t,i.children,r),t.child;case 9:return n=t.type._context,i=t.pendingProps.children,xn(t),i=i(n=En(n)),t.flags|=1,La(e,t,i,r),t.child;case 14:return Ta(e,t,t.type,t.pendingProps,r);case 15:return Pa(e,t,t.type,t.pendingProps,r);case 19:return Ga(e,t,r);case 31:return i=t.pendingProps,r=t.mode,i={mode:i.mode,children:i.children},null===e?((r=qa(i,r)).ref=t.ref,t.child=r,r.return=t,t=r):((r=Ni(e.child,i)).ref=t.ref,t.child=r,r.return=t,t=r),t;case 22:return Aa(e,t,r);case 24:return xn(t),i=En(An),null===e?(null===(n=Un())&&(n=ic,s=Mn(),n.pooledCache=s,s.refCount++,null!==s&&(n.pooledCacheLanes|=r),n=s),t.memoizedState={parent:i,cache:n},rs(t),yn(0,An,n)):(0!==(e.lanes&r)&&(is(e,t),us(t,null,null,r),cs()),n=e.memoizedState,s=t.memoizedState,n.parent!==i?(n={parent:i,cache:i},t.memoizedState=n,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=n),yn(0,An,i)):(i=s.cache,yn(0,An,i),i!==n.cache&&wn(t,[An],r,!0))),La(e,t,t.pendingProps.children,r),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function Ja(e){e.flags|=4}function Za(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!zh(t)){if(null!==(t=na.current)&&((4194048&sc)===sc?null!==sa:(62914560&sc)!==sc&&0===(536870912&sc)||t!==sa))throw Jn=Gn,Vn;e.flags|=8192}}function el(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Ce():536870912,e.lanes|=t,gc|=t)}function tl(e,t){if(!sn)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var i=null;null!==r;)null!==r.alternate&&(i=r),r=r.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function rl(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,i=0;if(t)for(var n=e.child;null!==n;)r|=n.lanes|n.childLanes,i|=65011712&n.subtreeFlags,i|=65011712&n.flags,n.return=e,n=n.sibling;else for(n=e.child;null!==n;)r|=n.lanes|n.childLanes,i|=n.subtreeFlags,i|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=i,e.childLanes=r,t}function il(e,t,r){var i=t.pendingProps;switch(tn(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return rl(t),null;case 3:return r=t.stateNode,i=null,null!==e&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),bn(An),X(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(dn(t)?Ja(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,pn())),rl(t),null;case 26:return r=t.memoizedState,null===e?(Ja(t),null!==r?(rl(t),Za(t,r)):(rl(t),t.flags&=-16777217)):r?r!==e.memoizedState?(Ja(t),rl(t),Za(t,r)):(rl(t),t.flags&=-16777217):(e.memoizedProps!==i&&Ja(t),rl(t),t.flags&=-16777217),null;case 27:$(t),r=q.current;var n=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==i&&Ja(t);else{if(!i){if(null===t.stateNode)throw Error(o(166));return rl(t),null}e=U.current,dn(t)?un(t):(e=bh(n,i,r),t.stateNode=e,Ja(t))}return rl(t),null;case 5:if($(t),r=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==i&&Ja(t);else{if(!i){if(null===t.stateNode)throw Error(o(166));return rl(t),null}if(e=U.current,dn(t))un(t);else{switch(n=ih(q.current),e){case 1:e=n.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:e=n.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":e=n.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":e=n.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":(e=n.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof i.is?n.createElement("select",{is:i.is}):n.createElement("select"),i.multiple?e.multiple=!0:i.size&&(e.size=i.size);break;default:e="string"===typeof i.is?n.createElement(r,{is:i.is}):n.createElement(r)}}e[Ae]=t,e[Me]=i;e:for(n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&27!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;null===n.sibling;){if(null===n.return||n.return===t)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}t.stateNode=e;e:switch(eh(e,r,i),r){case"button":case"input":case"select":case"textarea":e=!!i.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Ja(t)}}return rl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==i&&Ja(t);else{if("string"!==typeof i&&null===t.stateNode)throw Error(o(166));if(e=q.current,dn(t)){if(e=t.stateNode,r=t.memoizedProps,i=null,null!==(n=rn))switch(n.tag){case 27:case 5:i=n.memoizedProps}e[Ae]=t,(e=!!(e.nodeValue===r||null!==i&&!0===i.suppressHydrationWarning||Yu(e.nodeValue,r)))||cn(t)}else(e=ih(e).createTextNode(i))[Ae]=t,t.stateNode=e}return rl(t),null;case 13:if(i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(n=dn(t),null!==i&&null!==i.dehydrated){if(null===e){if(!n)throw Error(o(318));if(!(n=null!==(n=t.memoizedState)?n.dehydrated:null))throw Error(o(317));n[Ae]=t}else fn(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;rl(t),n=!1}else n=pn(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),n=!0;if(!n)return 256&t.flags?(ca(t),t):(ca(t),null)}if(ca(t),0!==(128&t.flags))return t.lanes=r,t;if(r=null!==i,e=null!==e&&null!==e.memoizedState,r){n=null,null!==(i=t.child).alternate&&null!==i.alternate.memoizedState&&null!==i.alternate.memoizedState.cachePool&&(n=i.alternate.memoizedState.cachePool.pool);var s=null;null!==i.memoizedState&&null!==i.memoizedState.cachePool&&(s=i.memoizedState.cachePool.pool),s!==n&&(i.flags|=2048)}return r!==e&&r&&(t.child.flags|=8192),el(t,t.updateQueue),rl(t),null;case 4:return X(),null===e&&ju(t.stateNode.containerInfo),rl(t),null;case 10:return bn(t.type),rl(t),null;case 19:if(j(ua),null===(n=t.memoizedState))return rl(t),null;if(i=0!==(128&t.flags),null===(s=n.rendering))if(i)tl(n,!1);else{if(0!==dc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=ha(e))){for(t.flags|=128,tl(n,!1),e=s.updateQueue,t.updateQueue=e,el(t,e),t.subtreeFlags=0,e=r,r=t.child;null!==r;)Hi(r,e),r=r.sibling;return z(ua,1&ua.current|2),t.child}e=e.sibling}null!==n.tail&&te()>wc&&(t.flags|=128,i=!0,tl(n,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=ha(s))){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,el(t,e),tl(n,!0),null===n.tail&&"hidden"===n.tailMode&&!s.alternate&&!sn)return rl(t),null}else 2*te()-n.renderingStartTime>wc&&536870912!==r&&(t.flags|=128,i=!0,tl(n,!1),t.lanes=4194304);n.isBackwards?(s.sibling=t.child,t.child=s):(null!==(e=n.last)?e.sibling=s:t.child=s,n.last=s)}return null!==n.tail?(t=n.tail,n.rendering=t,n.tail=t.sibling,n.renderingStartTime=te(),t.sibling=null,e=ua.current,z(ua,i?1&e|2:1&e),t):(rl(t),null);case 22:case 23:return ca(t),gs(),i=null!==t.memoizedState,null!==e?null!==e.memoizedState!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?0!==(536870912&r)&&0===(128&t.flags)&&(rl(t),6&t.subtreeFlags&&(t.flags|=8192)):rl(t),null!==(r=t.updateQueue)&&el(t,r.retryQueue),r=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(r=e.memoizedState.cachePool.pool),i=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(i=t.memoizedState.cachePool.pool),i!==r&&(t.flags|=2048),null!==e&&j(zn),null;case 24:return r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),bn(An),rl(t),null;case 25:case 30:return null}throw Error(o(156,t.tag))}function nl(e,t){switch(tn(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return bn(An),X(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return $(t),null;case 13:if(ca(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));fn()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return j(ua),null;case 4:return X(),null;case 10:return bn(t.type),null;case 22:case 23:return ca(t),gs(),null!==e&&j(zn),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return bn(An),null;default:return null}}function sl(e,t){switch(tn(t),t.tag){case 3:bn(An),X();break;case 26:case 27:case 5:$(t);break;case 4:X();break;case 13:ca(t);break;case 19:j(ua);break;case 10:bn(t.type);break;case 22:case 23:ca(t),gs(),null!==e&&j(zn);break;case 24:bn(An)}}function ol(e,t){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var n=i.next;r=n;do{if((r.tag&e)===e){i=void 0;var s=r.create,o=r.inst;i=s(),o.destroy=i}r=r.next}while(r!==n)}}catch(a){uu(t,t.return,a)}}function al(e,t,r){try{var i=t.updateQueue,n=null!==i?i.lastEffect:null;if(null!==n){var s=n.next;i=s;do{if((i.tag&e)===e){var o=i.inst,a=o.destroy;if(void 0!==a){o.destroy=void 0,n=t;var l=r,c=a;try{c()}catch(u){uu(n,l,u)}}}i=i.next}while(i!==s)}}catch(u){uu(t,t.return,u)}}function ll(e){var t=e.updateQueue;if(null!==t){var r=e.stateNode;try{ds(t,r)}catch(i){uu(e,e.return,i)}}}function cl(e,t,r){r.props=_a(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(i){uu(e,t,i)}}function ul(e,t){try{var r=e.ref;if(null!==r){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;default:i=e.stateNode}"function"===typeof r?e.refCleanup=r(i):r.current=i}}catch(n){uu(e,t,n)}}function hl(e,t){var r=e.ref,i=e.refCleanup;if(null!==r)if("function"===typeof i)try{i()}catch(n){uu(e,t,n)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof r)try{r(null)}catch(s){uu(e,t,s)}else r.current=null}function dl(e){var t=e.type,r=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":r.autoFocus&&i.focus();break e;case"img":r.src?i.src=r.src:r.srcSet&&(i.srcset=r.srcSet)}}catch(n){uu(e,e.return,n)}}function fl(e,t,r){try{var i=e.stateNode;!function(e,t,r,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var n=null,s=null,a=null,l=null,c=null,u=null,h=null;for(p in r){var d=r[p];if(r.hasOwnProperty(p)&&null!=d)switch(p){case"checked":case"value":break;case"defaultValue":c=d;default:i.hasOwnProperty(p)||Ju(e,t,p,null,i,d)}}for(var f in i){var p=i[f];if(d=r[f],i.hasOwnProperty(f)&&(null!=p||null!=d))switch(f){case"type":s=p;break;case"name":n=p;break;case"checked":u=p;break;case"defaultChecked":h=p;break;case"value":a=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(o(137,t));break;default:p!==d&&Ju(e,t,f,p,i,d)}}return void _t(e,a,l,c,u,h,s,n);case"select":for(s in p=a=l=f=null,r)if(c=r[s],r.hasOwnProperty(s)&&null!=c)switch(s){case"value":break;case"multiple":p=c;default:i.hasOwnProperty(s)||Ju(e,t,s,null,i,c)}for(n in i)if(s=i[n],c=r[n],i.hasOwnProperty(n)&&(null!=s||null!=c))switch(n){case"value":f=s;break;case"defaultValue":l=s;break;case"multiple":a=s;default:s!==c&&Ju(e,t,n,s,i,c)}return t=l,r=a,i=p,void(null!=f?yt(e,!!r,f,!1):!!i!==!!r&&(null!=t?yt(e,!!r,t,!0):yt(e,!!r,r?[]:"",!1)));case"textarea":for(l in p=f=null,r)if(n=r[l],r.hasOwnProperty(l)&&null!=n&&!i.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Ju(e,t,l,null,i,n)}for(a in i)if(n=i[a],s=r[a],i.hasOwnProperty(a)&&(null!=n||null!=s))switch(a){case"value":f=n;break;case"defaultValue":p=n;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=n)throw Error(o(91));break;default:n!==s&&Ju(e,t,a,n,i,s)}return void bt(e,f,p);case"option":for(var m in r)if(f=r[m],r.hasOwnProperty(m)&&null!=f&&!i.hasOwnProperty(m))if("selected"===m)e.selected=!1;else Ju(e,t,m,null,i,f);for(c in i)if(f=i[c],p=r[c],i.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else Ju(e,t,c,f,i,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _ in r)f=r[_],r.hasOwnProperty(_)&&null!=f&&!i.hasOwnProperty(_)&&Ju(e,t,_,null,i,f);for(u in i)if(f=i[u],p=r[u],i.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(o(137,t));break;default:Ju(e,t,u,f,i,p)}return;default:if(Et(t)){for(var g in r)f=r[g],r.hasOwnProperty(g)&&void 0!==f&&!i.hasOwnProperty(g)&&Zu(e,t,g,void 0,i,f);for(h in i)f=i[h],p=r[h],!i.hasOwnProperty(h)||f===p||void 0===f&&void 0===p||Zu(e,t,h,f,i,p);return}}for(var v in r)f=r[v],r.hasOwnProperty(v)&&null!=f&&!i.hasOwnProperty(v)&&Ju(e,t,v,null,i,f);for(d in i)f=i[d],p=r[d],!i.hasOwnProperty(d)||f===p||null==f&&null==p||Ju(e,t,d,f,i,p)}(i,e.type,r,t),i[Me]=t}catch(n){uu(e,e.return,n)}}function pl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&fh(e.type)||4===e.tag}function ml(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||pl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&fh(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function _l(e,t,r){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?(9===r.nodeType?r.body:"HTML"===r.nodeName?r.ownerDocument.body:r).insertBefore(e,t):((t=9===r.nodeType?r.body:"HTML"===r.nodeName?r.ownerDocument.body:r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=Qu));else if(4!==i&&(27===i&&fh(e.type)&&(r=e.stateNode,t=null),null!==(e=e.child)))for(_l(e,t,r),e=e.sibling;null!==e;)_l(e,t,r),e=e.sibling}function gl(e,t,r){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==i&&(27===i&&fh(e.type)&&(r=e.stateNode),null!==(e=e.child)))for(gl(e,t,r),e=e.sibling;null!==e;)gl(e,t,r),e=e.sibling}function vl(e){var t=e.stateNode,r=e.memoizedProps;try{for(var i=e.type,n=t.attributes;n.length;)t.removeAttributeNode(n[0]);eh(t,i,r),t[Ae]=e,t[Me]=r}catch(s){uu(e,e.return,s)}}var yl=!1,bl=!1,Sl=!1,wl="function"===typeof WeakSet?WeakSet:Set,Cl=null;function kl(e,t,r){var i=r.flags;switch(r.tag){case 0:case 11:case 15:Nl(e,r),4&i&&ol(5,r);break;case 1:if(Nl(e,r),4&i)if(e=r.stateNode,null===t)try{e.componentDidMount()}catch(o){uu(r,r.return,o)}else{var n=_a(r.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(n,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){uu(r,r.return,a)}}64&i&&ll(r),512&i&&ul(r,r.return);break;case 3:if(Nl(e,r),64&i&&null!==(e=r.updateQueue)){if(t=null,null!==r.child)switch(r.child.tag){case 27:case 5:case 1:t=r.child.stateNode}try{ds(e,t)}catch(o){uu(r,r.return,o)}}break;case 27:null===t&&4&i&&vl(r);case 26:case 5:Nl(e,r),null===t&&4&i&&dl(r),512&i&&ul(r,r.return);break;case 12:Nl(e,r);break;case 13:Nl(e,r),4&i&&Tl(e,r),64&i&&(null!==(e=r.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var r=e.ownerDocument;if("$?"!==e.data||"complete"===r.readyState)t();else{var i=function(){t(),r.removeEventListener("DOMContentLoaded",i)};r.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}(e,r=pu.bind(null,r))));break;case 22:if(!(i=null!==r.memoizedState||yl)){t=null!==t&&null!==t.memoizedState||bl,n=yl;var s=bl;yl=i,(bl=t)&&!s?Fl(e,r,0!==(8772&r.subtreeFlags)):Nl(e,r),yl=n,bl=s}break;case 30:break;default:Nl(e,r)}}function xl(e){var t=e.alternate;null!==t&&(e.alternate=null,xl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&je(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var El=null,Dl=!1;function Ll(e,t,r){for(r=r.child;null!==r;)Rl(e,t,r),r=r.sibling}function Rl(e,t,r){if(he&&"function"===typeof he.onCommitFiberUnmount)try{he.onCommitFiberUnmount(ue,r)}catch(s){}switch(r.tag){case 26:bl||hl(r,t),Ll(e,t,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode).parentNode.removeChild(r);break;case 27:bl||hl(r,t);var i=El,n=Dl;fh(r.type)&&(El=r.stateNode,Dl=!1),Ll(e,t,r),Sh(r.stateNode),El=i,Dl=n;break;case 5:bl||hl(r,t);case 6:if(i=El,n=Dl,El=null,Ll(e,t,r),Dl=n,null!==(El=i))if(Dl)try{(9===El.nodeType?El.body:"HTML"===El.nodeName?El.ownerDocument.body:El).removeChild(r.stateNode)}catch(o){uu(r,t,o)}else try{El.removeChild(r.stateNode)}catch(o){uu(r,t,o)}break;case 18:null!==El&&(Dl?(ph(9===(e=El).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,r.stateNode),Dd(e)):ph(El,r.stateNode));break;case 4:i=El,n=Dl,El=r.stateNode.containerInfo,Dl=!0,Ll(e,t,r),El=i,Dl=n;break;case 0:case 11:case 14:case 15:bl||al(2,r,t),bl||al(4,r,t),Ll(e,t,r);break;case 1:bl||(hl(r,t),"function"===typeof(i=r.stateNode).componentWillUnmount&&cl(r,t,i)),Ll(e,t,r);break;case 21:Ll(e,t,r);break;case 22:bl=(i=bl)||null!==r.memoizedState,Ll(e,t,r),bl=i;break;default:Ll(e,t,r)}}function Tl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Dd(e)}catch(r){uu(t,t.return,r)}}function Pl(e,t){var r=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new wl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new wl),t;default:throw Error(o(435,e.tag))}}(e);t.forEach(function(t){var i=mu.bind(null,e,t);r.has(t)||(r.add(t),t.then(i,i))})}function Al(e,t){var r=t.deletions;if(null!==r)for(var i=0;i<r.length;i++){var n=r[i],s=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 27:if(fh(l.type)){El=l.stateNode,Dl=!1;break e}break;case 5:El=l.stateNode,Dl=!1;break e;case 3:case 4:El=l.stateNode.containerInfo,Dl=!0;break e}l=l.return}if(null===El)throw Error(o(160));Rl(s,a,n),El=null,Dl=!1,null!==(s=n.alternate)&&(s.return=null),n.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Ol(t,e),t=t.sibling}var Ml=null;function Ol(e,t){var r=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Al(t,e),Bl(e),4&i&&(al(3,e,e.return),ol(3,e),al(5,e,e.return));break;case 1:Al(t,e),Bl(e),512&i&&(bl||null===r||hl(r,r.return)),64&i&&yl&&(null!==(e=e.updateQueue)&&(null!==(i=e.callbacks)&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===r?i:r.concat(i))));break;case 26:var n=Ml;if(Al(t,e),Bl(e),512&i&&(bl||null===r||hl(r,r.return)),4&i){var s=null!==r?r.memoizedState:null;if(i=e.memoizedState,null===r)if(null===i)if(null===e.stateNode){e:{i=e.type,r=e.memoizedProps,n=n.ownerDocument||n;t:switch(i){case"title":(!(s=n.getElementsByTagName("title")[0])||s[Fe]||s[Ae]||"http://www.w3.org/2000/svg"===s.namespaceURI||s.hasAttribute("itemprop"))&&(s=n.createElement(i),n.head.insertBefore(s,n.querySelector("head > title"))),eh(s,i,r),s[Ae]=e,Ke(s),i=s;break e;case"link":var a=Fh("link","href",n).get(i+(r.href||""));if(a)for(var l=0;l<a.length;l++)if((s=a[l]).getAttribute("href")===(null==r.href||""===r.href?null:r.href)&&s.getAttribute("rel")===(null==r.rel?null:r.rel)&&s.getAttribute("title")===(null==r.title?null:r.title)&&s.getAttribute("crossorigin")===(null==r.crossOrigin?null:r.crossOrigin)){a.splice(l,1);break t}eh(s=n.createElement(i),i,r),n.head.appendChild(s);break;case"meta":if(a=Fh("meta","content",n).get(i+(r.content||"")))for(l=0;l<a.length;l++)if((s=a[l]).getAttribute("content")===(null==r.content?null:""+r.content)&&s.getAttribute("name")===(null==r.name?null:r.name)&&s.getAttribute("property")===(null==r.property?null:r.property)&&s.getAttribute("http-equiv")===(null==r.httpEquiv?null:r.httpEquiv)&&s.getAttribute("charset")===(null==r.charSet?null:r.charSet)){a.splice(l,1);break t}eh(s=n.createElement(i),i,r),n.head.appendChild(s);break;default:throw Error(o(468,i))}s[Ae]=e,Ke(s),i=s}e.stateNode=i}else jh(n,e.type,e.stateNode);else e.stateNode=Oh(n,i,e.memoizedProps);else s!==i?(null===s?null!==r.stateNode&&(r=r.stateNode).parentNode.removeChild(r):s.count--,null===i?jh(n,e.type,e.stateNode):Oh(n,i,e.memoizedProps)):null===i&&null!==e.stateNode&&fl(e,e.memoizedProps,r.memoizedProps)}break;case 27:Al(t,e),Bl(e),512&i&&(bl||null===r||hl(r,r.return)),null!==r&&4&i&&fl(e,e.memoizedProps,r.memoizedProps);break;case 5:if(Al(t,e),Bl(e),512&i&&(bl||null===r||hl(r,r.return)),32&e.flags){n=e.stateNode;try{wt(n,"")}catch(p){uu(e,e.return,p)}}4&i&&null!=e.stateNode&&fl(e,n=e.memoizedProps,null!==r?r.memoizedProps:n),1024&i&&(Sl=!0);break;case 6:if(Al(t,e),Bl(e),4&i){if(null===e.stateNode)throw Error(o(162));i=e.memoizedProps,r=e.stateNode;try{r.nodeValue=i}catch(p){uu(e,e.return,p)}}break;case 3:if(Hh=null,n=Ml,Ml=kh(t.containerInfo),Al(t,e),Ml=n,Bl(e),4&i&&null!==r&&r.memoizedState.isDehydrated)try{Dd(t.containerInfo)}catch(p){uu(e,e.return,p)}Sl&&(Sl=!1,Il(e));break;case 4:i=Ml,Ml=kh(e.stateNode.containerInfo),Al(t,e),Bl(e),Ml=i;break;case 12:default:Al(t,e),Bl(e);break;case 13:Al(t,e),Bl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==r&&null!==r.memoizedState)&&(Sc=te()),4&i&&(null!==(i=e.updateQueue)&&(e.updateQueue=null,Pl(e,i)));break;case 22:n=null!==e.memoizedState;var c=null!==r&&null!==r.memoizedState,u=yl,h=bl;if(yl=u||n,bl=h||c,Al(t,e),bl=h,yl=u,Bl(e),8192&i)e:for(t=e.stateNode,t._visibility=n?-2&t._visibility:1|t._visibility,n&&(null===r||c||yl||bl||Hl(e)),r=null,t=e;;){if(5===t.tag||26===t.tag){if(null===r){c=r=t;try{if(s=c.stateNode,n)"function"===typeof(a=s.style).setProperty?a.setProperty("display","none","important"):a.display="none";else{l=c.stateNode;var d=c.memoizedProps.style,f=void 0!==d&&null!==d&&d.hasOwnProperty("display")?d.display:null;l.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(p){uu(c,c.return,p)}}}else if(6===t.tag){if(null===r){c=t;try{c.stateNode.nodeValue=n?"":c.memoizedProps}catch(p){uu(c,c.return,p)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;r===t&&(r=null),t=t.return}r===t&&(r=null),t.sibling.return=t.return,t=t.sibling}4&i&&(null!==(i=e.updateQueue)&&(null!==(r=i.retryQueue)&&(i.retryQueue=null,Pl(e,r))));break;case 19:Al(t,e),Bl(e),4&i&&(null!==(i=e.updateQueue)&&(e.updateQueue=null,Pl(e,i)));case 30:case 21:}}function Bl(e){var t=e.flags;if(2&t){try{for(var r,i=e.return;null!==i;){if(pl(i)){r=i;break}i=i.return}if(null==r)throw Error(o(160));switch(r.tag){case 27:var n=r.stateNode;gl(e,ml(e),n);break;case 5:var s=r.stateNode;32&r.flags&&(wt(s,""),r.flags&=-33),gl(e,ml(e),s);break;case 3:case 4:var a=r.stateNode.containerInfo;_l(e,ml(e),a);break;default:throw Error(o(161))}}catch(l){uu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Il(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Il(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Nl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)kl(e,t.alternate,t),t=t.sibling}function Hl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:al(4,t,t.return),Hl(t);break;case 1:hl(t,t.return);var r=t.stateNode;"function"===typeof r.componentWillUnmount&&cl(t,t.return,r),Hl(t);break;case 27:Sh(t.stateNode);case 26:case 5:hl(t,t.return),Hl(t);break;case 22:null===t.memoizedState&&Hl(t);break;default:Hl(t)}e=e.sibling}}function Fl(e,t,r){for(r=r&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var i=t.alternate,n=e,s=t,o=s.flags;switch(s.tag){case 0:case 11:case 15:Fl(n,s,r),ol(4,s);break;case 1:if(Fl(n,s,r),"function"===typeof(n=(i=s).stateNode).componentDidMount)try{n.componentDidMount()}catch(c){uu(i,i.return,c)}if(null!==(n=(i=s).updateQueue)){var a=i.stateNode;try{var l=n.shared.hiddenCallbacks;if(null!==l)for(n.shared.hiddenCallbacks=null,n=0;n<l.length;n++)hs(l[n],a)}catch(c){uu(i,i.return,c)}}r&&64&o&&ll(s),ul(s,s.return);break;case 27:vl(s);case 26:case 5:Fl(n,s,r),r&&null===i&&4&o&&dl(s),ul(s,s.return);break;case 12:Fl(n,s,r);break;case 13:Fl(n,s,r),r&&4&o&&Tl(n,s);break;case 22:null===s.memoizedState&&Fl(n,s,r),ul(s,s.return);break;case 30:break;default:Fl(n,s,r)}t=t.sibling}}function jl(e,t){var r=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(r=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==r&&(null!=e&&e.refCount++,null!=r&&On(r))}function zl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&On(e))}function Ul(e,t,r,i){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Wl(e,t,r,i),t=t.sibling}function Wl(e,t,r,i){var n=t.flags;switch(t.tag){case 0:case 11:case 15:Ul(e,t,r,i),2048&n&&ol(9,t);break;case 1:case 13:default:Ul(e,t,r,i);break;case 3:Ul(e,t,r,i),2048&n&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&On(e)));break;case 12:if(2048&n){Ul(e,t,r,i),e=t.stateNode;try{var s=t.memoizedProps,o=s.id,a=s.onPostCommit;"function"===typeof a&&a(o,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){uu(t,t.return,l)}}else Ul(e,t,r,i);break;case 23:break;case 22:s=t.stateNode,o=t.alternate,null!==t.memoizedState?2&s._visibility?Ul(e,t,r,i):Kl(e,t):2&s._visibility?Ul(e,t,r,i):(s._visibility|=2,ql(e,t,r,i,0!==(10256&t.subtreeFlags))),2048&n&&jl(o,t);break;case 24:Ul(e,t,r,i),2048&n&&zl(t.alternate,t)}}function ql(e,t,r,i,n){for(n=n&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var s=e,o=t,a=r,l=i,c=o.flags;switch(o.tag){case 0:case 11:case 15:ql(s,o,a,l,n),ol(8,o);break;case 23:break;case 22:var u=o.stateNode;null!==o.memoizedState?2&u._visibility?ql(s,o,a,l,n):Kl(s,o):(u._visibility|=2,ql(s,o,a,l,n)),n&&2048&c&&jl(o.alternate,o);break;case 24:ql(s,o,a,l,n),n&&2048&c&&zl(o.alternate,o);break;default:ql(s,o,a,l,n)}t=t.sibling}}function Kl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var r=e,i=t,n=i.flags;switch(i.tag){case 22:Kl(r,i),2048&n&&jl(i.alternate,i);break;case 24:Kl(r,i),2048&n&&zl(i.alternate,i);break;default:Kl(r,i)}t=t.sibling}}var Vl=8192;function Xl(e){if(e.subtreeFlags&Vl)for(e=e.child;null!==e;)Gl(e),e=e.sibling}function Gl(e){switch(e.tag){case 26:Xl(e),e.flags&Vl&&null!==e.memoizedState&&function(e,t,r){if(null===Uh)throw Error(o(475));var i=Uh;if("stylesheet"===t.type&&("string"!==typeof r.media||!1!==matchMedia(r.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var n=Rh(r.href),s=e.querySelector(Th(n));if(s)return null!==(e=s._p)&&"object"===typeof e&&"function"===typeof e.then&&(i.count++,i=qh.bind(i),e.then(i,i)),t.state.loading|=4,t.instance=s,void Ke(s);s=e.ownerDocument||e,r=Ph(r),(n=wh.get(n))&&Ih(r,n),Ke(s=s.createElement("link"));var a=s;a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),eh(s,"link",r),t.instance=s}null===i.stylesheets&&(i.stylesheets=new Map),i.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(i.count++,t=qh.bind(i),e.addEventListener("load",t),e.addEventListener("error",t))}}(Ml,e.memoizedState,e.memoizedProps);break;case 5:default:Xl(e);break;case 3:case 4:var t=Ml;Ml=kh(e.stateNode.containerInfo),Xl(e),Ml=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Vl,Vl=16777216,Xl(e),Vl=t):Xl(e))}}function $l(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Yl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var r=0;r<t.length;r++){var i=t[r];Cl=i,Zl(i,e)}$l(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Ql(e),e=e.sibling}function Ql(e){switch(e.tag){case 0:case 11:case 15:Yl(e),2048&e.flags&&al(9,e,e.return);break;case 3:case 12:default:Yl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Jl(e)):Yl(e)}}function Jl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var r=0;r<t.length;r++){var i=t[r];Cl=i,Zl(i,e)}$l(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:al(8,t,t.return),Jl(t);break;case 22:2&(r=t.stateNode)._visibility&&(r._visibility&=-3,Jl(t));break;default:Jl(t)}e=e.sibling}}function Zl(e,t){for(;null!==Cl;){var r=Cl;switch(r.tag){case 0:case 11:case 15:al(8,r,t);break;case 23:case 22:if(null!==r.memoizedState&&null!==r.memoizedState.cachePool){var i=r.memoizedState.cachePool.pool;null!=i&&i.refCount++}break;case 24:On(r.memoizedState.cache)}if(null!==(i=r.child))i.return=r,Cl=i;else e:for(r=e;null!==Cl;){var n=(i=Cl).sibling,s=i.return;if(xl(i),i===r){Cl=null;break e}if(null!==n){n.return=s,Cl=n;break e}Cl=s}}}var ec={getCacheForType:function(e){var t=En(An),r=t.data.get(e);return void 0===r&&(r=e(),t.data.set(e,r)),r}},tc="function"===typeof WeakMap?WeakMap:Map,rc=0,ic=null,nc=null,sc=0,oc=0,ac=null,lc=!1,cc=!1,uc=!1,hc=0,dc=0,fc=0,pc=0,mc=0,_c=0,gc=0,vc=null,yc=null,bc=!1,Sc=0,wc=1/0,Cc=null,kc=null,xc=0,Ec=null,Dc=null,Lc=0,Rc=0,Tc=null,Pc=null,Ac=0,Mc=null;function Oc(){if(0!==(2&rc)&&0!==sc)return sc&-sc;if(null!==O.T){return 0!==Nn?Nn:Ru()}return Te()}function Bc(){0===_c&&(_c=0===(536870912&sc)||sn?we():536870912);var e=na.current;return null!==e&&(e.flags|=32),_c}function Ic(e,t,r){(e!==ic||2!==oc&&9!==oc)&&null===e.cancelPendingCommit||(Wc(e,0),jc(e,sc,_c,!1)),xe(e,r),0!==(2&rc)&&e===ic||(e===ic&&(0===(2&rc)&&(pc|=r),4===dc&&jc(e,sc,_c,!1)),wu(e))}function Nc(e,t,r){if(0!==(6&rc))throw Error(o(327));for(var i=!r&&0===(124&t)&&0===(t&e.expiredLanes)||be(e,t),n=i?function(e,t){var r=rc;rc|=2;var i=Kc(),n=Vc();ic!==e||sc!==t?(Cc=null,wc=te()+500,Wc(e,t)):cc=be(e,t);e:for(;;)try{if(0!==oc&&null!==nc){t=nc;var s=ac;t:switch(oc){case 1:oc=0,ac=null,Zc(e,t,s,1);break;case 2:case 9:if($n(s)){oc=0,ac=null,Jc(t);break}t=function(){2!==oc&&9!==oc||ic!==e||(oc=7),wu(e)},s.then(t,t);break e;case 3:oc=7;break e;case 4:oc=5;break e;case 7:$n(s)?(oc=0,ac=null,Jc(t)):(oc=0,ac=null,Zc(e,t,s,7));break;case 5:var a=null;switch(nc.tag){case 26:a=nc.memoizedState;case 5:case 27:var l=nc;if(!a||zh(a)){oc=0,ac=null;var c=l.sibling;if(null!==c)nc=c;else{var u=l.return;null!==u?(nc=u,eu(u)):nc=null}break t}}oc=0,ac=null,Zc(e,t,s,5);break;case 6:oc=0,ac=null,Zc(e,t,s,6);break;case 8:Uc(),dc=6;break e;default:throw Error(o(462))}}Yc();break}catch(h){qc(e,h)}return vn=gn=null,O.H=i,O.A=n,rc=r,null!==nc?0:(ic=null,sc=0,Di(),dc)}(e,t):Gc(e,t,!0),s=i;;){if(0===n){cc&&!i&&jc(e,t,0,!1);break}if(r=e.current.alternate,!s||Fc(r)){if(2===n){if(s=t,e.errorRecoveryDisabledLanes&s)var a=0;else a=0!==(a=-536870913&e.pendingLanes)?a:536870912&a?536870912:0;if(0!==a){t=a;e:{var l=e;n=vc;var c=l.current.memoizedState.isDehydrated;if(c&&(Wc(l,a).flags|=256),2!==(a=Gc(l,a,!1))){if(uc&&!c){l.errorRecoveryDisabledLanes|=s,pc|=s,n=4;break e}s=yc,yc=n,null!==s&&(null===yc?yc=s:yc.push.apply(yc,s))}n=a}if(s=!1,2!==n)continue}}if(1===n){Wc(e,0),jc(e,t,0,!0);break}e:{switch(i=e,s=n){case 0:case 1:throw Error(o(345));case 4:if((4194048&t)!==t)break;case 6:jc(i,t,_c,!lc);break e;case 2:yc=null;break;case 3:case 5:break;default:throw Error(o(329))}if((62914560&t)===t&&10<(n=Sc+300-te())){if(jc(i,t,_c,!lc),0!==ye(i,0,!0))break e;i.timeoutHandle=lh(Hc.bind(null,i,r,yc,Cc,bc,t,_c,pc,gc,lc,s,2,-0,0),n)}else Hc(i,r,yc,Cc,bc,t,_c,pc,gc,lc,s,0,-0,0)}break}n=Gc(e,t,!1),s=!1}wu(e)}function Hc(e,t,r,i,n,s,a,l,c,u,h,d,f,p){if(e.timeoutHandle=-1,(8192&(d=t.subtreeFlags)||16785408===(16785408&d))&&(Uh={stylesheets:null,count:0,unsuspend:Wh},Gl(t),null!==(d=function(){if(null===Uh)throw Error(o(475));var e=Uh;return e.stylesheets&&0===e.count&&Vh(e,e.stylesheets),0<e.count?function(t){var r=setTimeout(function(){if(e.stylesheets&&Vh(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(r)}}:null}())))return e.cancelPendingCommit=d(ru.bind(null,e,t,s,r,i,n,a,l,c,h,1,f,p)),void jc(e,s,a,!u);ru(e,t,s,r,i,n,a,l,c)}function Fc(e){for(var t=e;;){var r=t.tag;if((0===r||11===r||15===r)&&16384&t.flags&&(null!==(r=t.updateQueue)&&null!==(r=r.stores)))for(var i=0;i<r.length;i++){var n=r[i],s=n.getSnapshot;n=n.value;try{if(!Gr(s(),n))return!1}catch(o){return!1}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function jc(e,t,r,i){t&=~mc,t&=~pc,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var n=t;0<n;){var s=31-fe(n),o=1<<s;i[s]=-1,n&=~o}0!==r&&Ee(e,r,t)}function zc(){return 0!==(6&rc)||(Cu(0,!1),!1)}function Uc(){if(null!==nc){if(0===oc)var e=nc.return;else vn=gn=null,Ns(e=nc),$o=null,Yo=0,e=nc;for(;null!==e;)sl(e.alternate,e),e=e.return;nc=null}}function Wc(e,t){var r=e.timeoutHandle;-1!==r&&(e.timeoutHandle=-1,ch(r)),null!==(r=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,r()),Uc(),ic=e,nc=r=Ni(e.current,null),sc=t,oc=0,ac=null,lc=!1,cc=be(e,t),uc=!1,gc=_c=mc=pc=fc=dc=0,yc=vc=null,bc=!1,0!==(8&t)&&(t|=32&t);var i=e.entangledLanes;if(0!==i)for(e=e.entanglements,i&=t;0<i;){var n=31-fe(i),s=1<<n;t|=e[n],i&=~s}return hc=t,Di(),r}function qc(e,t){ys=null,O.H=Ko,t===Kn||t===Xn?(t=Zn(),oc=3):t===Vn?(t=Zn(),oc=4):oc=t===Ea?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,ac=t,null===nc&&(dc=1,Sa(e,Ci(t,e.current)))}function Kc(){var e=O.H;return O.H=Ko,null===e?Ko:e}function Vc(){var e=O.A;return O.A=ec,e}function Xc(){dc=4,lc||(4194048&sc)!==sc&&null!==na.current||(cc=!0),0===(134217727&fc)&&0===(134217727&pc)||null===ic||jc(ic,sc,_c,!1)}function Gc(e,t,r){var i=rc;rc|=2;var n=Kc(),s=Vc();ic===e&&sc===t||(Cc=null,Wc(e,t)),t=!1;var o=dc;e:for(;;)try{if(0!==oc&&null!==nc){var a=nc,l=ac;switch(oc){case 8:Uc(),o=6;break e;case 3:case 2:case 9:case 6:null===na.current&&(t=!0);var c=oc;if(oc=0,ac=null,Zc(e,a,l,c),r&&cc){o=0;break e}break;default:c=oc,oc=0,ac=null,Zc(e,a,l,c)}}$c(),o=dc;break}catch(u){qc(e,u)}return t&&e.shellSuspendCounter++,vn=gn=null,rc=i,O.H=n,O.A=s,null===nc&&(ic=null,sc=0,Di()),o}function $c(){for(;null!==nc;)Qc(nc)}function Yc(){for(;null!==nc&&!Z();)Qc(nc)}function Qc(e){var t=Qa(e.alternate,e,hc);e.memoizedProps=e.pendingProps,null===t?eu(e):nc=t}function Jc(e){var t=e,r=t.alternate;switch(t.tag){case 15:case 0:t=Ia(r,t,t.pendingProps,t.type,void 0,sc);break;case 11:t=Ia(r,t,t.pendingProps,t.type.render,t.ref,sc);break;case 5:Ns(t);default:sl(r,t),t=Qa(r,t=nc=Hi(t,hc),hc)}e.memoizedProps=e.pendingProps,null===t?eu(e):nc=t}function Zc(e,t,r,i){vn=gn=null,Ns(t),$o=null,Yo=0;var n=t.return;try{if(function(e,t,r,i,n){if(r.flags|=32768,null!==i&&"object"===typeof i&&"function"===typeof i.then){if(null!==(t=r.alternate)&&Cn(t,r,n,!0),null!==(r=na.current)){switch(r.tag){case 13:return null===sa?Xc():null===r.alternate&&0===dc&&(dc=3),r.flags&=-257,r.flags|=65536,r.lanes=n,i===Gn?r.flags|=16384:(null===(t=r.updateQueue)?r.updateQueue=new Set([i]):t.add(i),hu(e,i,n)),!1;case 22:return r.flags|=65536,i===Gn?r.flags|=16384:(null===(t=r.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},r.updateQueue=t):null===(r=t.retryQueue)?t.retryQueue=new Set([i]):r.add(i),hu(e,i,n)),!1}throw Error(o(435,r.tag))}return hu(e,i,n),Xc(),!1}if(sn)return null!==(t=na.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=n,i!==ln&&mn(Ci(e=Error(o(422),{cause:i}),r))):(i!==ln&&mn(Ci(t=Error(o(423),{cause:i}),r)),(e=e.current.alternate).flags|=65536,n&=-n,e.lanes|=n,i=Ci(i,r),as(e,n=Ca(e.stateNode,i,n)),4!==dc&&(dc=2)),!1;var s=Error(o(520),{cause:i});if(s=Ci(s,r),null===vc?vc=[s]:vc.push(s),4!==dc&&(dc=2),null===t)return!0;i=Ci(i,r),r=t;do{switch(r.tag){case 3:return r.flags|=65536,e=n&-n,r.lanes|=e,as(r,e=Ca(r.stateNode,i,e)),!1;case 1:if(t=r.type,s=r.stateNode,0===(128&r.flags)&&("function"===typeof t.getDerivedStateFromError||null!==s&&"function"===typeof s.componentDidCatch&&(null===kc||!kc.has(s))))return r.flags|=65536,n&=-n,r.lanes|=n,xa(n=ka(n),e,r,i),as(r,n),!1}r=r.return}while(null!==r);return!1}(e,n,t,r,sc))return dc=1,Sa(e,Ci(r,e.current)),void(nc=null)}catch(s){if(null!==n)throw nc=n,s;return dc=1,Sa(e,Ci(r,e.current)),void(nc=null)}32768&t.flags?(sn||1===i?e=!0:cc||0!==(536870912&sc)?e=!1:(lc=e=!0,(2===i||9===i||3===i||6===i)&&(null!==(i=na.current)&&13===i.tag&&(i.flags|=16384))),tu(t,e)):eu(t)}function eu(e){var t=e;do{if(0!==(32768&t.flags))return void tu(t,lc);e=t.return;var r=il(t.alternate,t,hc);if(null!==r)return void(nc=r);if(null!==(t=t.sibling))return void(nc=t);nc=t=e}while(null!==t);0===dc&&(dc=5)}function tu(e,t){do{var r=nl(e.alternate,e);if(null!==r)return r.flags&=32767,void(nc=r);if(null!==(r=e.return)&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!t&&null!==(e=e.sibling))return void(nc=e);nc=e=r}while(null!==e);dc=6,nc=null}function ru(e,t,r,i,n,s,a,l,c){e.cancelPendingCommit=null;do{au()}while(0!==xc);if(0!==(6&rc))throw Error(o(327));if(null!==t){if(t===e.current)throw Error(o(177));if(s=t.lanes|t.childLanes,function(e,t,r,i,n,s){var o=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var a=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(r=o&~r;0<r;){var u=31-fe(r),h=1<<u;a[u]=0,l[u]=-1;var d=c[u];if(null!==d)for(c[u]=null,u=0;u<d.length;u++){var f=d[u];null!==f&&(f.lane&=-536870913)}r&=~h}0!==i&&Ee(e,i,0),0!==s&&0===n&&0!==e.tag&&(e.suspendedLanes|=s&~(o&~t))}(e,r,s|=Ei,a,l,c),e===ic&&(nc=ic=null,sc=0),Dc=t,Ec=e,Lc=r,Rc=s,Tc=n,Pc=i,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,Q(se,function(){return lu(),null})):(e.callbackNode=null,e.callbackPriority=0),i=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||i){i=O.T,O.T=null,n=B.p,B.p=2,a=rc,rc|=4;try{!function(e,t){if(e=e.containerInfo,th=rd,ei(e=Zr(e))){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(i&&0!==i.rangeCount){r=i.anchorNode;var n=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{r.nodeType,s.nodeType}catch(_){r=null;break e}var a=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==r||0!==n&&3!==d.nodeType||(l=a+n),d!==s||0!==i&&3!==d.nodeType||(c=a+i),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===r&&++u===n&&(l=a),f===s&&++h===i&&(c=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}r=-1===l||-1===c?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(rh={focusedElem:e,selectionRange:r},rd=!1,Cl=t;null!==Cl;)if(e=(t=Cl).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,Cl=e;else for(;null!==Cl;){switch(s=(t=Cl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==s){e=void 0,r=t,n=s.memoizedProps,s=s.memoizedState,i=r.stateNode;try{var m=_a(r.type,n,(r.elementType,r.type));e=i.getSnapshotBeforeUpdate(m,s),i.__reactInternalSnapshotBeforeUpdate=e}catch(g){uu(r,r.return,g)}}break;case 3:if(0!==(1024&e))if(9===(r=(e=t.stateNode.containerInfo).nodeType))mh(e);else if(1===r)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":mh(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(o(163))}if(null!==(e=t.sibling)){e.return=t.return,Cl=e;break}Cl=t.return}}(e,t)}finally{rc=a,B.p=n,O.T=i}}xc=1,iu(),nu(),su()}}function iu(){if(1===xc){xc=0;var e=Ec,t=Dc,r=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||r){r=O.T,O.T=null;var i=B.p;B.p=2;var n=rc;rc|=4;try{Ol(t,e);var s=rh,o=Zr(e.containerInfo),a=s.focusedElem,l=s.selectionRange;if(o!==a&&a&&a.ownerDocument&&Jr(a.ownerDocument.documentElement,a)){if(null!==l&&ei(a)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in a)a.selectionStart=c,a.selectionEnd=Math.min(u,a.value.length);else{var h=a.ownerDocument||document,d=h&&h.defaultView||window;if(d.getSelection){var f=d.getSelection(),p=a.textContent.length,m=Math.min(l.start,p),_=void 0===l.end?m:Math.min(l.end,p);!f.extend&&m>_&&(o=_,_=m,m=o);var g=Qr(a,m),v=Qr(a,_);if(g&&v&&(1!==f.rangeCount||f.anchorNode!==g.node||f.anchorOffset!==g.offset||f.focusNode!==v.node||f.focusOffset!==v.offset)){var y=h.createRange();y.setStart(g.node,g.offset),f.removeAllRanges(),m>_?(f.addRange(y),f.extend(v.node,v.offset)):(y.setEnd(v.node,v.offset),f.addRange(y))}}}}for(h=[],f=a;f=f.parentNode;)1===f.nodeType&&h.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof a.focus&&a.focus(),a=0;a<h.length;a++){var b=h[a];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}rd=!!th,rh=th=null}finally{rc=n,B.p=i,O.T=r}}e.current=t,xc=2}}function nu(){if(2===xc){xc=0;var e=Ec,t=Dc,r=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||r){r=O.T,O.T=null;var i=B.p;B.p=2;var n=rc;rc|=4;try{kl(e,t.alternate,t)}finally{rc=n,B.p=i,O.T=r}}xc=3}}function su(){if(4===xc||3===xc){xc=0,ee();var e=Ec,t=Dc,r=Lc,i=Pc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?xc=5:(xc=0,Dc=Ec=null,ou(e,e.pendingLanes));var n=e.pendingLanes;if(0===n&&(kc=null),Re(r),t=t.stateNode,he&&"function"===typeof he.onCommitFiberRoot)try{he.onCommitFiberRoot(ue,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==i){t=O.T,n=B.p,B.p=2,O.T=null;try{for(var s=e.onRecoverableError,o=0;o<i.length;o++){var a=i[o];s(a.value,{componentStack:a.stack})}}finally{O.T=t,B.p=n}}0!==(3&Lc)&&au(),wu(e),n=e.pendingLanes,0!==(4194090&r)&&0!==(42&n)?e===Mc?Ac++:(Ac=0,Mc=e):Ac=0,Cu(0,!1)}}function ou(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,On(t)))}function au(e){return iu(),nu(),su(),lu()}function lu(){if(5!==xc)return!1;var e=Ec,t=Rc;Rc=0;var r=Re(Lc),i=O.T,n=B.p;try{B.p=32>r?32:r,O.T=null,r=Tc,Tc=null;var s=Ec,a=Lc;if(xc=0,Dc=Ec=null,Lc=0,0!==(6&rc))throw Error(o(331));var l=rc;if(rc|=4,Ql(s.current),Wl(s,s.current,a,r),rc=l,Cu(0,!1),he&&"function"===typeof he.onPostCommitFiberRoot)try{he.onPostCommitFiberRoot(ue,s)}catch(c){}return!0}finally{B.p=n,O.T=i,ou(e,t)}}function cu(e,t,r){t=Ci(r,t),null!==(e=ss(e,t=Ca(e.stateNode,t,2),2))&&(xe(e,2),wu(e))}function uu(e,t,r){if(3===e.tag)cu(e,e,r);else for(;null!==t;){if(3===t.tag){cu(t,e,r);break}if(1===t.tag){var i=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===kc||!kc.has(i))){e=Ci(r,e),null!==(i=ss(t,r=ka(2),2))&&(xa(r,i,t,e),xe(i,2),wu(i));break}}t=t.return}}function hu(e,t,r){var i=e.pingCache;if(null===i){i=e.pingCache=new tc;var n=new Set;i.set(t,n)}else void 0===(n=i.get(t))&&(n=new Set,i.set(t,n));n.has(r)||(uc=!0,n.add(r),e=du.bind(null,e,t,r),t.then(e,e))}function du(e,t,r){var i=e.pingCache;null!==i&&i.delete(t),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,ic===e&&(sc&r)===r&&(4===dc||3===dc&&(62914560&sc)===sc&&300>te()-Sc?0===(2&rc)&&Wc(e,0):mc|=r,gc===sc&&(gc=0)),wu(e)}function fu(e,t){0===t&&(t=Ce()),null!==(e=Ti(e,t))&&(xe(e,t),wu(e))}function pu(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),fu(e,r)}function mu(e,t){var r=0;switch(e.tag){case 13:var i=e.stateNode,n=e.memoizedState;null!==n&&(r=n.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(o(314))}null!==i&&i.delete(t),fu(e,r)}var _u=null,gu=null,vu=!1,yu=!1,bu=!1,Su=0;function wu(e){e!==gu&&null===e.next&&(null===gu?_u=gu=e:gu=gu.next=e),yu=!0,vu||(vu=!0,hh(function(){0!==(6&rc)?Q(ie,ku):xu()}))}function Cu(e,t){if(!bu&&yu){bu=!0;do{for(var r=!1,i=_u;null!==i;){if(!t)if(0!==e){var n=i.pendingLanes;if(0===n)var s=0;else{var o=i.suspendedLanes,a=i.pingedLanes;s=(1<<31-fe(42|e)+1)-1,s=201326741&(s&=n&~(o&~a))?201326741&s|1:s?2|s:0}0!==s&&(r=!0,Lu(i,s))}else s=sc,0===(3&(s=ye(i,i===ic?s:0,null!==i.cancelPendingCommit||-1!==i.timeoutHandle)))||be(i,s)||(r=!0,Lu(i,s));i=i.next}}while(r);bu=!1}}function ku(){xu()}function xu(){yu=vu=!1;var e=0;0!==Su&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==ah&&(ah=e,!0);return ah=null,!1}()&&(e=Su),Su=0);for(var t=te(),r=null,i=_u;null!==i;){var n=i.next,s=Eu(i,t);0===s?(i.next=null,null===r?_u=n:r.next=n,null===n&&(gu=r)):(r=i,(0!==e||0!==(3&s))&&(yu=!0)),i=n}Cu(e,!1)}function Eu(e,t){for(var r=e.suspendedLanes,i=e.pingedLanes,n=e.expirationTimes,s=-62914561&e.pendingLanes;0<s;){var o=31-fe(s),a=1<<o,l=n[o];-1===l?0!==(a&r)&&0===(a&i)||(n[o]=Se(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}if(r=sc,r=ye(e,e===(t=ic)?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),i=e.callbackNode,0===r||e===t&&(2===oc||9===oc)||null!==e.cancelPendingCommit)return null!==i&&null!==i&&J(i),e.callbackNode=null,e.callbackPriority=0;if(0===(3&r)||be(e,r)){if((t=r&-r)===e.callbackPriority)return t;switch(null!==i&&J(i),Re(r)){case 2:case 8:r=ne;break;case 32:default:r=se;break;case 268435456:r=ae}return i=Du.bind(null,e),r=Q(r,i),e.callbackPriority=t,e.callbackNode=r,t}return null!==i&&null!==i&&J(i),e.callbackPriority=2,e.callbackNode=null,2}function Du(e,t){if(0!==xc&&5!==xc)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(au()&&e.callbackNode!==r)return null;var i=sc;return 0===(i=ye(e,e===ic?i:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Nc(e,i,t),Eu(e,te()),null!=e.callbackNode&&e.callbackNode===r?Du.bind(null,e):null)}function Lu(e,t){if(au())return null;Nc(e,t,!0)}function Ru(){return 0===Su&&(Su=we()),Su}function Tu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Rt(""+e)}function Pu(e,t){var r=t.ownerDocument.createElement("input");return r.name=t.name,r.value=t.value,e.id&&r.setAttribute("form",e.id),t.parentNode.insertBefore(r,t),e=new FormData(e),r.parentNode.removeChild(r),e}for(var Au=0;Au<bi.length;Au++){var Mu=bi[Au];Si(Mu.toLowerCase(),"on"+(Mu[0].toUpperCase()+Mu.slice(1)))}Si(di,"onAnimationEnd"),Si(fi,"onAnimationIteration"),Si(pi,"onAnimationStart"),Si("dblclick","onDoubleClick"),Si("focusin","onFocus"),Si("focusout","onBlur"),Si(mi,"onTransitionRun"),Si(_i,"onTransitionStart"),Si(gi,"onTransitionCancel"),Si(vi,"onTransitionEnd"),$e("onMouseEnter",["mouseout","mouseover"]),$e("onMouseLeave",["mouseout","mouseover"]),$e("onPointerEnter",["pointerout","pointerover"]),$e("onPointerLeave",["pointerout","pointerover"]),Ge("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ge("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ge("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ge("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ge("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ge("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ou="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ou));function Iu(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var i=e[r],n=i.event;i=i.listeners;e:{var s=void 0;if(t)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&n.isPropagationStopped())break e;s=a,n.currentTarget=c;try{s(n)}catch(u){ga(u)}n.currentTarget=null,s=l}else for(o=0;o<i.length;o++){if(l=(a=i[o]).instance,c=a.currentTarget,a=a.listener,l!==s&&n.isPropagationStopped())break e;s=a,n.currentTarget=c;try{s(n)}catch(u){ga(u)}n.currentTarget=null,s=l}}}}function Nu(e,t){var r=t[Be];void 0===r&&(r=t[Be]=new Set);var i=e+"__bubble";r.has(i)||(zu(t,e,2,!1),r.add(i))}function Hu(e,t,r){var i=0;t&&(i|=4),zu(r,e,i,t)}var Fu="_reactListening"+Math.random().toString(36).slice(2);function ju(e){if(!e[Fu]){e[Fu]=!0,Ve.forEach(function(t){"selectionchange"!==t&&(Bu.has(t)||Hu(t,!1,e),Hu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Fu]||(t[Fu]=!0,Hu("selectionchange",!1,t))}}function zu(e,t,r,i){switch(cd(t)){case 2:var n=id;break;case 8:n=nd;break;default:n=sd}r=n.bind(null,t,r,e),n=void 0,!Ft||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(n=!0),i?void 0!==n?e.addEventListener(t,r,{capture:!0,passive:n}):e.addEventListener(t,r,!0):void 0!==n?e.addEventListener(t,r,{passive:n}):e.addEventListener(t,r,!1)}function Uu(e,t,r,i,n){var s=i;if(0===(1&t)&&0===(2&t)&&null!==i)e:for(;;){if(null===i)return;var o=i.tag;if(3===o||4===o){var a=i.stateNode.containerInfo;if(a===n)break;if(4===o)for(o=i.return;null!==o;){var c=o.tag;if((3===c||4===c)&&o.stateNode.containerInfo===n)return;o=o.return}for(;null!==a;){if(null===(o=ze(a)))return;if(5===(c=o.tag)||6===c||26===c||27===c){i=s=o;continue e}a=a.parentNode}}i=i.return}It(function(){var i=s,n=Pt(r),o=[];e:{var a=yi.get(e);if(void 0!==a){var c=Zt,u=e;switch(e){case"keypress":if(0===Kt(r))break e;case"keydown":case"keyup":c=pr;break;case"focusin":u="focus",c=sr;break;case"focusout":u="blur",c=sr;break;case"beforeblur":case"afterblur":c=sr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=ir;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=nr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=_r;break;case di:case fi:case pi:c=or;break;case vi:c=gr;break;case"scroll":case"scrollend":c=tr;break;case"wheel":c=vr;break;case"copy":case"cut":case"paste":c=ar;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=mr;break;case"toggle":case"beforetoggle":c=yr}var h=0!==(4&t),d=!h&&("scroll"===e||"scrollend"===e),f=h?null!==a?a+"Capture":null:a;h=[];for(var p,m=i;null!==m;){var _=m;if(p=_.stateNode,5!==(_=_.tag)&&26!==_&&27!==_||null===p||null===f||null!=(_=Nt(m,f))&&h.push(Wu(m,_,p)),d)break;m=m.return}0<h.length&&(a=new c(a,u,null,r,n),o.push({event:a,listeners:h}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||r===Tt||!(u=r.relatedTarget||r.fromElement)||!ze(u)&&!u[Oe])&&(c||a)&&(a=n.window===n?n:(a=n.ownerDocument)?a.defaultView||a.parentWindow:window,c?(c=i,null!==(u=(u=r.relatedTarget||r.toElement)?ze(u):null)&&(d=l(u),h=u.tag,u!==d||5!==h&&27!==h&&6!==h)&&(u=null)):(c=null,u=i),c!==u)){if(h=ir,_="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(h=mr,_="onPointerLeave",f="onPointerEnter",m="pointer"),d=null==c?a:We(c),p=null==u?a:We(u),(a=new h(_,m+"leave",c,r,n)).target=d,a.relatedTarget=p,_=null,ze(n)===i&&((h=new h(f,m+"enter",u,r,n)).target=p,h.relatedTarget=d,_=h),d=_,c&&u)e:{for(f=u,m=0,p=h=c;p;p=Ku(p))m++;for(p=0,_=f;_;_=Ku(_))p++;for(;0<m-p;)h=Ku(h),m--;for(;0<p-m;)f=Ku(f),p--;for(;m--;){if(h===f||null!==f&&h===f.alternate)break e;h=Ku(h),f=Ku(f)}h=null}else h=null;null!==c&&Vu(o,a,c,h,!1),null!==u&&null!==d&&Vu(o,d,u,h,!0)}if("select"===(c=(a=i?We(i):window).nodeName&&a.nodeName.toLowerCase())||"input"===c&&"file"===a.type)var g=Nr;else if(Pr(a))if(Hr)g=Xr;else{g=Kr;var v=qr}else!(c=a.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==a.type&&"radio"!==a.type?i&&Et(i.elementType)&&(g=Nr):g=Vr;switch(g&&(g=g(e,i))?Ar(o,g,r,n):(v&&v(e,a,i),"focusout"===e&&i&&"number"===a.type&&null!=i.memoizedProps.value&&vt(a,"number",a.value)),v=i?We(i):window,e){case"focusin":(Pr(v)||"true"===v.contentEditable)&&(ri=v,ii=i,ni=null);break;case"focusout":ni=ii=ri=null;break;case"mousedown":si=!0;break;case"contextmenu":case"mouseup":case"dragend":si=!1,oi(o,r,n);break;case"selectionchange":if(ti)break;case"keydown":case"keyup":oi(o,r,n)}var y;if(Sr)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Rr?Dr(e,r)&&(b="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(b="onCompositionStart");b&&(kr&&"ko"!==r.locale&&(Rr||"onCompositionStart"!==b?"onCompositionEnd"===b&&Rr&&(y=qt()):(Ut="value"in(zt=n)?zt.value:zt.textContent,Rr=!0)),0<(v=qu(i,b)).length&&(b=new lr(b,e,null,r,n),o.push({event:b,listeners:v}),y?b.data=y:null!==(y=Lr(r))&&(b.data=y))),(y=Cr?function(e,t){switch(e){case"compositionend":return Lr(t);case"keypress":return 32!==t.which?null:(Er=!0,xr);case"textInput":return(e=t.data)===xr&&Er?null:e;default:return null}}(e,r):function(e,t){if(Rr)return"compositionend"===e||!Sr&&Dr(e,t)?(e=qt(),Wt=Ut=zt=null,Rr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return kr&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(b=qu(i,"onBeforeInput")).length&&(v=new lr("onBeforeInput","beforeinput",null,r,n),o.push({event:v,listeners:b}),v.data=y)),function(e,t,r,i,n){if("submit"===t&&r&&r.stateNode===n){var s=Tu((n[Me]||null).action),o=i.submitter;o&&null!==(t=(t=o[Me]||null)?Tu(t.formAction):o.getAttribute("formAction"))&&(s=t,o=null);var a=new Zt("action","action",null,i,n);e.push({event:a,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(0!==Su){var e=o?Pu(n,o):new FormData(n);Po(r,{pending:!0,data:e,method:n.method,action:s},null,e)}}else"function"===typeof s&&(a.preventDefault(),e=o?Pu(n,o):new FormData(n),Po(r,{pending:!0,data:e,method:n.method,action:s},s,e))},currentTarget:n}]})}}(o,e,i,r,n)}Iu(o,t)})}function Wu(e,t,r){return{instance:e,listener:t,currentTarget:r}}function qu(e,t){for(var r=t+"Capture",i=[];null!==e;){var n=e,s=n.stateNode;if(5!==(n=n.tag)&&26!==n&&27!==n||null===s||(null!=(n=Nt(e,r))&&i.unshift(Wu(e,n,s)),null!=(n=Nt(e,t))&&i.push(Wu(e,n,s))),3===e.tag)return i;e=e.return}return[]}function Ku(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Vu(e,t,r,i,n){for(var s=t._reactName,o=[];null!==r&&r!==i;){var a=r,l=a.alternate,c=a.stateNode;if(a=a.tag,null!==l&&l===i)break;5!==a&&26!==a&&27!==a||null===c||(l=c,n?null!=(c=Nt(r,s))&&o.unshift(Wu(r,c,l)):n||null!=(c=Nt(r,s))&&o.push(Wu(r,c,l))),r=r.return}0!==o.length&&e.push({event:t,listeners:o})}var Xu=/\r\n?/g,Gu=/\u0000|\uFFFD/g;function $u(e){return("string"===typeof e?e:""+e).replace(Xu,"\n").replace(Gu,"")}function Yu(e,t){return t=$u(t),$u(e)===t}function Qu(){}function Ju(e,t,r,i,n,s){switch(r){case"children":"string"===typeof i?"body"===t||"textarea"===t&&""===i||wt(e,i):("number"===typeof i||"bigint"===typeof i)&&"body"!==t&&wt(e,""+i);break;case"className":rt(e,"class",i);break;case"tabIndex":rt(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":rt(e,r,i);break;case"style":xt(e,i,s);break;case"data":if("object"!==t){rt(e,"data",i);break}case"src":case"href":if(""===i&&("a"!==t||"href"!==r)){e.removeAttribute(r);break}if(null==i||"function"===typeof i||"symbol"===typeof i||"boolean"===typeof i){e.removeAttribute(r);break}i=Rt(""+i),e.setAttribute(r,i);break;case"action":case"formAction":if("function"===typeof i){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof s&&("formAction"===r?("input"!==t&&Ju(e,t,"name",n.name,n,null),Ju(e,t,"formEncType",n.formEncType,n,null),Ju(e,t,"formMethod",n.formMethod,n,null),Ju(e,t,"formTarget",n.formTarget,n,null)):(Ju(e,t,"encType",n.encType,n,null),Ju(e,t,"method",n.method,n,null),Ju(e,t,"target",n.target,n,null))),null==i||"symbol"===typeof i||"boolean"===typeof i){e.removeAttribute(r);break}i=Rt(""+i),e.setAttribute(r,i);break;case"onClick":null!=i&&(e.onclick=Qu);break;case"onScroll":null!=i&&Nu("scroll",e);break;case"onScrollEnd":null!=i&&Nu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!==typeof i||!("__html"in i))throw Error(o(61));if(null!=(r=i.__html)){if(null!=n.children)throw Error(o(60));e.innerHTML=r}}break;case"multiple":e.multiple=i&&"function"!==typeof i&&"symbol"!==typeof i;break;case"muted":e.muted=i&&"function"!==typeof i&&"symbol"!==typeof i;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==i||"function"===typeof i||"boolean"===typeof i||"symbol"===typeof i){e.removeAttribute("xlink:href");break}r=Rt(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=i&&"function"!==typeof i&&"symbol"!==typeof i?e.setAttribute(r,""+i):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&"function"!==typeof i&&"symbol"!==typeof i?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":!0===i?e.setAttribute(r,""):!1!==i&&null!=i&&"function"!==typeof i&&"symbol"!==typeof i?e.setAttribute(r,i):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&!isNaN(i)&&1<=i?e.setAttribute(r,i):e.removeAttribute(r);break;case"rowSpan":case"start":null==i||"function"===typeof i||"symbol"===typeof i||isNaN(i)?e.removeAttribute(r):e.setAttribute(r,i);break;case"popover":Nu("beforetoggle",e),Nu("toggle",e),tt(e,"popover",i);break;case"xlinkActuate":it(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":it(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":it(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":it(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":it(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":it(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":it(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":it(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":it(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":tt(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<r.length)||"o"!==r[0]&&"O"!==r[0]||"n"!==r[1]&&"N"!==r[1])&&tt(e,r=Dt.get(r)||r,i)}}function Zu(e,t,r,i,n,s){switch(r){case"style":xt(e,i,s);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!==typeof i||!("__html"in i))throw Error(o(61));if(null!=(r=i.__html)){if(null!=n.children)throw Error(o(60));e.innerHTML=r}}break;case"children":"string"===typeof i?wt(e,i):("number"===typeof i||"bigint"===typeof i)&&wt(e,""+i);break;case"onScroll":null!=i&&Nu("scroll",e);break;case"onScrollEnd":null!=i&&Nu("scrollend",e);break;case"onClick":null!=i&&(e.onclick=Qu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Xe.hasOwnProperty(r)||("o"!==r[0]||"n"!==r[1]||(n=r.endsWith("Capture"),t=r.slice(2,n?r.length-7:void 0),"function"===typeof(s=null!=(s=e[Me]||null)?s[r]:null)&&e.removeEventListener(t,s,n),"function"!==typeof i)?r in e?e[r]=i:!0===i?e.setAttribute(r,""):tt(e,r,i):("function"!==typeof s&&null!==s&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(t,i,n)))}}function eh(e,t,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nu("error",e),Nu("load",e);var i,n=!1,s=!1;for(i in r)if(r.hasOwnProperty(i)){var a=r[i];if(null!=a)switch(i){case"src":n=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Ju(e,t,i,a,r,null)}}return s&&Ju(e,t,"srcSet",r.srcSet,r,null),void(n&&Ju(e,t,"src",r.src,r,null));case"input":Nu("invalid",e);var l=i=a=s=null,c=null,u=null;for(n in r)if(r.hasOwnProperty(n)){var h=r[n];if(null!=h)switch(n){case"name":s=h;break;case"type":a=h;break;case"checked":c=h;break;case"defaultChecked":u=h;break;case"value":i=h;break;case"defaultValue":l=h;break;case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(o(137,t));break;default:Ju(e,t,n,h,r,null)}}return gt(e,i,l,c,u,a,s,!1),void ht(e);case"select":for(s in Nu("invalid",e),n=a=i=null,r)if(r.hasOwnProperty(s)&&null!=(l=r[s]))switch(s){case"value":i=l;break;case"defaultValue":a=l;break;case"multiple":n=l;default:Ju(e,t,s,l,r,null)}return t=i,r=a,e.multiple=!!n,void(null!=t?yt(e,!!n,t,!1):null!=r&&yt(e,!!n,r,!0));case"textarea":for(a in Nu("invalid",e),i=s=n=null,r)if(r.hasOwnProperty(a)&&null!=(l=r[a]))switch(a){case"value":n=l;break;case"defaultValue":s=l;break;case"children":i=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(o(91));break;default:Ju(e,t,a,l,r,null)}return St(e,n,s,i),void ht(e);case"option":for(c in r)if(r.hasOwnProperty(c)&&null!=(n=r[c]))if("selected"===c)e.selected=n&&"function"!==typeof n&&"symbol"!==typeof n;else Ju(e,t,c,n,r,null);return;case"dialog":Nu("beforetoggle",e),Nu("toggle",e),Nu("cancel",e),Nu("close",e);break;case"iframe":case"object":Nu("load",e);break;case"video":case"audio":for(n=0;n<Ou.length;n++)Nu(Ou[n],e);break;case"image":Nu("error",e),Nu("load",e);break;case"details":Nu("toggle",e);break;case"embed":case"source":case"link":Nu("error",e),Nu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in r)if(r.hasOwnProperty(u)&&null!=(n=r[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Ju(e,t,u,n,r,null)}return;default:if(Et(t)){for(h in r)r.hasOwnProperty(h)&&(void 0!==(n=r[h])&&Zu(e,t,h,n,r,void 0));return}}for(l in r)r.hasOwnProperty(l)&&(null!=(n=r[l])&&Ju(e,t,l,n,r,null))}var th=null,rh=null;function ih(e){return 9===e.nodeType?e:e.ownerDocument}function nh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sh(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function oh(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ah=null;var lh="function"===typeof setTimeout?setTimeout:void 0,ch="function"===typeof clearTimeout?clearTimeout:void 0,uh="function"===typeof Promise?Promise:void 0,hh="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof uh?function(e){return uh.resolve(null).then(e).catch(dh)}:lh;function dh(e){setTimeout(function(){throw e})}function fh(e){return"head"===e}function ph(e,t){var r=t,i=0,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&8===s.nodeType)if("/$"===(r=s.data)){if(0<i&&8>i){r=i;var o=e.ownerDocument;if(1&r&&Sh(o.documentElement),2&r&&Sh(o.body),4&r)for(Sh(r=o.head),o=r.firstChild;o;){var a=o.nextSibling,l=o.nodeName;o[Fe]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===o.rel.toLowerCase()||r.removeChild(o),o=a}}if(0===n)return e.removeChild(s),void Dd(t);n--}else"$"===r||"$?"===r||"$!"===r?n++:i=r.charCodeAt(0)-48;else i=0;r=s}while(r);Dd(t)}function mh(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var r=t;switch(t=t.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":mh(r),je(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===r.rel.toLowerCase())continue}e.removeChild(r)}}function _h(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function gh(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var vh=null;function yh(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}function bh(e,t,r){switch(t=ih(r),e){case"html":if(!(e=t.documentElement))throw Error(o(452));return e;case"head":if(!(e=t.head))throw Error(o(453));return e;case"body":if(!(e=t.body))throw Error(o(454));return e;default:throw Error(o(451))}}function Sh(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);je(e)}var wh=new Map,Ch=new Set;function kh(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var xh=B.d;B.d={f:function(){var e=xh.f(),t=zc();return e||t},r:function(e){var t=Ue(e);null!==t&&5===t.tag&&"form"===t.type?Mo(t):xh.r(e)},D:function(e){xh.D(e),Dh("dns-prefetch",e,null)},C:function(e,t){xh.C(e,t),Dh("preconnect",e,t)},L:function(e,t,r){xh.L(e,t,r);var i=Eh;if(i&&e&&t){var n='link[rel="preload"][as="'+mt(t)+'"]';"image"===t&&r&&r.imageSrcSet?(n+='[imagesrcset="'+mt(r.imageSrcSet)+'"]',"string"===typeof r.imageSizes&&(n+='[imagesizes="'+mt(r.imageSizes)+'"]')):n+='[href="'+mt(e)+'"]';var s=n;switch(t){case"style":s=Rh(e);break;case"script":s=Ah(e)}wh.has(s)||(e=d({rel:"preload",href:"image"===t&&r&&r.imageSrcSet?void 0:e,as:t},r),wh.set(s,e),null!==i.querySelector(n)||"style"===t&&i.querySelector(Th(s))||"script"===t&&i.querySelector(Mh(s))||(eh(t=i.createElement("link"),"link",e),Ke(t),i.head.appendChild(t)))}},m:function(e,t){xh.m(e,t);var r=Eh;if(r&&e){var i=t&&"string"===typeof t.as?t.as:"script",n='link[rel="modulepreload"][as="'+mt(i)+'"][href="'+mt(e)+'"]',s=n;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Ah(e)}if(!wh.has(s)&&(e=d({rel:"modulepreload",href:e},t),wh.set(s,e),null===r.querySelector(n))){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Mh(s)))return}eh(i=r.createElement("link"),"link",e),Ke(i),r.head.appendChild(i)}}},X:function(e,t){xh.X(e,t);var r=Eh;if(r&&e){var i=qe(r).hoistableScripts,n=Ah(e),s=i.get(n);s||((s=r.querySelector(Mh(n)))||(e=d({src:e,async:!0},t),(t=wh.get(n))&&Nh(e,t),Ke(s=r.createElement("script")),eh(s,"link",e),r.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(n,s))}},S:function(e,t,r){xh.S(e,t,r);var i=Eh;if(i&&e){var n=qe(i).hoistableStyles,s=Rh(e);t=t||"default";var o=n.get(s);if(!o){var a={loading:0,preload:null};if(o=i.querySelector(Th(s)))a.loading=5;else{e=d({rel:"stylesheet",href:e,"data-precedence":t},r),(r=wh.get(s))&&Ih(e,r);var l=o=i.createElement("link");Ke(l),eh(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){a.loading|=1}),l.addEventListener("error",function(){a.loading|=2}),a.loading|=4,Bh(o,t,i)}o={type:"stylesheet",instance:o,count:1,state:a},n.set(s,o)}}},M:function(e,t){xh.M(e,t);var r=Eh;if(r&&e){var i=qe(r).hoistableScripts,n=Ah(e),s=i.get(n);s||((s=r.querySelector(Mh(n)))||(e=d({src:e,async:!0,type:"module"},t),(t=wh.get(n))&&Nh(e,t),Ke(s=r.createElement("script")),eh(s,"link",e),r.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(n,s))}}};var Eh="undefined"===typeof document?null:document;function Dh(e,t,r){var i=Eh;if(i&&"string"===typeof t&&t){var n=mt(t);n='link[rel="'+e+'"][href="'+n+'"]',"string"===typeof r&&(n+='[crossorigin="'+r+'"]'),Ch.has(n)||(Ch.add(n),e={rel:e,crossOrigin:r,href:t},null===i.querySelector(n)&&(eh(t=i.createElement("link"),"link",e),Ke(t),i.head.appendChild(t)))}}function Lh(e,t,r,i){var n,s,a,l,c=(c=q.current)?kh(c):null;if(!c)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof r.precedence&&"string"===typeof r.href?(t=Rh(r.href),(i=(r=qe(c).hoistableStyles).get(t))||(i={type:"style",instance:null,count:0,state:null},r.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===r.rel&&"string"===typeof r.href&&"string"===typeof r.precedence){e=Rh(r.href);var u=qe(c).hoistableStyles,h=u.get(e);if(h||(c=c.ownerDocument||c,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,h),(u=c.querySelector(Th(e)))&&!u._p&&(h.instance=u,h.state.loading=5),wh.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},wh.set(e,r),u||(n=c,s=e,a=r,l=h.state,n.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=n.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),eh(s,"link",a),Ke(s),n.head.appendChild(s))))),t&&null===i)throw Error(o(528,""));return h}if(t&&null!==i)throw Error(o(529,""));return null;case"script":return t=r.async,"string"===typeof(r=r.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Ah(r),(i=(r=qe(c).hoistableScripts).get(t))||(i={type:"script",instance:null,count:0,state:null},r.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Rh(e){return'href="'+mt(e)+'"'}function Th(e){return'link[rel="stylesheet"]['+e+"]"}function Ph(e){return d({},e,{"data-precedence":e.precedence,precedence:null})}function Ah(e){return'[src="'+mt(e)+'"]'}function Mh(e){return"script[async]"+e}function Oh(e,t,r){if(t.count++,null===t.instance)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+mt(r.href)+'"]');if(i)return t.instance=i,Ke(i),i;var n=d({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return Ke(i=(e.ownerDocument||e).createElement("style")),eh(i,"style",n),Bh(i,r.precedence,e),t.instance=i;case"stylesheet":n=Rh(r.href);var s=e.querySelector(Th(n));if(s)return t.state.loading|=4,t.instance=s,Ke(s),s;i=Ph(r),(n=wh.get(n))&&Ih(i,n),Ke(s=(e.ownerDocument||e).createElement("link"));var a=s;return a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),eh(s,"link",i),t.state.loading|=4,Bh(s,r.precedence,e),t.instance=s;case"script":return s=Ah(r.src),(n=e.querySelector(Mh(s)))?(t.instance=n,Ke(n),n):(i=r,(n=wh.get(s))&&Nh(i=d({},r),n),Ke(n=(e=e.ownerDocument||e).createElement("script")),eh(n,"link",i),e.head.appendChild(n),t.instance=n);case"void":return null;default:throw Error(o(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(i=t.instance,t.state.loading|=4,Bh(i,r.precedence,e));return t.instance}function Bh(e,t,r){for(var i=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),n=i.length?i[i.length-1]:null,s=n,o=0;o<i.length;o++){var a=i[o];if(a.dataset.precedence===t)s=a;else if(s!==n)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=9===r.nodeType?r.head:r).insertBefore(e,t.firstChild)}function Ih(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Nh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Hh=null;function Fh(e,t,r){if(null===Hh){var i=new Map,n=Hh=new Map;n.set(r,i)}else(i=(n=Hh).get(r))||(i=new Map,n.set(r,i));if(i.has(e))return i;for(i.set(e,null),r=r.getElementsByTagName(e),n=0;n<r.length;n++){var s=r[n];if(!(s[Fe]||s[Ae]||"link"===e&&"stylesheet"===s.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==s.namespaceURI){var o=s.getAttribute(t)||"";o=e+o;var a=i.get(o);a?a.push(s):i.set(o,[s])}}return i}function jh(e,t,r){(e=e.ownerDocument||e).head.insertBefore(r,"title"===t?e.querySelector("head > title"):null)}function zh(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Uh=null;function Wh(){}function qh(){if(this.count--,0===this.count)if(this.stylesheets)Vh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Kh=null;function Vh(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Kh=new Map,t.forEach(Xh,e),Kh=null,qh.call(e))}function Xh(e,t){if(!(4&t.state.loading)){var r=Kh.get(e);if(r)var i=r.get(null);else{r=new Map,Kh.set(e,r);for(var n=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<n.length;s++){var o=n[s];"LINK"!==o.nodeName&&"not all"===o.getAttribute("media")||(r.set(o.dataset.precedence,o),i=o)}i&&r.set(null,i)}o=(n=t.instance).getAttribute("data-precedence"),(s=r.get(o)||i)===i&&r.set(null,n),r.set(o,n),this.count++,i=qh.bind(this),n.addEventListener("load",i),n.addEventListener("error",i),s?s.parentNode.insertBefore(n,s.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(n,e.firstChild),t.state.loading|=4}}var Gh={$$typeof:S,Provider:null,Consumer:null,_currentValue:I,_currentValue2:I,_threadCount:0};function $h(e,t,r,i,n,s,o,a){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ke(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ke(0),this.hiddenUpdates=ke(null),this.identifierPrefix=i,this.onUncaughtError=n,this.onCaughtError=s,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=a,this.incompleteTransitions=new Map}function Yh(e,t,r,i,n,s,o,a,l,c,u,h){return e=new $h(e,t,r,o,a,l,c,h),t=1,!0===s&&(t|=24),s=Bi(3,null,null,t),e.current=s,s.stateNode=e,(t=Mn()).refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:i,isDehydrated:r,cache:t},rs(s),e}function Qh(e){return e?e=Mi:Mi}function Jh(e,t,r,i,n,s){n=Qh(n),null===i.context?i.context=n:i.pendingContext=n,(i=ns(t)).payload={element:r},null!==(s=void 0===s?null:s)&&(i.callback=s),null!==(r=ss(e,i,t))&&(Ic(r,0,t),os(r,e,t))}function Zh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function ed(e,t){Zh(e,t),(e=e.alternate)&&Zh(e,t)}function td(e){if(13===e.tag){var t=Ti(e,67108864);null!==t&&Ic(t,0,67108864),ed(e,67108864)}}var rd=!0;function id(e,t,r,i){var n=O.T;O.T=null;var s=B.p;try{B.p=2,sd(e,t,r,i)}finally{B.p=s,O.T=n}}function nd(e,t,r,i){var n=O.T;O.T=null;var s=B.p;try{B.p=8,sd(e,t,r,i)}finally{B.p=s,O.T=n}}function sd(e,t,r,i){if(rd){var n=od(i);if(null===n)Uu(e,t,i,ad,r),vd(e,i);else if(function(e,t,r,i,n){switch(t){case"focusin":return hd=yd(hd,e,t,r,i,n),!0;case"dragenter":return dd=yd(dd,e,t,r,i,n),!0;case"mouseover":return fd=yd(fd,e,t,r,i,n),!0;case"pointerover":var s=n.pointerId;return pd.set(s,yd(pd.get(s)||null,e,t,r,i,n)),!0;case"gotpointercapture":return s=n.pointerId,md.set(s,yd(md.get(s)||null,e,t,r,i,n)),!0}return!1}(n,e,t,r,i))i.stopPropagation();else if(vd(e,i),4&t&&-1<gd.indexOf(e)){for(;null!==n;){var s=Ue(n);if(null!==s)switch(s.tag){case 3:if((s=s.stateNode).current.memoizedState.isDehydrated){var o=ve(s.pendingLanes);if(0!==o){var a=s;for(a.pendingLanes|=2,a.entangledLanes|=2;o;){var l=1<<31-fe(o);a.entanglements[1]|=l,o&=~l}wu(s),0===(6&rc)&&(wc=te()+500,Cu(0,!1))}}break;case 13:null!==(a=Ti(s,2))&&Ic(a,0,2),zc(),ed(s,2)}if(null===(s=od(i))&&Uu(e,t,i,ad,r),s===n)break;n=s}null!==n&&i.stopPropagation()}else Uu(e,t,i,null,r)}}function od(e){return ld(e=Pt(e))}var ad=null;function ld(e){if(ad=null,null!==(e=ze(e))){var t=l(e);if(null===t)e=null;else{var r=t.tag;if(13===r){if(null!==(e=c(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ad=e,null}function cd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(re()){case ie:return 2;case ne:return 8;case se:case oe:return 32;case ae:return 268435456;default:return 32}default:return 32}}var ud=!1,hd=null,dd=null,fd=null,pd=new Map,md=new Map,_d=[],gd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vd(e,t){switch(e){case"focusin":case"focusout":hd=null;break;case"dragenter":case"dragleave":dd=null;break;case"mouseover":case"mouseout":fd=null;break;case"pointerover":case"pointerout":pd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":md.delete(t.pointerId)}}function yd(e,t,r,i,n,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:i,nativeEvent:s,targetContainers:[n]},null!==t&&(null!==(t=Ue(t))&&td(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,null!==n&&-1===t.indexOf(n)&&t.push(n),e)}function bd(e){var t=ze(e.target);if(null!==t){var r=l(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=c(r)))return e.blockedOn=t,void function(e,t){var r=B.p;try{return B.p=e,t()}finally{B.p=r}}(e.priority,function(){if(13===r.tag){var e=Oc();e=Le(e);var t=Ti(r,e);null!==t&&Ic(t,0,e),ed(r,e)}})}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function Sd(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=od(e.nativeEvent);if(null!==r)return null!==(t=Ue(r))&&td(t),e.blockedOn=r,!1;var i=new(r=e.nativeEvent).constructor(r.type,r);Tt=i,r.target.dispatchEvent(i),Tt=null,t.shift()}return!0}function wd(e,t,r){Sd(e)&&r.delete(t)}function Cd(){ud=!1,null!==hd&&Sd(hd)&&(hd=null),null!==dd&&Sd(dd)&&(dd=null),null!==fd&&Sd(fd)&&(fd=null),pd.forEach(wd),md.forEach(wd)}function kd(e,t){e.blockedOn===t&&(e.blockedOn=null,ud||(ud=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Cd)))}var xd=null;function Ed(e){xd!==e&&(xd=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){xd===e&&(xd=null);for(var t=0;t<e.length;t+=3){var r=e[t],i=e[t+1],n=e[t+2];if("function"!==typeof i){if(null===ld(i||r))continue;break}var s=Ue(r);null!==s&&(e.splice(t,3),t-=3,Po(s,{pending:!0,data:n,method:r.method,action:i},i,n))}}))}function Dd(e){function t(t){return kd(t,e)}null!==hd&&kd(hd,e),null!==dd&&kd(dd,e),null!==fd&&kd(fd,e),pd.forEach(t),md.forEach(t);for(var r=0;r<_d.length;r++){var i=_d[r];i.blockedOn===e&&(i.blockedOn=null)}for(;0<_d.length&&null===(r=_d[0]).blockedOn;)bd(r),null===r.blockedOn&&_d.shift();if(null!=(r=(e.ownerDocument||e).$$reactFormReplay))for(i=0;i<r.length;i+=3){var n=r[i],s=r[i+1],o=n[Me]||null;if("function"===typeof s)o||Ed(r);else if(o){var a=null;if(s&&s.hasAttribute("formAction")){if(n=s,o=s[Me]||null)a=o.formAction;else if(null!==ld(n))continue}else a=o.action;"function"===typeof a?r[i+1]=a:(r.splice(i,3),i-=3),Ed(r)}}}function Ld(e){this._internalRoot=e}function Rd(e){this._internalRoot=e}Rd.prototype.render=Ld.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Jh(t.current,Oc(),e,t,null,null)},Rd.prototype.unmount=Ld.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Jh(e.current,2,null,e,null,null),zc(),t[Oe]=null}},Rd.prototype.unstable_scheduleHydration=function(e){if(e){var t=Te();e={blockedOn:null,target:e,priority:t};for(var r=0;r<_d.length&&0!==t&&t<_d[r].priority;r++);_d.splice(r,0,e),0===r&&bd(e)}};var Td=n.version;if("19.1.1"!==Td)throw Error(o(527,Td,"19.1.1"));B.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(o(188));return t!==e?null:e}for(var r=e,i=t;;){var n=r.return;if(null===n)break;var s=n.alternate;if(null===s){if(null!==(i=n.return)){r=i;continue}break}if(n.child===s.child){for(s=n.child;s;){if(s===r)return u(n),e;if(s===i)return u(n),t;s=s.sibling}throw Error(o(188))}if(r.return!==i.return)r=n,i=s;else{for(var a=!1,c=n.child;c;){if(c===r){a=!0,r=n,i=s;break}if(c===i){a=!0,i=n,r=s;break}c=c.sibling}if(!a){for(c=s.child;c;){if(c===r){a=!0,r=s,i=n;break}if(c===i){a=!0,i=s,r=n;break}c=c.sibling}if(!a)throw Error(o(189))}}if(r.alternate!==i)throw Error(o(190))}if(3!==r.tag)throw Error(o(188));return r.stateNode.current===r?e:t}(t),e=null===(e=null!==e?h(e):null)?null:e.stateNode};var Pd={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.1.1"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Ad=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ad.isDisabled&&Ad.supportsFiber)try{ue=Ad.inject(Pd),he=Ad}catch(Od){}}t.createRoot=function(e,t){if(!a(e))throw Error(o(299));var r=!1,i="",n=va,s=ya,l=ba;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onUncaughtError&&(n=t.onUncaughtError),void 0!==t.onCaughtError&&(s=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Yh(e,1,!1,null,0,r,i,n,s,l,0,null),e[Oe]=t.current,ju(e),new Ld(t)},t.hydrateRoot=function(e,t,r){if(!a(e))throw Error(o(299));var i=!1,n="",s=va,l=ya,c=ba,u=null;return null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(i=!0),void 0!==r.identifierPrefix&&(n=r.identifierPrefix),void 0!==r.onUncaughtError&&(s=r.onUncaughtError),void 0!==r.onCaughtError&&(l=r.onCaughtError),void 0!==r.onRecoverableError&&(c=r.onRecoverableError),void 0!==r.unstable_transitionCallbacks&&r.unstable_transitionCallbacks,void 0!==r.formState&&(u=r.formState)),(t=Yh(e,1,!0,t,0,i,n,s,l,c,0,u)).context=Qh(null),r=t.current,(n=ns(i=Le(i=Oc()))).callback=null,ss(r,n,i),r=i,t.current.lanes=r,xe(t,r),wu(t),e[Oe]=t.current,ju(e),new Rd(t)},t.version="19.1.1"},43:(e,t,r)=>{"use strict";e.exports=r(288)},104:e=>{var t;self,t=()=>(()=>{"use strict";var e={4567:function(e,t,r){var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},n=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.AccessibilityManager=void 0;const s=r(9042),o=r(6114),a=r(9924),l=r(844),c=r(5596),u=r(4725),h=r(3656);let d=t.AccessibilityManager=class extends l.Disposable{constructor(e,t){super(),this._terminal=e,this._renderService=t,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=document.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=document.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let r=0;r<this._terminal.rows;r++)this._rowElements[r]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[r]);if(this._topBoundaryFocusListener=e=>this._handleBoundaryFocus(e,0),this._bottomBoundaryFocusListener=e=>this._handleBoundaryFocus(e,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=document.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new a.TimeBasedDebouncer(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._terminal.onResize(e=>this._handleResize(e.rows))),this.register(this._terminal.onRender(e=>this._refreshRows(e.start,e.end))),this.register(this._terminal.onScroll(()=>this._refreshRows())),this.register(this._terminal.onA11yChar(e=>this._handleChar(e))),this.register(this._terminal.onLineFeed(()=>this._handleChar("\n"))),this.register(this._terminal.onA11yTab(e=>this._handleTab(e))),this.register(this._terminal.onKey(e=>this._handleKey(e.key))),this.register(this._terminal.onBlur(()=>this._clearLiveRegion())),this.register(this._renderService.onDimensionsChange(()=>this._refreshRowsDimensions())),this._screenDprMonitor=new c.ScreenDprMonitor(window),this.register(this._screenDprMonitor),this._screenDprMonitor.setListener(()=>this._refreshRowsDimensions()),this.register((0,h.addDisposableDomListener)(window,"resize",()=>this._refreshRowsDimensions())),this._refreshRows(),this.register((0,l.toDisposable)(()=>{this._accessibilityContainer.remove(),this._rowElements.length=0}))}_handleTab(e){for(let t=0;t<e;t++)this._handleChar(" ")}_handleChar(e){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==e&&(this._charsToAnnounce+=e):this._charsToAnnounce+=e,"\n"===e&&(this._liveRegionLineCount++,21===this._liveRegionLineCount&&(this._liveRegion.textContent+=s.tooMuchOutput)),o.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout(()=>{this._accessibilityContainer.appendChild(this._liveRegion)},0))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0,o.isMac&&this._liveRegion.remove()}_handleKey(e){this._clearLiveRegion(),/[\0-\x1F\x7F-\x9F]/.test(e)||this._charsToConsume.push(e)}_refreshRows(e,t){this._liveRegionDebouncer.refresh(e,t,this._terminal.rows)}_renderRows(e,t){const r=this._terminal.buffer,i=r.lines.length.toString();for(let n=e;n<=t;n++){const e=r.translateBufferLineToString(r.ydisp+n,!0),t=(r.ydisp+n+1).toString(),s=this._rowElements[n];s&&(0===e.length?s.innerText="\xa0":s.textContent=e,s.setAttribute("aria-posinset",t),s.setAttribute("aria-setsize",i))}this._announceCharacters()}_announceCharacters(){0!==this._charsToAnnounce.length&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(e,t){const r=e.target,i=this._rowElements[0===t?1:this._rowElements.length-2];if(r.getAttribute("aria-posinset")===(0===t?"1":"".concat(this._terminal.buffer.lines.length)))return;if(e.relatedTarget!==i)return;let n,s;if(0===t?(n=r,s=this._rowElements.pop(),this._rowContainer.removeChild(s)):(n=this._rowElements.shift(),s=r,this._rowContainer.removeChild(n)),n.removeEventListener("focus",this._topBoundaryFocusListener),s.removeEventListener("focus",this._bottomBoundaryFocusListener),0===t){const e=this._createAccessibilityTreeNode();this._rowElements.unshift(e),this._rowContainer.insertAdjacentElement("afterbegin",e)}else{const e=this._createAccessibilityTreeNode();this._rowElements.push(e),this._rowContainer.appendChild(e)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(0===t?-1:1),this._rowElements[0===t?1:this._rowElements.length-2].focus(),e.preventDefault(),e.stopImmediatePropagation()}_handleResize(e){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let t=this._rowContainer.children.length;t<this._terminal.rows;t++)this._rowElements[t]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[t]);for(;this._rowElements.length>e;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const e=document.createElement("div");return e.setAttribute("role","listitem"),e.tabIndex=-1,this._refreshRowDimensions(e),e}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width="".concat(this._renderService.dimensions.css.canvas.width,"px"),this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let e=0;e<this._terminal.rows;e++)this._refreshRowDimensions(this._rowElements[e])}}_refreshRowDimensions(e){e.style.height="".concat(this._renderService.dimensions.css.cell.height,"px")}};t.AccessibilityManager=d=i([n(1,u.IRenderService)],d)},3614:(e,t)=>{function r(e){return e.replace(/\r?\n/g,"\r")}function i(e,t){return t?"\x1b[200~"+e+"\x1b[201~":e}function n(e,t,n,s){e=i(e=r(e),n.decPrivateModes.bracketedPasteMode&&!0!==s.rawOptions.ignoreBracketedPasteMode),n.triggerDataEvent(e,!0),t.value=""}function s(e,t,r){const i=r.getBoundingClientRect(),n=e.clientX-i.left-10,s=e.clientY-i.top-10;t.style.width="20px",t.style.height="20px",t.style.left="".concat(n,"px"),t.style.top="".concat(s,"px"),t.style.zIndex="1000",t.focus()}Object.defineProperty(t,"__esModule",{value:!0}),t.rightClickHandler=t.moveTextAreaUnderMouseCursor=t.paste=t.handlePasteEvent=t.copyHandler=t.bracketTextForPaste=t.prepareTextForTerminal=void 0,t.prepareTextForTerminal=r,t.bracketTextForPaste=i,t.copyHandler=function(e,t){e.clipboardData&&e.clipboardData.setData("text/plain",t.selectionText),e.preventDefault()},t.handlePasteEvent=function(e,t,r,i){e.stopPropagation(),e.clipboardData&&n(e.clipboardData.getData("text/plain"),t,r,i)},t.paste=n,t.moveTextAreaUnderMouseCursor=s,t.rightClickHandler=function(e,t,r,i,n){s(e,t,r),n&&i.rightClickSelect(e),t.value=i.selectionText,t.select()}},7239:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ColorContrastCache=void 0;const i=r(1505);t.ColorContrastCache=class{constructor(){this._color=new i.TwoKeyMap,this._css=new i.TwoKeyMap}setCss(e,t,r){this._css.set(e,t,r)}getCss(e,t){return this._css.get(e,t)}setColor(e,t,r){this._color.set(e,t,r)}getColor(e,t){return this._color.get(e,t)}clear(){this._color.clear(),this._css.clear()}}},3656:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.addDisposableDomListener=void 0,t.addDisposableDomListener=function(e,t,r,i){e.addEventListener(t,r,i);let n=!1;return{dispose:()=>{n||(n=!0,e.removeEventListener(t,r,i))}}}},6465:function(e,t,r){var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},n=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.Linkifier2=void 0;const s=r(3656),o=r(8460),a=r(844),l=r(2585);let c=t.Linkifier2=class extends a.Disposable{get currentLink(){return this._currentLink}constructor(e){super(),this._bufferService=e,this._linkProviders=[],this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new o.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new o.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,a.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,a.toDisposable)(()=>{this._lastMouseEvent=void 0})),this.register(this._bufferService.onResize(()=>{this._clearCurrentLink(),this._wasResized=!0}))}registerLinkProvider(e){return this._linkProviders.push(e),{dispose:()=>{const t=this._linkProviders.indexOf(e);-1!==t&&this._linkProviders.splice(t,1)}}}attachToDom(e,t,r){this._element=e,this._mouseService=t,this._renderService=r,this.register((0,s.addDisposableDomListener)(this._element,"mouseleave",()=>{this._isMouseOut=!0,this._clearCurrentLink()})),this.register((0,s.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,s.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,s.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(e){if(this._lastMouseEvent=e,!this._element||!this._mouseService)return;const t=this._positionFromMouseEvent(e,this._element,this._mouseService);if(!t)return;this._isMouseOut=!1;const r=e.composedPath();for(let i=0;i<r.length;i++){const e=r[i];if(e.classList.contains("xterm"))break;if(e.classList.contains("xterm-hover"))return}this._lastBufferCell&&t.x===this._lastBufferCell.x&&t.y===this._lastBufferCell.y||(this._handleHover(t),this._lastBufferCell=t)}_handleHover(e){if(this._activeLine!==e.y||this._wasResized)return this._clearCurrentLink(),this._askForLink(e,!1),void(this._wasResized=!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,e)||(this._clearCurrentLink(),this._askForLink(e,!0))}_askForLink(e,t){var r,i;this._activeProviderReplies&&t||(null===(r=this._activeProviderReplies)||void 0===r||r.forEach(e=>{null==e||e.forEach(e=>{e.link.dispose&&e.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=e.y);let n=!1;for(const[s,o]of this._linkProviders.entries())t?(null===(i=this._activeProviderReplies)||void 0===i?void 0:i.get(s))&&(n=this._checkLinkProviderResult(s,e,n)):o.provideLinks(e.y,t=>{var r,i;if(this._isMouseOut)return;const o=null==t?void 0:t.map(e=>({link:e}));null===(r=this._activeProviderReplies)||void 0===r||r.set(s,o),n=this._checkLinkProviderResult(s,e,n),(null===(i=this._activeProviderReplies)||void 0===i?void 0:i.size)===this._linkProviders.length&&this._removeIntersectingLinks(e.y,this._activeProviderReplies)})}_removeIntersectingLinks(e,t){const r=new Set;for(let i=0;i<t.size;i++){const n=t.get(i);if(n)for(let t=0;t<n.length;t++){const i=n[t],s=i.link.range.start.y<e?0:i.link.range.start.x,o=i.link.range.end.y>e?this._bufferService.cols:i.link.range.end.x;for(let e=s;e<=o;e++){if(r.has(e)){n.splice(t--,1);break}r.add(e)}}}}_checkLinkProviderResult(e,t,r){var i;if(!this._activeProviderReplies)return r;const n=this._activeProviderReplies.get(e);let s=!1;for(let o=0;o<e;o++)this._activeProviderReplies.has(o)&&!this._activeProviderReplies.get(o)||(s=!0);if(!s&&n){const e=n.find(e=>this._linkAtPosition(e.link,t));e&&(r=!0,this._handleNewLink(e))}if(this._activeProviderReplies.size===this._linkProviders.length&&!r)for(let o=0;o<this._activeProviderReplies.size;o++){const e=null===(i=this._activeProviderReplies.get(o))||void 0===i?void 0:i.find(e=>this._linkAtPosition(e.link,t));if(e){r=!0,this._handleNewLink(e);break}}return r}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(e){if(!this._element||!this._mouseService||!this._currentLink)return;const t=this._positionFromMouseEvent(e,this._element,this._mouseService);t&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,t)&&this._currentLink.link.activate(e,this._currentLink.link.text)}_clearCurrentLink(e,t){this._element&&this._currentLink&&this._lastMouseEvent&&(!e||!t||this._currentLink.link.range.start.y>=e&&this._currentLink.link.range.end.y<=t)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,a.disposeArray)(this._linkCacheDisposables))}_handleNewLink(e){if(!this._element||!this._lastMouseEvent||!this._mouseService)return;const t=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);t&&this._linkAtPosition(e.link,t)&&(this._currentLink=e,this._currentLink.state={decorations:{underline:void 0===e.link.decorations||e.link.decorations.underline,pointerCursor:void 0===e.link.decorations||e.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,e.link,this._lastMouseEvent),e.link.decorations={},Object.defineProperties(e.link.decorations,{pointerCursor:{get:()=>{var e,t;return null===(t=null===(e=this._currentLink)||void 0===e?void 0:e.state)||void 0===t?void 0:t.decorations.pointerCursor},set:e=>{var t,r;(null===(t=this._currentLink)||void 0===t?void 0:t.state)&&this._currentLink.state.decorations.pointerCursor!==e&&(this._currentLink.state.decorations.pointerCursor=e,this._currentLink.state.isHovered&&(null===(r=this._element)||void 0===r||r.classList.toggle("xterm-cursor-pointer",e)))}},underline:{get:()=>{var e,t;return null===(t=null===(e=this._currentLink)||void 0===e?void 0:e.state)||void 0===t?void 0:t.decorations.underline},set:t=>{var r,i,n;(null===(r=this._currentLink)||void 0===r?void 0:r.state)&&(null===(n=null===(i=this._currentLink)||void 0===i?void 0:i.state)||void 0===n?void 0:n.decorations.underline)!==t&&(this._currentLink.state.decorations.underline=t,this._currentLink.state.isHovered&&this._fireUnderlineEvent(e.link,t))}}}),this._renderService&&this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange(e=>{if(!this._currentLink)return;const t=0===e.start?0:e.start+1+this._bufferService.buffer.ydisp,r=this._bufferService.buffer.ydisp+1+e.end;if(this._currentLink.link.range.start.y>=t&&this._currentLink.link.range.end.y<=r&&(this._clearCurrentLink(t,r),this._lastMouseEvent&&this._element)){const e=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);e&&this._askForLink(e,!1)}})))}_linkHover(e,t,r){var i;(null===(i=this._currentLink)||void 0===i?void 0:i.state)&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(t,!0),this._currentLink.state.decorations.pointerCursor&&e.classList.add("xterm-cursor-pointer")),t.hover&&t.hover(r,t.text)}_fireUnderlineEvent(e,t){const r=e.range,i=this._bufferService.buffer.ydisp,n=this._createLinkUnderlineEvent(r.start.x-1,r.start.y-i-1,r.end.x,r.end.y-i-1,void 0);(t?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(n)}_linkLeave(e,t,r){var i;(null===(i=this._currentLink)||void 0===i?void 0:i.state)&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(t,!1),this._currentLink.state.decorations.pointerCursor&&e.classList.remove("xterm-cursor-pointer")),t.leave&&t.leave(r,t.text)}_linkAtPosition(e,t){const r=e.range.start.y*this._bufferService.cols+e.range.start.x,i=e.range.end.y*this._bufferService.cols+e.range.end.x,n=t.y*this._bufferService.cols+t.x;return r<=n&&n<=i}_positionFromMouseEvent(e,t,r){const i=r.getCoords(e,t,this._bufferService.cols,this._bufferService.rows);if(i)return{x:i[0],y:i[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(e,t,r,i,n){return{x1:e,y1:t,x2:r,y2:i,cols:this._bufferService.cols,fg:n}}};t.Linkifier2=c=i([n(0,l.IBufferService)],c)},9042:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.tooMuchOutput=t.promptLabel=void 0,t.promptLabel="Terminal input",t.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(e,t,r){var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},n=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.OscLinkProvider=void 0;const s=r(511),o=r(2585);let a=t.OscLinkProvider=class{constructor(e,t,r){this._bufferService=e,this._optionsService=t,this._oscLinkService=r}provideLinks(e,t){var r;const i=this._bufferService.buffer.lines.get(e-1);if(!i)return void t(void 0);const n=[],o=this._optionsService.rawOptions.linkHandler,a=new s.CellData,c=i.getTrimmedLength();let u=-1,h=-1,d=!1;for(let s=0;s<c;s++)if(-1!==h||i.hasContent(s)){if(i.loadCell(s,a),a.hasExtendedAttrs()&&a.extended.urlId){if(-1===h){h=s,u=a.extended.urlId;continue}d=a.extended.urlId!==u}else-1!==h&&(d=!0);if(d||-1!==h&&s===c-1){const t=null===(r=this._oscLinkService.getLinkData(u))||void 0===r?void 0:r.uri;if(t){const r={start:{x:h+1,y:e},end:{x:s+(d||s!==c-1?0:1),y:e}};let i=!1;if(!(null==o?void 0:o.allowNonHttpProtocols))try{const e=new URL(t);["http:","https:"].includes(e.protocol)||(i=!0)}catch(e){i=!0}i||n.push({text:t,range:r,activate:(e,t)=>o?o.activate(e,t,r):l(0,t),hover:(e,t)=>{var i;return null===(i=null==o?void 0:o.hover)||void 0===i?void 0:i.call(o,e,t,r)},leave:(e,t)=>{var i;return null===(i=null==o?void 0:o.leave)||void 0===i?void 0:i.call(o,e,t,r)}})}d=!1,a.hasExtendedAttrs()&&a.extended.urlId?(h=s,u=a.extended.urlId):(h=-1,u=-1)}}t(n)}};function l(e,t){if(confirm("Do you want to navigate to ".concat(t,"?\n\nWARNING: This link could potentially be dangerous"))){const r=window.open();if(r){try{r.opener=null}catch(e){}r.location.href=t}else console.warn("Opening link blocked as opener could not be cleared")}}t.OscLinkProvider=a=i([n(0,o.IBufferService),n(1,o.IOptionsService),n(2,o.IOscLinkService)],a)},6193:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RenderDebouncer=void 0,t.RenderDebouncer=class{constructor(e,t){this._parentWindow=e,this._renderCallback=t,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._parentWindow.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(e){return this._refreshCallbacks.push(e),this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh())),this._animationFrame}refresh(e,t,r){this._rowCount=r,e=void 0!==e?e:0,t=void 0!==t?t:this._rowCount-1,this._rowStart=void 0!==this._rowStart?Math.min(this._rowStart,e):e,this._rowEnd=void 0!==this._rowEnd?Math.max(this._rowEnd,t):t,this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._animationFrame=void 0,void 0===this._rowStart||void 0===this._rowEnd||void 0===this._rowCount)return void this._runRefreshCallbacks();const e=Math.max(this._rowStart,0),t=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(e,t),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const e of this._refreshCallbacks)e(0);this._refreshCallbacks=[]}}},5596:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ScreenDprMonitor=void 0;const i=r(844);class n extends i.Disposable{constructor(e){super(),this._parentWindow=e,this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this.register((0,i.toDisposable)(()=>{this.clearListener()}))}setListener(e){this._listener&&this.clearListener(),this._listener=e,this._outerListener=()=>{this._listener&&(this._listener(this._parentWindow.devicePixelRatio,this._currentDevicePixelRatio),this._updateDpr())},this._updateDpr()}_updateDpr(){var e;this._outerListener&&(null===(e=this._resolutionMediaMatchList)||void 0===e||e.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia("screen and (resolution: ".concat(this._parentWindow.devicePixelRatio,"dppx)")),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)}}t.ScreenDprMonitor=n},3236:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Terminal=void 0;const i=r(3614),n=r(3656),s=r(6465),o=r(9042),a=r(3730),l=r(1680),c=r(3107),u=r(5744),h=r(2950),d=r(1296),f=r(428),p=r(4269),m=r(5114),_=r(8934),g=r(3230),v=r(9312),y=r(4725),b=r(6731),S=r(8055),w=r(8969),C=r(8460),k=r(844),x=r(6114),E=r(8437),D=r(2584),L=r(7399),R=r(5941),T=r(9074),P=r(2585),A=r(5435),M=r(4567),O="undefined"!=typeof window?window.document:null;class B extends w.CoreTerminal{get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),this.browser=x,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this.register(new k.MutableDisposable),this._onCursorMove=this.register(new C.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new C.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new C.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new C.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new C.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new C.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new C.EventEmitter),this._onBlur=this.register(new C.EventEmitter),this._onA11yCharEmitter=this.register(new C.EventEmitter),this._onA11yTabEmitter=this.register(new C.EventEmitter),this._onWillOpen=this.register(new C.EventEmitter),this._setup(),this.linkifier2=this.register(this._instantiationService.createInstance(s.Linkifier2)),this.linkifier2.registerLinkProvider(this._instantiationService.createInstance(a.OscLinkProvider)),this._decorationService=this._instantiationService.createInstance(T.DecorationService),this._instantiationService.setService(P.IDecorationService,this._decorationService),this.register(this._inputHandler.onRequestBell(()=>this._onBell.fire())),this.register(this._inputHandler.onRequestRefreshRows((e,t)=>this.refresh(e,t))),this.register(this._inputHandler.onRequestSendFocus(()=>this._reportFocus())),this.register(this._inputHandler.onRequestReset(()=>this.reset())),this.register(this._inputHandler.onRequestWindowsOptionsReport(e=>this._reportWindowsOptions(e))),this.register(this._inputHandler.onColor(e=>this._handleColorEvent(e))),this.register((0,C.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,C.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,C.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,C.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize(e=>this._afterResize(e.cols,e.rows))),this.register((0,k.toDisposable)(()=>{var e,t;this._customKeyEventHandler=void 0,null===(t=null===(e=this.element)||void 0===e?void 0:e.parentNode)||void 0===t||t.removeChild(this.element)}))}_handleColorEvent(e){if(this._themeService)for(const t of e){let e,r="";switch(t.index){case 256:e="foreground",r="10";break;case 257:e="background",r="11";break;case 258:e="cursor",r="12";break;default:e="ansi",r="4;"+t.index}switch(t.type){case 0:const i=S.color.toColorRGB("ansi"===e?this._themeService.colors.ansi[t.index]:this._themeService.colors[e]);this.coreService.triggerDataEvent("".concat(D.C0.ESC,"]").concat(r,";").concat((0,R.toRgbString)(i)).concat(D.C1_ESCAPED.ST));break;case 1:if("ansi"===e)this._themeService.modifyColors(e=>e.ansi[t.index]=S.rgba.toColor(...t.color));else{const r=e;this._themeService.modifyColors(e=>e[r]=S.rgba.toColor(...t.color))}break;case 2:this._themeService.restoreColor(t.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(e){e?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(M.AccessibilityManager,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(e){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(D.C0.ESC+"[I"),this.updateCursorStyle(e),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){var e;return null===(e=this.textarea)||void 0===e?void 0:e.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(D.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const e=this.buffer.ybase+this.buffer.y,t=this.buffer.lines.get(e);if(!t)return;const r=Math.min(this.buffer.x,this.cols-1),i=this._renderService.dimensions.css.cell.height,n=t.getWidth(r),s=this._renderService.dimensions.css.cell.width*n,o=this.buffer.y*this._renderService.dimensions.css.cell.height,a=r*this._renderService.dimensions.css.cell.width;this.textarea.style.left=a+"px",this.textarea.style.top=o+"px",this.textarea.style.width=s+"px",this.textarea.style.height=i+"px",this.textarea.style.lineHeight=i+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,n.addDisposableDomListener)(this.element,"copy",e=>{this.hasSelection()&&(0,i.copyHandler)(e,this._selectionService)}));const e=e=>(0,i.handlePasteEvent)(e,this.textarea,this.coreService,this.optionsService);this.register((0,n.addDisposableDomListener)(this.textarea,"paste",e)),this.register((0,n.addDisposableDomListener)(this.element,"paste",e)),x.isFirefox?this.register((0,n.addDisposableDomListener)(this.element,"mousedown",e=>{2===e.button&&(0,i.rightClickHandler)(e,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})):this.register((0,n.addDisposableDomListener)(this.element,"contextmenu",e=>{(0,i.rightClickHandler)(e,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})),x.isLinux&&this.register((0,n.addDisposableDomListener)(this.element,"auxclick",e=>{1===e.button&&(0,i.moveTextAreaUnderMouseCursor)(e,this.textarea,this.screenElement)}))}_bindKeys(){this.register((0,n.addDisposableDomListener)(this.textarea,"keyup",e=>this._keyUp(e),!0)),this.register((0,n.addDisposableDomListener)(this.textarea,"keydown",e=>this._keyDown(e),!0)),this.register((0,n.addDisposableDomListener)(this.textarea,"keypress",e=>this._keyPress(e),!0)),this.register((0,n.addDisposableDomListener)(this.textarea,"compositionstart",()=>this._compositionHelper.compositionstart())),this.register((0,n.addDisposableDomListener)(this.textarea,"compositionupdate",e=>this._compositionHelper.compositionupdate(e))),this.register((0,n.addDisposableDomListener)(this.textarea,"compositionend",()=>this._compositionHelper.compositionend())),this.register((0,n.addDisposableDomListener)(this.textarea,"input",e=>this._inputEvent(e),!0)),this.register(this.onRender(()=>this._compositionHelper.updateCompositionElements()))}open(e){var t;if(!e)throw new Error("Terminal requires a parent element.");e.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this._document=e.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),e.appendChild(this.element);const r=O.createDocumentFragment();this._viewportElement=O.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),r.appendChild(this._viewportElement),this._viewportScrollArea=O.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=O.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=O.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),r.appendChild(this.screenElement),this.textarea=O.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",o.promptLabel),x.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this._instantiationService.createInstance(m.CoreBrowserService,this.textarea,null!==(t=this._document.defaultView)&&void 0!==t?t:window),this._instantiationService.setService(y.ICoreBrowserService,this._coreBrowserService),this.register((0,n.addDisposableDomListener)(this.textarea,"focus",e=>this._handleTextAreaFocus(e))),this.register((0,n.addDisposableDomListener)(this.textarea,"blur",()=>this._handleTextAreaBlur())),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(f.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(y.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(b.ThemeService),this._instantiationService.setService(y.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(p.CharacterJoinerService),this._instantiationService.setService(y.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(g.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(y.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange(e=>this._onRender.fire(e))),this.onResize(e=>this._renderService.resize(e.cols,e.rows)),this._compositionView=O.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(h.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild(r);try{this._onWillOpen.fire(this.element)}catch(e){}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this._mouseService=this._instantiationService.createInstance(_.MouseService),this._instantiationService.setService(y.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(l.Viewport,this._viewportElement,this._viewportScrollArea),this.viewport.onRequestScrollLines(e=>this.scrollLines(e.amount,e.suppressScrollEvent,1)),this.register(this._inputHandler.onRequestSyncScrollBar(()=>this.viewport.syncScrollArea())),this.register(this.viewport),this.register(this.onCursorMove(()=>{this._renderService.handleCursorMove(),this._syncTextArea()})),this.register(this.onResize(()=>this._renderService.handleResize(this.cols,this.rows))),this.register(this.onBlur(()=>this._renderService.handleBlur())),this.register(this.onFocus(()=>this._renderService.handleFocus())),this.register(this._renderService.onDimensionsChange(()=>this.viewport.syncScrollArea())),this._selectionService=this.register(this._instantiationService.createInstance(v.SelectionService,this.element,this.screenElement,this.linkifier2)),this._instantiationService.setService(y.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines(e=>this.scrollLines(e.amount,e.suppressScrollEvent))),this.register(this._selectionService.onSelectionChange(()=>this._onSelectionChange.fire())),this.register(this._selectionService.onRequestRedraw(e=>this._renderService.handleSelectionChanged(e.start,e.end,e.columnSelectMode))),this.register(this._selectionService.onLinuxMouseSelection(e=>{this.textarea.value=e,this.textarea.focus(),this.textarea.select()})),this.register(this._onScroll.event(e=>{this.viewport.syncScrollArea(),this._selectionService.refresh()})),this.register((0,n.addDisposableDomListener)(this._viewportElement,"scroll",()=>this._selectionService.refresh())),this.linkifier2.attachToDom(this.screenElement,this._mouseService,this._renderService),this.register(this._instantiationService.createInstance(c.BufferDecorationRenderer,this.screenElement)),this.register((0,n.addDisposableDomListener)(this.element,"mousedown",e=>this._selectionService.handleMouseDown(e))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(M.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",e=>this._handleScreenReaderModeOptionChange(e))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(u.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",e=>{!this._overviewRulerRenderer&&e&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(u.OverviewRulerRenderer,this._viewportElement,this.screenElement)))}),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(d.DomRenderer,this.element,this.screenElement,this._viewportElement,this.linkifier2)}bindMouse(){const e=this,t=this.element;function r(t){const r=e._mouseService.getMouseReportCoords(t,e.screenElement);if(!r)return!1;let i,n;switch(t.overrideType||t.type){case"mousemove":n=32,void 0===t.buttons?(i=3,void 0!==t.button&&(i=t.button<3?t.button:3)):i=1&t.buttons?0:4&t.buttons?1:2&t.buttons?2:3;break;case"mouseup":n=0,i=t.button<3?t.button:3;break;case"mousedown":n=1,i=t.button<3?t.button:3;break;case"wheel":if(0===e.viewport.getLinesScrolled(t))return!1;n=t.deltaY<0?0:1,i=4;break;default:return!1}return!(void 0===n||void 0===i||i>4)&&e.coreMouseService.triggerMouseEvent({col:r.col,row:r.row,x:r.x,y:r.y,button:i,action:n,ctrl:t.ctrlKey,alt:t.altKey,shift:t.shiftKey})}const i={mouseup:null,wheel:null,mousedrag:null,mousemove:null},s={mouseup:e=>(r(e),e.buttons||(this._document.removeEventListener("mouseup",i.mouseup),i.mousedrag&&this._document.removeEventListener("mousemove",i.mousedrag)),this.cancel(e)),wheel:e=>(r(e),this.cancel(e,!0)),mousedrag:e=>{e.buttons&&r(e)},mousemove:e=>{e.buttons||r(e)}};this.register(this.coreMouseService.onProtocolChange(e=>{e?("debug"===this.optionsService.rawOptions.logLevel&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(e)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&e?i.mousemove||(t.addEventListener("mousemove",s.mousemove),i.mousemove=s.mousemove):(t.removeEventListener("mousemove",i.mousemove),i.mousemove=null),16&e?i.wheel||(t.addEventListener("wheel",s.wheel,{passive:!1}),i.wheel=s.wheel):(t.removeEventListener("wheel",i.wheel),i.wheel=null),2&e?i.mouseup||(t.addEventListener("mouseup",s.mouseup),i.mouseup=s.mouseup):(this._document.removeEventListener("mouseup",i.mouseup),t.removeEventListener("mouseup",i.mouseup),i.mouseup=null),4&e?i.mousedrag||(i.mousedrag=s.mousedrag):(this._document.removeEventListener("mousemove",i.mousedrag),i.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,n.addDisposableDomListener)(t,"mousedown",e=>{if(e.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(e))return r(e),i.mouseup&&this._document.addEventListener("mouseup",i.mouseup),i.mousedrag&&this._document.addEventListener("mousemove",i.mousedrag),this.cancel(e)})),this.register((0,n.addDisposableDomListener)(t,"wheel",e=>{if(!i.wheel){if(!this.buffer.hasScrollback){const t=this.viewport.getLinesScrolled(e);if(0===t)return;const r=D.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(e.deltaY<0?"A":"B");let i="";for(let e=0;e<Math.abs(t);e++)i+=r;return this.coreService.triggerDataEvent(i,!0),this.cancel(e,!0)}return this.viewport.handleWheel(e)?this.cancel(e):void 0}},{passive:!1})),this.register((0,n.addDisposableDomListener)(t,"touchstart",e=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(e),this.cancel(e)},{passive:!0})),this.register((0,n.addDisposableDomListener)(t,"touchmove",e=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(e)?void 0:this.cancel(e)},{passive:!1}))}refresh(e,t){var r;null===(r=this._renderService)||void 0===r||r.refreshRows(e,t)}updateCursorStyle(e){var t;(null===(t=this._selectionService)||void 0===t?void 0:t.shouldColumnSelect(e))?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;var i;1===r?(super.scrollLines(e,t,r),this.refresh(0,this.rows-1)):null===(i=this.viewport)||void 0===i||i.scrollLines(e)}paste(e){(0,i.paste)(e,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(e){this._customKeyEventHandler=e}registerLinkProvider(e){return this.linkifier2.registerLinkProvider(e)}registerCharacterJoiner(e){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const t=this._characterJoinerService.register(e);return this.refresh(0,this.rows-1),t}deregisterCharacterJoiner(e){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(e)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(e){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+e)}registerDecoration(e){return this._decorationService.registerDecoration(e)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(e,t,r){this._selectionService.setSelection(e,t,r)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){var e;null===(e=this._selectionService)||void 0===e||e.clearSelection()}selectAll(){var e;null===(e=this._selectionService)||void 0===e||e.selectAll()}selectLines(e,t){var r;null===(r=this._selectionService)||void 0===r||r.selectLines(e,t)}_keyDown(e){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&!1===this._customKeyEventHandler(e))return!1;const t=this.browser.isMac&&this.options.macOptionIsMeta&&e.altKey;if(!t&&!this._compositionHelper.keydown(e))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;t||"Dead"!==e.key&&"AltGraph"!==e.key||(this._unprocessedDeadKey=!0);const r=(0,L.evaluateKeyboardEvent)(e,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(e),3===r.type||2===r.type){const t=this.rows-1;return this.scrollLines(2===r.type?-t:t),this.cancel(e,!0)}return 1===r.type&&this.selectAll(),!!this._isThirdLevelShift(this.browser,e)||(r.cancel&&this.cancel(e,!0),!r.key||!!(e.key&&!e.ctrlKey&&!e.altKey&&!e.metaKey&&1===e.key.length&&e.key.charCodeAt(0)>=65&&e.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(r.key!==D.C0.ETX&&r.key!==D.C0.CR||(this.textarea.value=""),this._onKey.fire({key:r.key,domEvent:e}),this._showCursor(),this.coreService.triggerDataEvent(r.key,!0),!this.optionsService.rawOptions.screenReaderMode||e.altKey||e.ctrlKey?this.cancel(e,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(e,t){const r=e.isMac&&!this.options.macOptionIsMeta&&t.altKey&&!t.ctrlKey&&!t.metaKey||e.isWindows&&t.altKey&&t.ctrlKey&&!t.metaKey||e.isWindows&&t.getModifierState("AltGraph");return"keypress"===t.type?r:r&&(!t.keyCode||t.keyCode>47)}_keyUp(e){this._keyDownSeen=!1,this._customKeyEventHandler&&!1===this._customKeyEventHandler(e)||(function(e){return 16===e.keyCode||17===e.keyCode||18===e.keyCode}(e)||this.focus(),this.updateCursorStyle(e),this._keyPressHandled=!1)}_keyPress(e){let t;if(this._keyPressHandled=!1,this._keyDownHandled)return!1;if(this._customKeyEventHandler&&!1===this._customKeyEventHandler(e))return!1;if(this.cancel(e),e.charCode)t=e.charCode;else if(null===e.which||void 0===e.which)t=e.keyCode;else{if(0===e.which||0===e.charCode)return!1;t=e.which}return!(!t||(e.altKey||e.ctrlKey||e.metaKey)&&!this._isThirdLevelShift(this.browser,e)||(t=String.fromCharCode(t),this._onKey.fire({key:t,domEvent:e}),this._showCursor(),this.coreService.triggerDataEvent(t,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(e){if(e.data&&"insertText"===e.inputType&&(!e.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;const t=e.data;return this.coreService.triggerDataEvent(t,!0),this.cancel(e),!0}return!1}resize(e,t){e!==this.cols||t!==this.rows?super.resize(e,t):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(e,t){var r,i;null===(r=this._charSizeService)||void 0===r||r.measure(),null===(i=this.viewport)||void 0===i||i.syncScrollArea(!0)}clear(){var e;if(0!==this.buffer.ybase||0!==this.buffer.y){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let e=1;e<this.rows;e++)this.buffer.lines.push(this.buffer.getBlankLine(E.DEFAULT_ATTR_DATA));this._onScroll.fire({position:this.buffer.ydisp,source:0}),null===(e=this.viewport)||void 0===e||e.reset(),this.refresh(0,this.rows-1)}}reset(){var e,t;this.options.rows=this.rows,this.options.cols=this.cols;const r=this._customKeyEventHandler;this._setup(),super.reset(),null===(e=this._selectionService)||void 0===e||e.reset(),this._decorationService.reset(),null===(t=this.viewport)||void 0===t||t.reset(),this._customKeyEventHandler=r,this.refresh(0,this.rows-1)}clearTextureAtlas(){var e;null===(e=this._renderService)||void 0===e||e.clearTextureAtlas()}_reportFocus(){var e;(null===(e=this.element)||void 0===e?void 0:e.classList.contains("focus"))?this.coreService.triggerDataEvent(D.C0.ESC+"[I"):this.coreService.triggerDataEvent(D.C0.ESC+"[O")}_reportWindowsOptions(e){if(this._renderService)switch(e){case A.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const e=this._renderService.dimensions.css.canvas.width.toFixed(0),t=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent("".concat(D.C0.ESC,"[4;").concat(t,";").concat(e,"t"));break;case A.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const r=this._renderService.dimensions.css.cell.width.toFixed(0),i=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent("".concat(D.C0.ESC,"[6;").concat(i,";").concat(r,"t"))}}cancel(e,t){if(this.options.cancelEvents||t)return e.preventDefault(),e.stopPropagation(),!1}}t.Terminal=B},9924:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TimeBasedDebouncer=void 0,t.TimeBasedDebouncer=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this._renderCallback=e,this._debounceThresholdMS=t,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(e,t,r){this._rowCount=r,e=void 0!==e?e:0,t=void 0!==t?t:this._rowCount-1,this._rowStart=void 0!==this._rowStart?Math.min(this._rowStart,e):e,this._rowEnd=void 0!==this._rowEnd?Math.max(this._rowEnd,t):t;const i=Date.now();if(i-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=i,this._innerRefresh();else if(!this._additionalRefreshRequested){const e=i-this._lastRefreshMs,t=this._debounceThresholdMS-e;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0},t)}}_innerRefresh(){if(void 0===this._rowStart||void 0===this._rowEnd||void 0===this._rowCount)return;const e=Math.max(this._rowStart,0),t=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(e,t)}}},1680:function(e,t,r){var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},n=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.Viewport=void 0;const s=r(3656),o=r(4725),a=r(8460),l=r(844),c=r(2585);let u=t.Viewport=class extends l.Disposable{constructor(e,t,r,i,n,o,l,c){super(),this._viewportElement=e,this._scrollArea=t,this._bufferService=r,this._optionsService=i,this._charSizeService=n,this._renderService=o,this._coreBrowserService=l,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this._onRequestScrollLines=this.register(new a.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,s.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(e=>this._activeBuffer=e.activeBuffer)),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange(e=>this._renderDimensions=e)),this._handleThemeChange(c.colors),this.register(c.onChangeColors(e=>this._handleThemeChange(e))),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.syncScrollArea())),setTimeout(()=>this.syncScrollArea())}_handleThemeChange(e){this._viewportElement.style.backgroundColor=e.background.css}reset(){this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._coreBrowserService.window.requestAnimationFrame(()=>this.syncScrollArea())}_refresh(e){if(e)return this._innerRefresh(),void(null!==this._refreshAnimationFrame&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));null===this._refreshAnimationFrame&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderService.dimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderService.dimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const e=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.css.canvas.height);this._lastRecordedBufferHeight!==e&&(this._lastRecordedBufferHeight=e,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const e=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==e&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=e),this._refreshAnimationFrame=null}syncScrollArea(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(e);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(e)}_handleScroll(e){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._onRequestScrollLines.fire({amount:0,suppressScrollEvent:!0});const t=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._onRequestScrollLines.fire({amount:t,suppressScrollEvent:!0})}_smoothScroll(){if(this._isDisposed||-1===this._smoothScrollState.origin||-1===this._smoothScrollState.target)return;const e=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(e*(this._smoothScrollState.target-this._smoothScrollState.origin)),e<1?this._coreBrowserService.window.requestAnimationFrame(()=>this._smoothScroll()):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(e,t){const r=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(t<0&&0!==this._viewportElement.scrollTop||t>0&&r<this._lastRecordedBufferHeight)||(e.cancelable&&e.preventDefault(),!1)}handleWheel(e){const t=this._getPixelsScrolled(e);return 0!==t&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,-1===this._smoothScrollState.target?this._smoothScrollState.target=this._viewportElement.scrollTop+t:this._smoothScrollState.target+=t,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=t,this._bubbleScroll(e,t))}scrollLines(e){if(0!==e)if(this._optionsService.rawOptions.smoothScrollDuration){const t=e*this._currentRowHeight;this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target=this._smoothScrollState.origin+t,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()}else this._onRequestScrollLines.fire({amount:e,suppressScrollEvent:!1})}_getPixelsScrolled(e){if(0===e.deltaY||e.shiftKey)return 0;let t=this._applyScrollModifier(e.deltaY,e);return e.deltaMode===WheelEvent.DOM_DELTA_LINE?t*=this._currentRowHeight:e.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(t*=this._currentRowHeight*this._bufferService.rows),t}getBufferElements(e,t){var r;let i,n="";const s=[],o=null!=t?t:this._bufferService.buffer.lines.length,a=this._bufferService.buffer.lines;for(let l=e;l<o;l++){const e=a.get(l);if(!e)continue;const t=null===(r=a.get(l+1))||void 0===r?void 0:r.isWrapped;if(n+=e.translateToString(!t),!t||l===a.length-1){const e=document.createElement("div");e.textContent=n,s.push(e),n.length>0&&(i=e),n=""}}return{bufferElements:s,cursorElement:i}}getLinesScrolled(e){if(0===e.deltaY||e.shiftKey)return 0;let t=this._applyScrollModifier(e.deltaY,e);return e.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(t/=this._currentRowHeight+0,this._wheelPartialScroll+=t,t=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):e.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(t*=this._bufferService.rows),t}_applyScrollModifier(e,t){const r=this._optionsService.rawOptions.fastScrollModifier;return"alt"===r&&t.altKey||"ctrl"===r&&t.ctrlKey||"shift"===r&&t.shiftKey?e*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:e*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(e){this._lastTouchY=e.touches[0].pageY}handleTouchMove(e){const t=this._lastTouchY-e.touches[0].pageY;return this._lastTouchY=e.touches[0].pageY,0!==t&&(this._viewportElement.scrollTop+=t,this._bubbleScroll(e,t))}};t.Viewport=u=i([n(2,c.IBufferService),n(3,c.IOptionsService),n(4,o.ICharSizeService),n(5,o.IRenderService),n(6,o.ICoreBrowserService),n(7,o.IThemeService)],u)},3107:function(e,t,r){var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},n=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.BufferDecorationRenderer=void 0;const s=r(3656),o=r(4725),a=r(844),l=r(2585);let c=t.BufferDecorationRenderer=class extends a.Disposable{constructor(e,t,r,i){super(),this._screenElement=e,this._bufferService=t,this._decorationService=r,this._renderService=i,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange(()=>this._doRefreshDecorations())),this.register(this._renderService.onDimensionsChange(()=>{this._dimensionsChanged=!0,this._queueRefresh()})),this.register((0,s.addDisposableDomListener)(window,"resize",()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt})),this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh())),this.register(this._decorationService.onDecorationRemoved(e=>this._removeDecoration(e))),this.register((0,a.toDisposable)(()=>{this._container.remove(),this._decorationElements.clear()}))}_queueRefresh(){void 0===this._animationFrame&&(this._animationFrame=this._renderService.addRefreshCallback(()=>{this._doRefreshDecorations(),this._animationFrame=void 0}))}_doRefreshDecorations(){for(const e of this._decorationService.decorations)this._renderDecoration(e);this._dimensionsChanged=!1}_renderDecoration(e){this._refreshStyle(e),this._dimensionsChanged&&this._refreshXPosition(e)}_createElement(e){var t,r;const i=document.createElement("div");i.classList.add("xterm-decoration"),i.classList.toggle("xterm-decoration-top-layer","top"===(null===(t=null==e?void 0:e.options)||void 0===t?void 0:t.layer)),i.style.width="".concat(Math.round((e.options.width||1)*this._renderService.dimensions.css.cell.width),"px"),i.style.height=(e.options.height||1)*this._renderService.dimensions.css.cell.height+"px",i.style.top=(e.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",i.style.lineHeight="".concat(this._renderService.dimensions.css.cell.height,"px");const n=null!==(r=e.options.x)&&void 0!==r?r:0;return n&&n>this._bufferService.cols&&(i.style.display="none"),this._refreshXPosition(e,i),i}_refreshStyle(e){const t=e.marker.line-this._bufferService.buffers.active.ydisp;if(t<0||t>=this._bufferService.rows)e.element&&(e.element.style.display="none",e.onRenderEmitter.fire(e.element));else{let r=this._decorationElements.get(e);r||(r=this._createElement(e),e.element=r,this._decorationElements.set(e,r),this._container.appendChild(r),e.onDispose(()=>{this._decorationElements.delete(e),r.remove()})),r.style.top=t*this._renderService.dimensions.css.cell.height+"px",r.style.display=this._altBufferIsActive?"none":"block",e.onRenderEmitter.fire(r)}}_refreshXPosition(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.element;var r;if(!t)return;const i=null!==(r=e.options.x)&&void 0!==r?r:0;"right"===(e.options.anchor||"left")?t.style.right=i?i*this._renderService.dimensions.css.cell.width+"px":"":t.style.left=i?i*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(e){var t;null===(t=this._decorationElements.get(e))||void 0===t||t.remove(),this._decorationElements.delete(e),e.dispose()}};t.BufferDecorationRenderer=c=i([n(1,l.IBufferService),n(2,l.IDecorationService),n(3,o.IRenderService)],c)},5871:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ColorZoneStore=void 0,t.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(e){if(e.options.overviewRulerOptions){for(const t of this._zones)if(t.color===e.options.overviewRulerOptions.color&&t.position===e.options.overviewRulerOptions.position){if(this._lineIntersectsZone(t,e.marker.line))return;if(this._lineAdjacentToZone(t,e.marker.line,e.options.overviewRulerOptions.position))return void this._addLineToZone(t,e.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=e.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=e.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=e.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=e.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:e.options.overviewRulerOptions.color,position:e.options.overviewRulerOptions.position,startBufferLine:e.marker.line,endBufferLine:e.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(e){this._linePadding=e}_lineIntersectsZone(e,t){return t>=e.startBufferLine&&t<=e.endBufferLine}_lineAdjacentToZone(e,t,r){return t>=e.startBufferLine-this._linePadding[r||"full"]&&t<=e.endBufferLine+this._linePadding[r||"full"]}_addLineToZone(e,t){e.startBufferLine=Math.min(e.startBufferLine,t),e.endBufferLine=Math.max(e.endBufferLine,t)}}},5744:function(e,t,r){var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},n=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.OverviewRulerRenderer=void 0;const s=r(5871),o=r(3656),a=r(4725),l=r(844),c=r(2585),u={full:0,left:0,center:0,right:0},h={full:0,left:0,center:0,right:0},d={full:0,left:0,center:0,right:0};let f=t.OverviewRulerRenderer=class extends l.Disposable{get _width(){return this._optionsService.options.overviewRulerWidth||0}constructor(e,t,r,i,n,o,a){var c;super(),this._viewportElement=e,this._screenElement=t,this._bufferService=r,this._decorationService=i,this._renderService=n,this._optionsService=o,this._coreBrowseService=a,this._colorZoneStore=new s.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),null===(c=this._viewportElement.parentElement)||void 0===c||c.insertBefore(this._canvas,this._viewportElement);const u=this._canvas.getContext("2d");if(!u)throw new Error("Ctx cannot be null");this._ctx=u,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,l.toDisposable)(()=>{var e;null===(e=this._canvas)||void 0===e||e.remove()}))}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh(void 0,!0))),this.register(this._decorationService.onDecorationRemoved(()=>this._queueRefresh(void 0,!0)))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"})),this.register(this._bufferService.onScroll(()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())}))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender(()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)})),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",()=>this._queueRefresh(!0))),this.register((0,o.addDisposableDomListener)(this._coreBrowseService.window,"resize",()=>this._queueRefresh(!0))),this._queueRefresh(!0)}_refreshDrawConstants(){const e=Math.floor(this._canvas.width/3),t=Math.ceil(this._canvas.width/3);h.full=this._canvas.width,h.left=e,h.center=t,h.right=e,this._refreshDrawHeightConstants(),d.full=0,d.left=0,d.center=h.left,d.right=h.left+h.center}_refreshDrawHeightConstants(){u.full=Math.round(2*this._coreBrowseService.dpr);const e=this._canvas.height/this._bufferService.buffer.lines.length,t=Math.round(Math.max(Math.min(e,12),6)*this._coreBrowseService.dpr);u.left=t,u.center=t,u.right=t}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*u.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*u.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*u.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*u.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width="".concat(this._width,"px"),this._canvas.width=Math.round(this._width*this._coreBrowseService.dpr),this._canvas.style.height="".concat(this._screenElement.clientHeight,"px"),this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowseService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const t of this._decorationService.decorations)this._colorZoneStore.addDecoration(t);this._ctx.lineWidth=1;const e=this._colorZoneStore.zones;for(const t of e)"full"!==t.position&&this._renderColorZone(t);for(const t of e)"full"===t.position&&this._renderColorZone(t);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(e){this._ctx.fillStyle=e.color,this._ctx.fillRect(d[e.position||"full"],Math.round((this._canvas.height-1)*(e.startBufferLine/this._bufferService.buffers.active.lines.length)-u[e.position||"full"]/2),h[e.position||"full"],Math.round((this._canvas.height-1)*((e.endBufferLine-e.startBufferLine)/this._bufferService.buffers.active.lines.length)+u[e.position||"full"]))}_queueRefresh(e,t){this._shouldUpdateDimensions=e||this._shouldUpdateDimensions,this._shouldUpdateAnchor=t||this._shouldUpdateAnchor,void 0===this._animationFrame&&(this._animationFrame=this._coreBrowseService.window.requestAnimationFrame(()=>{this._refreshDecorations(),this._animationFrame=void 0}))}};t.OverviewRulerRenderer=f=i([n(2,c.IBufferService),n(3,c.IDecorationService),n(4,a.IRenderService),n(5,c.IOptionsService),n(6,a.ICoreBrowserService)],f)},2950:function(e,t,r){var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},n=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CompositionHelper=void 0;const s=r(4725),o=r(2585),a=r(2584);let l=t.CompositionHelper=class{get isComposing(){return this._isComposing}constructor(e,t,r,i,n,s){this._textarea=e,this._compositionView=t,this._bufferService=r,this._optionsService=i,this._coreService=n,this._renderService=s,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(e){this._compositionView.textContent=e.data,this.updateCompositionElements(),setTimeout(()=>{this._compositionPosition.end=this._textarea.value.length},0)}compositionend(){this._finalizeComposition(!0)}keydown(e){if(this._isComposing||this._isSendingComposition){if(229===e.keyCode)return!1;if(16===e.keyCode||17===e.keyCode||18===e.keyCode)return!1;this._finalizeComposition(!1)}return 229!==e.keyCode||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(e){if(this._compositionView.classList.remove("active"),this._isComposing=!1,e){const e={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(()=>{if(this._isSendingComposition){let t;this._isSendingComposition=!1,e.start+=this._dataAlreadySent.length,t=this._isComposing?this._textarea.value.substring(e.start,e.end):this._textarea.value.substring(e.start),t.length>0&&this._coreService.triggerDataEvent(t,!0)}},0)}else{this._isSendingComposition=!1;const e=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(e,!0)}}_handleAnyTextareaChanges(){const e=this._textarea.value;setTimeout(()=>{if(!this._isComposing){const t=this._textarea.value,r=t.replace(e,"");this._dataAlreadySent=r,t.length>e.length?this._coreService.triggerDataEvent(r,!0):t.length<e.length?this._coreService.triggerDataEvent("".concat(a.C0.DEL),!0):t.length===e.length&&t!==e&&this._coreService.triggerDataEvent(t,!0)}},0)}updateCompositionElements(e){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const e=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),t=this._renderService.dimensions.css.cell.height,r=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,i=e*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=i+"px",this._compositionView.style.top=r+"px",this._compositionView.style.height=t+"px",this._compositionView.style.lineHeight=t+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const n=this._compositionView.getBoundingClientRect();this._textarea.style.left=i+"px",this._textarea.style.top=r+"px",this._textarea.style.width=Math.max(n.width,1)+"px",this._textarea.style.height=Math.max(n.height,1)+"px",this._textarea.style.lineHeight=n.height+"px"}e||setTimeout(()=>this.updateCompositionElements(!0),0)}}};t.CompositionHelper=l=i([n(2,o.IBufferService),n(3,o.IOptionsService),n(4,o.ICoreService),n(5,s.IRenderService)],l)},9806:(e,t)=>{function r(e,t,r){const i=r.getBoundingClientRect(),n=e.getComputedStyle(r),s=parseInt(n.getPropertyValue("padding-left")),o=parseInt(n.getPropertyValue("padding-top"));return[t.clientX-i.left-s,t.clientY-i.top-o]}Object.defineProperty(t,"__esModule",{value:!0}),t.getCoords=t.getCoordsRelativeToElement=void 0,t.getCoordsRelativeToElement=r,t.getCoords=function(e,t,i,n,s,o,a,l,c){if(!o)return;const u=r(e,t,i);return u?(u[0]=Math.ceil((u[0]+(c?a/2:0))/a),u[1]=Math.ceil(u[1]/l),u[0]=Math.min(Math.max(u[0],1),n+(c?1:0)),u[1]=Math.min(Math.max(u[1],1),s),u):void 0}},9504:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.moveToCellSequence=void 0;const i=r(2584);function n(e,t,r,i){const n=e-s(e,r),a=t-s(t,r),u=Math.abs(n-a)-function(e,t,r){let i=0;const n=e-s(e,r),a=t-s(t,r);for(let s=0;s<Math.abs(n-a);s++){const a="A"===o(e,t)?-1:1,l=r.buffer.lines.get(n+a*s);(null==l?void 0:l.isWrapped)&&i++}return i}(e,t,r);return c(u,l(o(e,t),i))}function s(e,t){let r=0,i=t.buffer.lines.get(e),n=null==i?void 0:i.isWrapped;for(;n&&e>=0&&e<t.rows;)r++,i=t.buffer.lines.get(--e),n=null==i?void 0:i.isWrapped;return r}function o(e,t){return e>t?"A":"B"}function a(e,t,r,i,n,s){let o=e,a=t,l="";for(;o!==r||a!==i;)o+=n?1:-1,n&&o>s.cols-1?(l+=s.buffer.translateBufferLineToString(a,!1,e,o),o=0,e=0,a++):!n&&o<0&&(l+=s.buffer.translateBufferLineToString(a,!1,0,e+1),o=s.cols-1,e=o,a--);return l+s.buffer.translateBufferLineToString(a,!1,e,o)}function l(e,t){const r=t?"O":"[";return i.C0.ESC+r+e}function c(e,t){e=Math.floor(e);let r="";for(let i=0;i<e;i++)r+=t;return r}t.moveToCellSequence=function(e,t,r,i){const o=r.buffer.x,u=r.buffer.y;if(!r.buffer.hasScrollback)return function(e,t,r,i,o,u){return 0===n(t,i,o,u).length?"":c(a(e,t,e,t-s(t,o),!1,o).length,l("D",u))}(o,u,0,t,r,i)+n(u,t,r,i)+function(e,t,r,i,o,u){let h;h=n(t,i,o,u).length>0?i-s(i,o):t;const d=i,f=function(e,t,r,i,o,a){let l;return l=n(r,i,o,a).length>0?i-s(i,o):t,e<r&&l<=i||e>=r&&l<i?"C":"D"}(e,t,r,i,o,u);return c(a(e,h,r,d,"C"===f,o).length,l(f,u))}(o,u,e,t,r,i);let h;if(u===t)return h=o>e?"D":"C",c(Math.abs(o-e),l(h,i));h=u>t?"D":"C";const d=Math.abs(u-t);return c(function(e,t){return t.cols-e}(u>t?e:o,r)+(d-1)*r.cols+1+((u>t?o:e)-1),l(h,i))}},1296:function(e,t,r){var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},n=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DomRenderer=void 0;const s=r(3787),o=r(2550),a=r(2223),l=r(6171),c=r(4725),u=r(8055),h=r(8460),d=r(844),f=r(2585),p="xterm-dom-renderer-owner-",m="xterm-rows",_="xterm-fg-",g="xterm-bg-",v="xterm-focus",y="xterm-selection";let b=1,S=t.DomRenderer=class extends d.Disposable{constructor(e,t,r,i,n,a,c,u,f,_){super(),this._element=e,this._screenElement=t,this._viewportElement=r,this._linkifier2=i,this._charSizeService=a,this._optionsService=c,this._bufferService=u,this._coreBrowserService=f,this._themeService=_,this._terminalClass=b++,this._rowElements=[],this.onRequestRedraw=this.register(new h.EventEmitter).event,this._rowContainer=document.createElement("div"),this._rowContainer.classList.add(m),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=document.createElement("div"),this._selectionContainer.classList.add(y),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,l.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._themeService.onChangeColors(e=>this._injectCss(e))),this._injectCss(this._themeService.colors),this._rowFactory=n.createInstance(s.DomRendererRowFactory,document),this._element.classList.add(p+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline(e=>this._handleLinkHover(e))),this.register(this._linkifier2.onHideLinkUnderline(e=>this._handleLinkLeave(e))),this.register((0,d.toDisposable)(()=>{this._element.classList.remove(p+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()})),this._widthCache=new o.WidthCache(document),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){const e=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*e,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*e),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/e),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/e),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const r of this._rowElements)r.style.width="".concat(this.dimensions.css.canvas.width,"px"),r.style.height="".concat(this.dimensions.css.cell.height,"px"),r.style.lineHeight="".concat(this.dimensions.css.cell.height,"px"),r.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));const t="".concat(this._terminalSelector," .").concat(m," span { display: inline-block; height: 100%; vertical-align: top;}");this._dimensionsStyleElement.textContent=t,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width="".concat(this.dimensions.css.canvas.width,"px"),this._screenElement.style.height="".concat(this.dimensions.css.canvas.height,"px")}_injectCss(e){this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let t="".concat(this._terminalSelector," .").concat(m," { color: ").concat(e.foreground.css,"; font-family: ").concat(this._optionsService.rawOptions.fontFamily,"; font-size: ").concat(this._optionsService.rawOptions.fontSize,"px; font-kerning: none; white-space: pre}");t+="".concat(this._terminalSelector," .").concat(m," .xterm-dim { color: ").concat(u.color.multiplyOpacity(e.foreground,.5).css,";}"),t+="".concat(this._terminalSelector," span:not(.xterm-bold) { font-weight: ").concat(this._optionsService.rawOptions.fontWeight,";}").concat(this._terminalSelector," span.xterm-bold { font-weight: ").concat(this._optionsService.rawOptions.fontWeightBold,";}").concat(this._terminalSelector," span.xterm-italic { font-style: italic;}"),t+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  border-bottom-style: hidden; }}",t+="@keyframes blink_block_"+this._terminalClass+" { 0% {"+"  background-color: ".concat(e.cursor.css,";")+"  color: ".concat(e.cursorAccent.css,"; } 50% {  background-color: inherit;")+"  color: ".concat(e.cursor.css,"; }}"),t+="".concat(this._terminalSelector," .").concat(m,".").concat(v," .xterm-cursor.xterm-cursor-blink:not(.xterm-cursor-block) { animation: blink_box_shadow_")+this._terminalClass+" 1s step-end infinite;}"+"".concat(this._terminalSelector," .").concat(m,".").concat(v," .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: blink_block_")+this._terminalClass+" 1s step-end infinite;}"+"".concat(this._terminalSelector," .").concat(m," .xterm-cursor.xterm-cursor-block {")+" background-color: ".concat(e.cursor.css,";")+" color: ".concat(e.cursorAccent.css,";}")+"".concat(this._terminalSelector," .").concat(m," .xterm-cursor.xterm-cursor-outline {")+" outline: 1px solid ".concat(e.cursor.css,"; outline-offset: -1px;}")+"".concat(this._terminalSelector," .").concat(m," .xterm-cursor.xterm-cursor-bar {")+" box-shadow: ".concat(this._optionsService.rawOptions.cursorWidth,"px 0 0 ").concat(e.cursor.css," inset;}")+"".concat(this._terminalSelector," .").concat(m," .xterm-cursor.xterm-cursor-underline {")+" border-bottom: 1px ".concat(e.cursor.css,"; border-bottom-style: solid; height: calc(100% - 1px);}"),t+="".concat(this._terminalSelector," .").concat(y," { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}").concat(this._terminalSelector,".focus .").concat(y," div { position: absolute; background-color: ").concat(e.selectionBackgroundOpaque.css,";}").concat(this._terminalSelector," .").concat(y," div { position: absolute; background-color: ").concat(e.selectionInactiveBackgroundOpaque.css,";}");for(const[r,i]of e.ansi.entries())t+="".concat(this._terminalSelector," .").concat(_).concat(r," { color: ").concat(i.css,"; }").concat(this._terminalSelector," .").concat(_).concat(r,".xterm-dim { color: ").concat(u.color.multiplyOpacity(i,.5).css,"; }").concat(this._terminalSelector," .").concat(g).concat(r," { background-color: ").concat(i.css,"; }");t+="".concat(this._terminalSelector," .").concat(_).concat(a.INVERTED_DEFAULT_COLOR," { color: ").concat(u.color.opaque(e.background).css,"; }").concat(this._terminalSelector," .").concat(_).concat(a.INVERTED_DEFAULT_COLOR,".xterm-dim { color: ").concat(u.color.multiplyOpacity(u.color.opaque(e.background),.5).css,"; }").concat(this._terminalSelector," .").concat(g).concat(a.INVERTED_DEFAULT_COLOR," { background-color: ").concat(e.foreground.css,"; }"),this._themeStyleElement.textContent=t}_setDefaultSpacing(){const e=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing="".concat(e,"px"),this._rowFactory.defaultSpacing=e}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements(e,t){for(let r=this._rowElements.length;r<=t;r++){const e=document.createElement("div");this._rowContainer.appendChild(e),this._rowElements.push(e)}for(;this._rowElements.length>t;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(e,t){this._refreshRowElements(e,t),this._updateDimensions()}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(v)}handleFocus(){this._rowContainer.classList.add(v),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged(e,t,r){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged(e,t,r),this.renderRows(0,this._bufferService.rows-1),!e||!t)return;const i=e[1]-this._bufferService.buffer.ydisp,n=t[1]-this._bufferService.buffer.ydisp,s=Math.max(i,0),o=Math.min(n,this._bufferService.rows-1);if(s>=this._bufferService.rows||o<0)return;const a=document.createDocumentFragment();if(r){const r=e[0]>t[0];a.appendChild(this._createSelectionElement(s,r?t[0]:e[0],r?e[0]:t[0],o-s+1))}else{const r=i===s?e[0]:0,l=s===n?t[0]:this._bufferService.cols;a.appendChild(this._createSelectionElement(s,r,l));const c=o-s-1;if(a.appendChild(this._createSelectionElement(s+1,0,this._bufferService.cols,c)),s!==o){const e=n===o?t[0]:this._bufferService.cols;a.appendChild(this._createSelectionElement(o,0,e))}}this._selectionContainer.appendChild(a)}_createSelectionElement(e,t,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const n=document.createElement("div");return n.style.height=i*this.dimensions.css.cell.height+"px",n.style.top=e*this.dimensions.css.cell.height+"px",n.style.left=t*this.dimensions.css.cell.width+"px",n.style.width=this.dimensions.css.cell.width*(r-t)+"px",n}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(const e of this._rowElements)e.replaceChildren()}renderRows(e,t){const r=this._bufferService.buffer,i=r.ybase+r.y,n=Math.min(r.x,this._bufferService.cols-1),s=this._optionsService.rawOptions.cursorBlink,o=this._optionsService.rawOptions.cursorStyle,a=this._optionsService.rawOptions.cursorInactiveStyle;for(let l=e;l<=t;l++){const e=l+r.ydisp,t=this._rowElements[l],c=r.lines.get(e);if(!t||!c)break;t.replaceChildren(...this._rowFactory.createRow(c,e,e===i,o,a,n,s,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return".".concat(p).concat(this._terminalClass)}_handleLinkHover(e){this._setCellUnderline(e.x1,e.x2,e.y1,e.y2,e.cols,!0)}_handleLinkLeave(e){this._setCellUnderline(e.x1,e.x2,e.y1,e.y2,e.cols,!1)}_setCellUnderline(e,t,r,i,n,s){r<0&&(e=0),i<0&&(t=0);const o=this._bufferService.rows-1;r=Math.max(Math.min(r,o),0),i=Math.max(Math.min(i,o),0),n=Math.min(n,this._bufferService.cols);const a=this._bufferService.buffer,l=a.ybase+a.y,c=Math.min(a.x,n-1),u=this._optionsService.rawOptions.cursorBlink,h=this._optionsService.rawOptions.cursorStyle,d=this._optionsService.rawOptions.cursorInactiveStyle;for(let f=r;f<=i;++f){const o=f+a.ydisp,p=this._rowElements[f],m=a.lines.get(o);if(!p||!m)break;p.replaceChildren(...this._rowFactory.createRow(m,o,o===l,h,d,c,u,this.dimensions.css.cell.width,this._widthCache,s?f===r?e:0:-1,s?(f===i?t:n)-1:-1))}}};t.DomRenderer=S=i([n(4,f.IInstantiationService),n(5,c.ICharSizeService),n(6,f.IOptionsService),n(7,f.IBufferService),n(8,c.ICoreBrowserService),n(9,c.IThemeService)],S)},3787:function(e,t,r){var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},n=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DomRendererRowFactory=void 0;const s=r(2223),o=r(643),a=r(511),l=r(2585),c=r(8055),u=r(4725),h=r(4269),d=r(6171),f=r(3734);let p=t.DomRendererRowFactory=class{constructor(e,t,r,i,n,s,o){this._document=e,this._characterJoinerService=t,this._optionsService=r,this._coreBrowserService=i,this._coreService=n,this._decorationService=s,this._themeService=o,this._workCell=new a.CellData,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(e,t,r){this._selectionStart=e,this._selectionEnd=t,this._columnSelectMode=r}createRow(e,t,r,i,n,a,l,u,d,p,_){const g=[],v=this._characterJoinerService.getJoinedCharacters(t),y=this._themeService.colors;let b,S=e.getNoBgTrimmedLength();r&&S<a+1&&(S=a+1);let w=0,C="",k=0,x=0,E=0,D=!1,L=0,R=!1,T=0;const P=[],A=-1!==p&&-1!==_;for(let M=0;M<S;M++){e.loadCell(M,this._workCell);let S=this._workCell.getWidth();if(0===S)continue;let O=!1,B=M,I=this._workCell;if(v.length>0&&M===v[0][0]){O=!0;const t=v.shift();I=new h.JoinedCellData(this._workCell,e.translateToString(!0,t[0],t[1]),t[1]-t[0]),B=t[1]-1,S=I.getWidth()}const N=this._isCellInSelection(M,t),H=r&&M===a,F=A&&M>=p&&M<=_;let j=!1;this._decorationService.forEachDecorationAtCell(M,t,void 0,e=>{j=!0});let z=I.getChars()||o.WHITESPACE_CELL_CHAR;if(" "===z&&(I.isUnderline()||I.isOverline())&&(z="\xa0"),T=S*u-d.get(z,I.isBold(),I.isItalic()),b){if(w&&(N&&R||!N&&!R&&I.bg===k)&&(N&&R&&y.selectionForeground||I.fg===x)&&I.extended.ext===E&&F===D&&T===L&&!H&&!O&&!j){C+=z,w++;continue}w&&(b.textContent=C),b=this._document.createElement("span"),w=0,C=""}else b=this._document.createElement("span");if(k=I.bg,x=I.fg,E=I.extended.ext,D=F,L=T,R=N,O&&a>=M&&a<=B&&(a=M),!this._coreService.isCursorHidden&&H)if(P.push("xterm-cursor"),this._coreBrowserService.isFocused)l&&P.push("xterm-cursor-blink"),P.push("bar"===i?"xterm-cursor-bar":"underline"===i?"xterm-cursor-underline":"xterm-cursor-block");else if(n)switch(n){case"outline":P.push("xterm-cursor-outline");break;case"block":P.push("xterm-cursor-block");break;case"bar":P.push("xterm-cursor-bar");break;case"underline":P.push("xterm-cursor-underline")}if(I.isBold()&&P.push("xterm-bold"),I.isItalic()&&P.push("xterm-italic"),I.isDim()&&P.push("xterm-dim"),C=I.isInvisible()?o.WHITESPACE_CELL_CHAR:I.getChars()||o.WHITESPACE_CELL_CHAR,I.isUnderline()&&(P.push("xterm-underline-".concat(I.extended.underlineStyle))," "===C&&(C="\xa0"),!I.isUnderlineColorDefault()))if(I.isUnderlineColorRGB())b.style.textDecorationColor="rgb(".concat(f.AttributeData.toColorRGB(I.getUnderlineColor()).join(","),")");else{let e=I.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&I.isBold()&&e<8&&(e+=8),b.style.textDecorationColor=y.ansi[e].css}I.isOverline()&&(P.push("xterm-overline")," "===C&&(C="\xa0")),I.isStrikethrough()&&P.push("xterm-strikethrough"),F&&(b.style.textDecoration="underline");let U=I.getFgColor(),W=I.getFgColorMode(),q=I.getBgColor(),K=I.getBgColorMode();const V=!!I.isInverse();if(V){const e=U;U=q,q=e;const t=W;W=K,K=t}let X,G,$,Y=!1;switch(this._decorationService.forEachDecorationAtCell(M,t,void 0,e=>{"top"!==e.options.layer&&Y||(e.backgroundColorRGB&&(K=50331648,q=e.backgroundColorRGB.rgba>>8&16777215,X=e.backgroundColorRGB),e.foregroundColorRGB&&(W=50331648,U=e.foregroundColorRGB.rgba>>8&16777215,G=e.foregroundColorRGB),Y="top"===e.options.layer)}),!Y&&N&&(X=this._coreBrowserService.isFocused?y.selectionBackgroundOpaque:y.selectionInactiveBackgroundOpaque,q=X.rgba>>8&16777215,K=50331648,Y=!0,y.selectionForeground&&(W=50331648,U=y.selectionForeground.rgba>>8&16777215,G=y.selectionForeground)),Y&&P.push("xterm-decoration-top"),K){case 16777216:case 33554432:$=y.ansi[q],P.push("xterm-bg-".concat(q));break;case 50331648:$=c.rgba.toColor(q>>16,q>>8&255,255&q),this._addStyle(b,"background-color:#".concat(m((q>>>0).toString(16),"0",6)));break;default:V?($=y.foreground,P.push("xterm-bg-".concat(s.INVERTED_DEFAULT_COLOR))):$=y.background}switch(X||I.isDim()&&(X=c.color.multiplyOpacity($,.5)),W){case 16777216:case 33554432:I.isBold()&&U<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(U+=8),this._applyMinimumContrast(b,$,y.ansi[U],I,X,void 0)||P.push("xterm-fg-".concat(U));break;case 50331648:const e=c.rgba.toColor(U>>16&255,U>>8&255,255&U);this._applyMinimumContrast(b,$,e,I,X,G)||this._addStyle(b,"color:#".concat(m(U.toString(16),"0",6)));break;default:this._applyMinimumContrast(b,$,y.foreground,I,X,void 0)||V&&P.push("xterm-fg-".concat(s.INVERTED_DEFAULT_COLOR))}P.length&&(b.className=P.join(" "),P.length=0),H||O||j?b.textContent=C:w++,T!==this.defaultSpacing&&(b.style.letterSpacing="".concat(T,"px")),g.push(b),M=B}return b&&w&&(b.textContent=C),g}_applyMinimumContrast(e,t,r,i,n,s){if(1===this._optionsService.rawOptions.minimumContrastRatio||(0,d.excludeFromContrastRatioDemands)(i.getCode()))return!1;const o=this._getContrastCache(i);let a;if(n||s||(a=o.getColor(t.rgba,r.rgba)),void 0===a){const e=this._optionsService.rawOptions.minimumContrastRatio/(i.isDim()?2:1);a=c.color.ensureContrastRatio(n||t,s||r,e),o.setColor((n||t).rgba,(s||r).rgba,null!=a?a:null)}return!!a&&(this._addStyle(e,"color:".concat(a.css)),!0)}_getContrastCache(e){return e.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(e,t){e.setAttribute("style","".concat(e.getAttribute("style")||"").concat(t,";"))}_isCellInSelection(e,t){const r=this._selectionStart,i=this._selectionEnd;return!(!r||!i)&&(this._columnSelectMode?r[0]<=i[0]?e>=r[0]&&t>=r[1]&&e<i[0]&&t<=i[1]:e<r[0]&&t>=r[1]&&e>=i[0]&&t<=i[1]:t>r[1]&&t<i[1]||r[1]===i[1]&&t===r[1]&&e>=r[0]&&e<i[0]||r[1]<i[1]&&t===i[1]&&e<i[0]||r[1]<i[1]&&t===r[1]&&e>=r[0])}};function m(e,t,r){for(;e.length<r;)e=t+e;return e}t.DomRendererRowFactory=p=i([n(1,u.ICharacterJoinerService),n(2,l.IOptionsService),n(3,u.ICoreBrowserService),n(4,l.ICoreService),n(5,l.IDecorationService),n(6,u.IThemeService)],p)},2550:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WidthCache=void 0,t.WidthCache=class{constructor(e){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=e.createElement("div"),this._container.style.position="absolute",this._container.style.top="-50000px",this._container.style.width="50000px",this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";const t=e.createElement("span"),r=e.createElement("span");r.style.fontWeight="bold";const i=e.createElement("span");i.style.fontStyle="italic";const n=e.createElement("span");n.style.fontWeight="bold",n.style.fontStyle="italic",this._measureElements=[t,r,i,n],this._container.appendChild(t),this._container.appendChild(r),this._container.appendChild(i),this._container.appendChild(n),e.body.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(e,t,r,i){e===this._font&&t===this._fontSize&&r===this._weight&&i===this._weightBold||(this._font=e,this._fontSize=t,this._weight=r,this._weightBold=i,this._container.style.fontFamily=this._font,this._container.style.fontSize="".concat(this._fontSize,"px"),this._measureElements[0].style.fontWeight="".concat(r),this._measureElements[1].style.fontWeight="".concat(i),this._measureElements[2].style.fontWeight="".concat(r),this._measureElements[3].style.fontWeight="".concat(i),this.clear())}get(e,t,r){let i=0;if(!t&&!r&&1===e.length&&(i=e.charCodeAt(0))<256)return-9999!==this._flat[i]?this._flat[i]:this._flat[i]=this._measure(e,0);let n=e;t&&(n+="B"),r&&(n+="I");let s=this._holey.get(n);if(void 0===s){let i=0;t&&(i|=1),r&&(i|=2),s=this._measure(e,i),this._holey.set(n,s)}return s}_measure(e,t){const r=this._measureElements[t];return r.textContent=e.repeat(32),r.offsetWidth/32}}},2223:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TEXT_BASELINE=t.DIM_OPACITY=t.INVERTED_DEFAULT_COLOR=void 0;const i=r(6114);t.INVERTED_DEFAULT_COLOR=257,t.DIM_OPACITY=.5,t.TEXT_BASELINE=i.isFirefox||i.isLegacyEdge?"bottom":"ideographic"},6171:(e,t)=>{function r(e){return 57508<=e&&e<=57558}Object.defineProperty(t,"__esModule",{value:!0}),t.createRenderDimensions=t.excludeFromContrastRatioDemands=t.isRestrictedPowerlineGlyph=t.isPowerlineGlyph=t.throwIfFalsy=void 0,t.throwIfFalsy=function(e){if(!e)throw new Error("value must not be falsy");return e},t.isPowerlineGlyph=r,t.isRestrictedPowerlineGlyph=function(e){return 57520<=e&&e<=57527},t.excludeFromContrastRatioDemands=function(e){return r(e)||function(e){return 9472<=e&&e<=9631}(e)},t.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}}},456:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SelectionModel=void 0,t.SelectionModel=class{constructor(e){this._bufferService=e,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const e=this.selectionStart[0]+this.selectionStartLength;return e>this._bufferService.cols?e%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(e/this._bufferService.cols)-1]:[e%this._bufferService.cols,this.selectionStart[1]+Math.floor(e/this._bufferService.cols)]:[e,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const e=this.selectionStart[0]+this.selectionStartLength;return e>this._bufferService.cols?[e%this._bufferService.cols,this.selectionStart[1]+Math.floor(e/this._bufferService.cols)]:[Math.max(e,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const e=this.selectionStart,t=this.selectionEnd;return!(!e||!t)&&(e[1]>t[1]||e[1]===t[1]&&e[0]>t[0])}handleTrim(e){return this.selectionStart&&(this.selectionStart[1]-=e),this.selectionEnd&&(this.selectionEnd[1]-=e),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(e,t,r){var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},n=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CharSizeService=void 0;const s=r(2585),o=r(8460),a=r(844);let l=t.CharSizeService=class extends a.Disposable{get hasValidSize(){return this.width>0&&this.height>0}constructor(e,t,r){super(),this._optionsService=r,this.width=0,this.height=0,this._onCharSizeChange=this.register(new o.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event,this._measureStrategy=new c(e,t,this._optionsService),this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],()=>this.measure()))}measure(){const e=this._measureStrategy.measure();e.width===this.width&&e.height===this.height||(this.width=e.width,this.height=e.height,this._onCharSizeChange.fire())}};t.CharSizeService=l=i([n(2,s.IOptionsService)],l);class c{constructor(e,t,r){this._document=e,this._parentElement=t,this._optionsService=r,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize="".concat(this._optionsService.rawOptions.fontSize,"px");const e={height:Number(this._measureElement.offsetHeight),width:Number(this._measureElement.offsetWidth)};return 0!==e.width&&0!==e.height&&(this._result.width=e.width/32,this._result.height=Math.ceil(e.height)),this._result}}},4269:function(e,t,r){var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},n=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CharacterJoinerService=t.JoinedCellData=void 0;const s=r(3734),o=r(643),a=r(511),l=r(2585);class c extends s.AttributeData{constructor(e,t,r){super(),this.content=0,this.combinedData="",this.fg=e.fg,this.bg=e.bg,this.combinedData=t,this._width=r}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(e){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}t.JoinedCellData=c;let u=t.CharacterJoinerService=class e{constructor(e){this._bufferService=e,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new a.CellData}register(e){const t={id:this._nextCharacterJoinerId++,handler:e};return this._characterJoiners.push(t),t.id}deregister(e){for(let t=0;t<this._characterJoiners.length;t++)if(this._characterJoiners[t].id===e)return this._characterJoiners.splice(t,1),!0;return!1}getJoinedCharacters(e){if(0===this._characterJoiners.length)return[];const t=this._bufferService.buffer.lines.get(e);if(!t||0===t.length)return[];const r=[],i=t.translateToString(!0);let n=0,s=0,a=0,l=t.getFg(0),c=t.getBg(0);for(let u=0;u<t.getTrimmedLength();u++)if(t.loadCell(u,this._workCell),0!==this._workCell.getWidth()){if(this._workCell.fg!==l||this._workCell.bg!==c){if(u-n>1){const e=this._getJoinedRanges(i,a,s,t,n);for(let t=0;t<e.length;t++)r.push(e[t])}n=u,a=s,l=this._workCell.fg,c=this._workCell.bg}s+=this._workCell.getChars().length||o.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-n>1){const e=this._getJoinedRanges(i,a,s,t,n);for(let t=0;t<e.length;t++)r.push(e[t])}return r}_getJoinedRanges(t,r,i,n,s){const o=t.substring(r,i);let a=[];try{a=this._characterJoiners[0].handler(o)}catch(e){console.error(e)}for(let l=1;l<this._characterJoiners.length;l++)try{const t=this._characterJoiners[l].handler(o);for(let r=0;r<t.length;r++)e._mergeRanges(a,t[r])}catch(e){console.error(e)}return this._stringRangesToCellRanges(a,n,s),a}_stringRangesToCellRanges(e,t,r){let i=0,n=!1,s=0,a=e[i];if(a){for(let l=r;l<this._bufferService.cols;l++){const r=t.getWidth(l),c=t.getString(l).length||o.WHITESPACE_CELL_CHAR.length;if(0!==r){if(!n&&a[0]<=s&&(a[0]=l,n=!0),a[1]<=s){if(a[1]=l,a=e[++i],!a)break;a[0]<=s?(a[0]=l,n=!0):n=!1}s+=c}}a&&(a[1]=this._bufferService.cols)}}static _mergeRanges(e,t){let r=!1;for(let i=0;i<e.length;i++){const n=e[i];if(r){if(t[1]<=n[0])return e[i-1][1]=t[1],e;if(t[1]<=n[1])return e[i-1][1]=Math.max(t[1],n[1]),e.splice(i,1),e;e.splice(i,1),i--}else{if(t[1]<=n[0])return e.splice(i,0,t),e;if(t[1]<=n[1])return n[0]=Math.min(t[0],n[0]),e;t[0]<n[1]&&(n[0]=Math.min(t[0],n[0]),r=!0)}}return r?e[e.length-1][1]=t[1]:e.push(t),e}};t.CharacterJoinerService=u=i([n(0,l.IBufferService)],u)},5114:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CoreBrowserService=void 0,t.CoreBrowserService=class{constructor(e,t){this._textarea=e,this.window=t,this._isFocused=!1,this._cachedIsFocused=void 0,this._textarea.addEventListener("focus",()=>this._isFocused=!0),this._textarea.addEventListener("blur",()=>this._isFocused=!1)}get dpr(){return this.window.devicePixelRatio}get isFocused(){return void 0===this._cachedIsFocused&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask(()=>this._cachedIsFocused=void 0)),this._cachedIsFocused}}},8934:function(e,t,r){var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},n=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.MouseService=void 0;const s=r(4725),o=r(9806);let a=t.MouseService=class{constructor(e,t){this._renderService=e,this._charSizeService=t}getCoords(e,t,r,i,n){return(0,o.getCoords)(window,e,t,r,i,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,n)}getMouseReportCoords(e,t){const r=(0,o.getCoordsRelativeToElement)(window,e,t);if(this._charSizeService.hasValidSize)return r[0]=Math.min(Math.max(r[0],0),this._renderService.dimensions.css.canvas.width-1),r[1]=Math.min(Math.max(r[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(r[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(r[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(r[0]),y:Math.floor(r[1])}}};t.MouseService=a=i([n(0,s.IRenderService),n(1,s.ICharSizeService)],a)},3230:function(e,t,r){var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},n=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.RenderService=void 0;const s=r(3656),o=r(6193),a=r(5596),l=r(4725),c=r(8460),u=r(844),h=r(7226),d=r(2585);let f=t.RenderService=class extends u.Disposable{get dimensions(){return this._renderer.value.dimensions}constructor(e,t,r,i,n,l,d,f){if(super(),this._rowCount=e,this._charSizeService=i,this._renderer=this.register(new u.MutableDisposable),this._pausedResizeTask=new h.DebouncedIdleTask,this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new c.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new c.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new c.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new c.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new o.RenderDebouncer(d.window,(e,t)=>this._renderRows(e,t)),this.register(this._renderDebouncer),this._screenDprMonitor=new a.ScreenDprMonitor(d.window),this._screenDprMonitor.setListener(()=>this.handleDevicePixelRatioChange()),this.register(this._screenDprMonitor),this.register(l.onResize(()=>this._fullRefresh())),this.register(l.buffers.onBufferActivate(()=>{var e;return null===(e=this._renderer.value)||void 0===e?void 0:e.clear()})),this.register(r.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._charSizeService.onCharSizeChange(()=>this.handleCharSizeChanged())),this.register(n.onDecorationRegistered(()=>this._fullRefresh())),this.register(n.onDecorationRemoved(()=>this._fullRefresh())),this.register(r.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio"],()=>{this.clear(),this.handleResize(l.cols,l.rows),this._fullRefresh()})),this.register(r.onMultipleOptionChange(["cursorBlink","cursorStyle"],()=>this.refreshRows(l.buffer.y,l.buffer.y,!0))),this.register((0,s.addDisposableDomListener)(d.window,"resize",()=>this.handleDevicePixelRatioChange())),this.register(f.onChangeColors(()=>this._fullRefresh())),"IntersectionObserver"in d.window){const e=new d.window.IntersectionObserver(e=>this._handleIntersectionChange(e[e.length-1]),{threshold:0});e.observe(t),this.register({dispose:()=>e.disconnect()})}}_handleIntersectionChange(e){this._isPaused=void 0===e.isIntersecting?0===e.intersectionRatio:!e.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._isPaused?this._needsFullRefresh=!0:(r||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(e,t,this._rowCount))}_renderRows(e,t){this._renderer.value&&(e=Math.min(e,this._rowCount-1),t=Math.min(t,this._rowCount-1),this._renderer.value.renderRows(e,t),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:e,end:t}),this._onRender.fire({start:e,end:t}),this._isNextRenderRedrawOnly=!0)}resize(e,t){this._rowCount=t,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(e){this._renderer.value=e,this._renderer.value.onRequestRedraw(e=>this.refreshRows(e.start,e.end,!0)),this._needsSelectionRefresh=!0,this._fullRefresh()}addRefreshCallback(e){return this._renderDebouncer.addRefreshCallback(e)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){var e,t;this._renderer.value&&(null===(t=(e=this._renderer.value).clearTextureAtlas)||void 0===t||t.call(e),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(e,t){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set(()=>this._renderer.value.handleResize(e,t)):this._renderer.value.handleResize(e,t),this._fullRefresh())}handleCharSizeChanged(){var e;null===(e=this._renderer.value)||void 0===e||e.handleCharSizeChanged()}handleBlur(){var e;null===(e=this._renderer.value)||void 0===e||e.handleBlur()}handleFocus(){var e;null===(e=this._renderer.value)||void 0===e||e.handleFocus()}handleSelectionChanged(e,t,r){var i;this._selectionState.start=e,this._selectionState.end=t,this._selectionState.columnSelectMode=r,null===(i=this._renderer.value)||void 0===i||i.handleSelectionChanged(e,t,r)}handleCursorMove(){var e;null===(e=this._renderer.value)||void 0===e||e.handleCursorMove()}clear(){var e;null===(e=this._renderer.value)||void 0===e||e.clear()}};t.RenderService=f=i([n(2,d.IOptionsService),n(3,l.ICharSizeService),n(4,d.IDecorationService),n(5,d.IBufferService),n(6,l.ICoreBrowserService),n(7,l.IThemeService)],f)},9312:function(e,t,r){var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},n=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.SelectionService=void 0;const s=r(9806),o=r(9504),a=r(456),l=r(4725),c=r(8460),u=r(844),h=r(6114),d=r(4841),f=r(511),p=r(2585),m=String.fromCharCode(160),_=new RegExp(m,"g");let g=t.SelectionService=class extends u.Disposable{constructor(e,t,r,i,n,s,o,l,h){super(),this._element=e,this._screenElement=t,this._linkifier=r,this._bufferService=i,this._coreService=n,this._mouseService=s,this._optionsService=o,this._renderService=l,this._coreBrowserService=h,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new f.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new c.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new c.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new c.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new c.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=e=>this._handleMouseMove(e),this._mouseUpListener=e=>this._handleMouseUp(e),this._coreService.onUserInput(()=>{this.hasSelection&&this.clearSelection()}),this._trimListener=this._bufferService.buffer.lines.onTrim(e=>this._handleTrim(e)),this.register(this._bufferService.buffers.onBufferActivate(e=>this._handleBufferActivate(e))),this.enable(),this._model=new a.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,u.toDisposable)(()=>{this._removeMouseDownListeners()}))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const e=this._model.finalSelectionStart,t=this._model.finalSelectionEnd;return!(!e||!t||e[0]===t[0]&&e[1]===t[1])}get selectionText(){const e=this._model.finalSelectionStart,t=this._model.finalSelectionEnd;if(!e||!t)return"";const r=this._bufferService.buffer,i=[];if(3===this._activeSelectionMode){if(e[0]===t[0])return"";const n=e[0]<t[0]?e[0]:t[0],s=e[0]<t[0]?t[0]:e[0];for(let o=e[1];o<=t[1];o++){const e=r.translateBufferLineToString(o,!0,n,s);i.push(e)}}else{const n=e[1]===t[1]?t[0]:void 0;i.push(r.translateBufferLineToString(e[1],!0,e[0],n));for(let s=e[1]+1;s<=t[1]-1;s++){const e=r.lines.get(s),t=r.translateBufferLineToString(s,!0);(null==e?void 0:e.isWrapped)?i[i.length-1]+=t:i.push(t)}if(e[1]!==t[1]){const e=r.lines.get(t[1]),n=r.translateBufferLineToString(t[1],!0,0,t[0]);e&&e.isWrapped?i[i.length-1]+=n:i.push(n)}}return i.map(e=>e.replace(_," ")).join(h.isWindows?"\r\n":"\n")}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(e){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._refresh())),h.isLinux&&e&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:3===this._activeSelectionMode})}_isClickInSelection(e){const t=this._getMouseBufferCoords(e),r=this._model.finalSelectionStart,i=this._model.finalSelectionEnd;return!!(r&&i&&t)&&this._areCoordsInSelection(t,r,i)}isCellInSelection(e,t){const r=this._model.finalSelectionStart,i=this._model.finalSelectionEnd;return!(!r||!i)&&this._areCoordsInSelection([e,t],r,i)}_areCoordsInSelection(e,t,r){return e[1]>t[1]&&e[1]<r[1]||t[1]===r[1]&&e[1]===t[1]&&e[0]>=t[0]&&e[0]<r[0]||t[1]<r[1]&&e[1]===r[1]&&e[0]<r[0]||t[1]<r[1]&&e[1]===t[1]&&e[0]>=t[0]}_selectWordAtCursor(e,t){var r,i;const n=null===(i=null===(r=this._linkifier.currentLink)||void 0===r?void 0:r.link)||void 0===i?void 0:i.range;if(n)return this._model.selectionStart=[n.start.x-1,n.start.y-1],this._model.selectionStartLength=(0,d.getRangeLength)(n,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const s=this._getMouseBufferCoords(e);return!!s&&(this._selectWordAt(s,t),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(e,t){this._model.clearSelection(),e=Math.max(e,0),t=Math.min(t,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,e],this._model.selectionEnd=[this._bufferService.cols,t],this.refresh(),this._onSelectionChange.fire()}_handleTrim(e){this._model.handleTrim(e)&&this.refresh()}_getMouseBufferCoords(e){const t=this._mouseService.getCoords(e,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(t)return t[0]--,t[1]--,t[1]+=this._bufferService.buffer.ydisp,t}_getMouseEventScrollAmount(e){let t=(0,s.getCoordsRelativeToElement)(this._coreBrowserService.window,e,this._screenElement)[1];const r=this._renderService.dimensions.css.canvas.height;return t>=0&&t<=r?0:(t>r&&(t-=r),t=Math.min(Math.max(t,-50),50),t/=50,t/Math.abs(t)+Math.round(14*t))}shouldForceSelection(e){return h.isMac?e.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:e.shiftKey}handleMouseDown(e){if(this._mouseDownTimeStamp=e.timeStamp,(2!==e.button||!this.hasSelection)&&0===e.button){if(!this._enabled){if(!this.shouldForceSelection(e))return;e.stopPropagation()}e.preventDefault(),this._dragScrollAmount=0,this._enabled&&e.shiftKey?this._handleIncrementalClick(e):1===e.detail?this._handleSingleClick(e):2===e.detail?this._handleDoubleClick(e):3===e.detail&&this._handleTripleClick(e),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval(()=>this._dragScroll(),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(e){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(e))}_handleSingleClick(e){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(e)?3:0,this._model.selectionStart=this._getMouseBufferCoords(e),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const t=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);t&&t.length!==this._model.selectionStart[0]&&0===t.hasWidth(this._model.selectionStart[0])&&this._model.selectionStart[0]++}_handleDoubleClick(e){this._selectWordAtCursor(e,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(e){const t=this._getMouseBufferCoords(e);t&&(this._activeSelectionMode=2,this._selectLineAt(t[1]))}shouldColumnSelect(e){return e.altKey&&!(h.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(e){if(e.stopImmediatePropagation(),!this._model.selectionStart)return;const t=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(e),!this._model.selectionEnd)return void this.refresh(!0);2===this._activeSelectionMode?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:1===this._activeSelectionMode&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(e),3!==this._activeSelectionMode&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const r=this._bufferService.buffer;if(this._model.selectionEnd[1]<r.lines.length){const e=r.lines.get(this._model.selectionEnd[1]);e&&0===e.hasWidth(this._model.selectionEnd[0])&&this._model.selectionEnd[0]++}t&&t[0]===this._model.selectionEnd[0]&&t[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const e=this._bufferService.buffer;this._dragScrollAmount>0?(3!==this._activeSelectionMode&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(e.ydisp+this._bufferService.rows,e.lines.length-1)):(3!==this._activeSelectionMode&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=e.ydisp),this.refresh()}}_handleMouseUp(e){const t=e.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&t<500&&e.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const t=this._mouseService.getCoords(e,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(t&&void 0!==t[0]&&void 0!==t[1]){const e=(0,o.moveToCellSequence)(t[0]-1,t[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(e,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const e=this._model.finalSelectionStart,t=this._model.finalSelectionEnd,r=!(!e||!t||e[0]===t[0]&&e[1]===t[1]);r?e&&t&&(this._oldSelectionStart&&this._oldSelectionEnd&&e[0]===this._oldSelectionStart[0]&&e[1]===this._oldSelectionStart[1]&&t[0]===this._oldSelectionEnd[0]&&t[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(e,t,r)):this._oldHasSelection&&this._fireOnSelectionChange(e,t,r)}_fireOnSelectionChange(e,t,r){this._oldSelectionStart=e,this._oldSelectionEnd=t,this._oldHasSelection=r,this._onSelectionChange.fire()}_handleBufferActivate(e){this.clearSelection(),this._trimListener.dispose(),this._trimListener=e.activeBuffer.lines.onTrim(e=>this._handleTrim(e))}_convertViewportColToCharacterIndex(e,t){let r=t;for(let i=0;t>=i;i++){const n=e.loadCell(i,this._workCell).getChars().length;0===this._workCell.getWidth()?r--:n>1&&t!==i&&(r+=n-1)}return r}setSelection(e,t,r){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[e,t],this._model.selectionStartLength=r,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(e){this._isClickInSelection(e)||(this._selectWordAtCursor(e,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(e[0]>=this._bufferService.cols)return;const n=this._bufferService.buffer,s=n.lines.get(e[1]);if(!s)return;const o=n.translateBufferLineToString(e[1],!1);let a=this._convertViewportColToCharacterIndex(s,e[0]),l=a;const c=e[0]-a;let u=0,h=0,d=0,f=0;if(" "===o.charAt(a)){for(;a>0&&" "===o.charAt(a-1);)a--;for(;l<o.length&&" "===o.charAt(l+1);)l++}else{let t=e[0],r=e[0];0===s.getWidth(t)&&(u++,t--),2===s.getWidth(r)&&(h++,r++);const i=s.getString(r).length;for(i>1&&(f+=i-1,l+=i-1);t>0&&a>0&&!this._isCharWordSeparator(s.loadCell(t-1,this._workCell));){s.loadCell(t-1,this._workCell);const e=this._workCell.getChars().length;0===this._workCell.getWidth()?(u++,t--):e>1&&(d+=e-1,a-=e-1),a--,t--}for(;r<s.length&&l+1<o.length&&!this._isCharWordSeparator(s.loadCell(r+1,this._workCell));){s.loadCell(r+1,this._workCell);const e=this._workCell.getChars().length;2===this._workCell.getWidth()?(h++,r++):e>1&&(f+=e-1,l+=e-1),l++,r++}}l++;let p=a+c-u+d,m=Math.min(this._bufferService.cols,l-a+u+h-d-f);if(t||""!==o.slice(a,l).trim()){if(r&&0===p&&32!==s.getCodePoint(0)){const t=n.lines.get(e[1]-1);if(t&&s.isWrapped&&32!==t.getCodePoint(this._bufferService.cols-1)){const t=this._getWordAt([this._bufferService.cols-1,e[1]-1],!1,!0,!1);if(t){const e=this._bufferService.cols-t.start;p-=e,m+=e}}}if(i&&p+m===this._bufferService.cols&&32!==s.getCodePoint(this._bufferService.cols-1)){const t=n.lines.get(e[1]+1);if((null==t?void 0:t.isWrapped)&&32!==t.getCodePoint(0)){const t=this._getWordAt([0,e[1]+1],!1,!1,!0);t&&(m+=t.length)}}return{start:p,length:m}}}_selectWordAt(e,t){const r=this._getWordAt(e,t);if(r){for(;r.start<0;)r.start+=this._bufferService.cols,e[1]--;this._model.selectionStart=[r.start,e[1]],this._model.selectionStartLength=r.length}}_selectToWordAt(e){const t=this._getWordAt(e,!0);if(t){let r=e[1];for(;t.start<0;)t.start+=this._bufferService.cols,r--;if(!this._model.areSelectionValuesReversed())for(;t.start+t.length>this._bufferService.cols;)t.length-=this._bufferService.cols,r++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?t.start:t.start+t.length,r]}}_isCharWordSeparator(e){return 0!==e.getWidth()&&this._optionsService.rawOptions.wordSeparator.indexOf(e.getChars())>=0}_selectLineAt(e){const t=this._bufferService.buffer.getWrappedRangeForLine(e),r={start:{x:0,y:t.first},end:{x:this._bufferService.cols-1,y:t.last}};this._model.selectionStart=[0,t.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,d.getRangeLength)(r,this._bufferService.cols)}};t.SelectionService=g=i([n(3,p.IBufferService),n(4,p.ICoreService),n(5,l.IMouseService),n(6,p.IOptionsService),n(7,l.IRenderService),n(8,l.ICoreBrowserService)],g)},4725:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.IThemeService=t.ICharacterJoinerService=t.ISelectionService=t.IRenderService=t.IMouseService=t.ICoreBrowserService=t.ICharSizeService=void 0;const i=r(8343);t.ICharSizeService=(0,i.createDecorator)("CharSizeService"),t.ICoreBrowserService=(0,i.createDecorator)("CoreBrowserService"),t.IMouseService=(0,i.createDecorator)("MouseService"),t.IRenderService=(0,i.createDecorator)("RenderService"),t.ISelectionService=(0,i.createDecorator)("SelectionService"),t.ICharacterJoinerService=(0,i.createDecorator)("CharacterJoinerService"),t.IThemeService=(0,i.createDecorator)("ThemeService")},6731:function(e,t,r){var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},n=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ThemeService=t.DEFAULT_ANSI_COLORS=void 0;const s=r(7239),o=r(8055),a=r(8460),l=r(844),c=r(2585),u=o.css.toColor("#ffffff"),h=o.css.toColor("#000000"),d=o.css.toColor("#ffffff"),f=o.css.toColor("#000000"),p={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};t.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const e=[o.css.toColor("#2e3436"),o.css.toColor("#cc0000"),o.css.toColor("#4e9a06"),o.css.toColor("#c4a000"),o.css.toColor("#3465a4"),o.css.toColor("#75507b"),o.css.toColor("#06989a"),o.css.toColor("#d3d7cf"),o.css.toColor("#555753"),o.css.toColor("#ef2929"),o.css.toColor("#8ae234"),o.css.toColor("#fce94f"),o.css.toColor("#729fcf"),o.css.toColor("#ad7fa8"),o.css.toColor("#34e2e2"),o.css.toColor("#eeeeec")],t=[0,95,135,175,215,255];for(let r=0;r<216;r++){const i=t[r/36%6|0],n=t[r/6%6|0],s=t[r%6];e.push({css:o.channels.toCss(i,n,s),rgba:o.channels.toRgba(i,n,s)})}for(let r=0;r<24;r++){const t=8+10*r;e.push({css:o.channels.toCss(t,t,t),rgba:o.channels.toRgba(t,t,t)})}return e})());let m=t.ThemeService=class extends l.Disposable{get colors(){return this._colors}constructor(e){super(),this._optionsService=e,this._contrastCache=new s.ColorContrastCache,this._halfContrastCache=new s.ColorContrastCache,this._onChangeColors=this.register(new a.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:u,background:h,cursor:d,cursorAccent:f,selectionForeground:void 0,selectionBackgroundTransparent:p,selectionBackgroundOpaque:o.color.blend(h,p),selectionInactiveBackgroundTransparent:p,selectionInactiveBackgroundOpaque:o.color.blend(h,p),ansi:t.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",()=>this._contrastCache.clear())),this.register(this._optionsService.onSpecificOptionChange("theme",()=>this._setTheme(this._optionsService.rawOptions.theme)))}_setTheme(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this._colors;if(r.foreground=_(e.foreground,u),r.background=_(e.background,h),r.cursor=_(e.cursor,d),r.cursorAccent=_(e.cursorAccent,f),r.selectionBackgroundTransparent=_(e.selectionBackground,p),r.selectionBackgroundOpaque=o.color.blend(r.background,r.selectionBackgroundTransparent),r.selectionInactiveBackgroundTransparent=_(e.selectionInactiveBackground,r.selectionBackgroundTransparent),r.selectionInactiveBackgroundOpaque=o.color.blend(r.background,r.selectionInactiveBackgroundTransparent),r.selectionForeground=e.selectionForeground?_(e.selectionForeground,o.NULL_COLOR):void 0,r.selectionForeground===o.NULL_COLOR&&(r.selectionForeground=void 0),o.color.isOpaque(r.selectionBackgroundTransparent)){const e=.3;r.selectionBackgroundTransparent=o.color.opacity(r.selectionBackgroundTransparent,e)}if(o.color.isOpaque(r.selectionInactiveBackgroundTransparent)){const e=.3;r.selectionInactiveBackgroundTransparent=o.color.opacity(r.selectionInactiveBackgroundTransparent,e)}if(r.ansi=t.DEFAULT_ANSI_COLORS.slice(),r.ansi[0]=_(e.black,t.DEFAULT_ANSI_COLORS[0]),r.ansi[1]=_(e.red,t.DEFAULT_ANSI_COLORS[1]),r.ansi[2]=_(e.green,t.DEFAULT_ANSI_COLORS[2]),r.ansi[3]=_(e.yellow,t.DEFAULT_ANSI_COLORS[3]),r.ansi[4]=_(e.blue,t.DEFAULT_ANSI_COLORS[4]),r.ansi[5]=_(e.magenta,t.DEFAULT_ANSI_COLORS[5]),r.ansi[6]=_(e.cyan,t.DEFAULT_ANSI_COLORS[6]),r.ansi[7]=_(e.white,t.DEFAULT_ANSI_COLORS[7]),r.ansi[8]=_(e.brightBlack,t.DEFAULT_ANSI_COLORS[8]),r.ansi[9]=_(e.brightRed,t.DEFAULT_ANSI_COLORS[9]),r.ansi[10]=_(e.brightGreen,t.DEFAULT_ANSI_COLORS[10]),r.ansi[11]=_(e.brightYellow,t.DEFAULT_ANSI_COLORS[11]),r.ansi[12]=_(e.brightBlue,t.DEFAULT_ANSI_COLORS[12]),r.ansi[13]=_(e.brightMagenta,t.DEFAULT_ANSI_COLORS[13]),r.ansi[14]=_(e.brightCyan,t.DEFAULT_ANSI_COLORS[14]),r.ansi[15]=_(e.brightWhite,t.DEFAULT_ANSI_COLORS[15]),e.extendedAnsi){const i=Math.min(r.ansi.length-16,e.extendedAnsi.length);for(let n=0;n<i;n++)r.ansi[n+16]=_(e.extendedAnsi[n],t.DEFAULT_ANSI_COLORS[n+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(e){this._restoreColor(e),this._onChangeColors.fire(this.colors)}_restoreColor(e){if(void 0!==e)switch(e){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[e]=this._restoreColors.ansi[e]}else for(let t=0;t<this._restoreColors.ansi.length;++t)this._colors.ansi[t]=this._restoreColors.ansi[t]}modifyColors(e){e(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function _(e,t){if(void 0!==e)try{return o.css.toColor(e)}catch(e){}return t}t.ThemeService=m=i([n(0,c.IOptionsService)],m)},6349:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CircularList=void 0;const i=r(8460),n=r(844);class s extends n.Disposable{constructor(e){super(),this._maxLength=e,this.onDeleteEmitter=this.register(new i.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new i.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new i.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(e){if(this._maxLength===e)return;const t=new Array(e);for(let r=0;r<Math.min(e,this.length);r++)t[r]=this._array[this._getCyclicIndex(r)];this._array=t,this._maxLength=e,this._startIndex=0}get length(){return this._length}set length(e){if(e>this._length)for(let t=this._length;t<e;t++)this._array[t]=void 0;this._length=e}get(e){return this._array[this._getCyclicIndex(e)]}set(e,t){this._array[this._getCyclicIndex(e)]=t}push(e){this._array[this._getCyclicIndex(this._length)]=e,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(e,t){if(t){for(let r=e;r<this._length-t;r++)this._array[this._getCyclicIndex(r)]=this._array[this._getCyclicIndex(r+t)];this._length-=t,this.onDeleteEmitter.fire({index:e,amount:t})}for(let r=this._length-1;r>=e;r--)this._array[this._getCyclicIndex(r+(arguments.length<=2?0:arguments.length-2))]=this._array[this._getCyclicIndex(r)];for(let r=0;r<(arguments.length<=2?0:arguments.length-2);r++)this._array[this._getCyclicIndex(e+r)]=r+2<2||arguments.length<=r+2?void 0:arguments[r+2];if((arguments.length<=2?0:arguments.length-2)&&this.onInsertEmitter.fire({index:e,amount:arguments.length<=2?0:arguments.length-2}),this._length+(arguments.length<=2?0:arguments.length-2)>this._maxLength){const e=this._length+(arguments.length<=2?0:arguments.length-2)-this._maxLength;this._startIndex+=e,this._length=this._maxLength,this.onTrimEmitter.fire(e)}else this._length+=arguments.length<=2?0:arguments.length-2}trimStart(e){e>this._length&&(e=this._length),this._startIndex+=e,this._length-=e,this.onTrimEmitter.fire(e)}shiftElements(e,t,r){if(!(t<=0)){if(e<0||e>=this._length)throw new Error("start argument out of range");if(e+r<0)throw new Error("Cannot shift elements in list beyond index 0");if(r>0){for(let n=t-1;n>=0;n--)this.set(e+n+r,this.get(e+n));const i=e+t+r-this._length;if(i>0)for(this._length+=i;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let i=0;i<t;i++)this.set(e+i+r,this.get(e+i))}}_getCyclicIndex(e){return(this._startIndex+e)%this._maxLength}}t.CircularList=s},1439:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.clone=void 0,t.clone=function e(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;if("object"!=typeof t)return t;const i=Array.isArray(t)?[]:{};for(const n in t)i[n]=r<=1?t[n]:t[n]&&e(t[n],r-1);return i}},8055:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.contrastRatio=t.toPaddedHex=t.rgba=t.rgb=t.css=t.color=t.channels=t.NULL_COLOR=void 0;const i=r(6114);let n=0,s=0,o=0,a=0;var l,c,u,h,d;function f(e){const t=e.toString(16);return t.length<2?"0"+t:t}function p(e,t){return e<t?(t+.05)/(e+.05):(e+.05)/(t+.05)}t.NULL_COLOR={css:"#00000000",rgba:0},function(e){e.toCss=function(e,t,r,i){return void 0!==i?"#".concat(f(e)).concat(f(t)).concat(f(r)).concat(f(i)):"#".concat(f(e)).concat(f(t)).concat(f(r))},e.toRgba=function(e,t,r){return(e<<24|t<<16|r<<8|(arguments.length>3&&void 0!==arguments[3]?arguments[3]:255))>>>0}}(l||(t.channels=l={})),function(e){function t(e,t){return a=Math.round(255*t),[n,s,o]=d.toChannels(e.rgba),{css:l.toCss(n,s,o,a),rgba:l.toRgba(n,s,o,a)}}e.blend=function(e,t){if(a=(255&t.rgba)/255,1===a)return{css:t.css,rgba:t.rgba};const r=t.rgba>>24&255,i=t.rgba>>16&255,c=t.rgba>>8&255,u=e.rgba>>24&255,h=e.rgba>>16&255,d=e.rgba>>8&255;return n=u+Math.round((r-u)*a),s=h+Math.round((i-h)*a),o=d+Math.round((c-d)*a),{css:l.toCss(n,s,o),rgba:l.toRgba(n,s,o)}},e.isOpaque=function(e){return 255==(255&e.rgba)},e.ensureContrastRatio=function(e,t,r){const i=d.ensureContrastRatio(e.rgba,t.rgba,r);if(i)return d.toColor(i>>24&255,i>>16&255,i>>8&255)},e.opaque=function(e){const t=(255|e.rgba)>>>0;return[n,s,o]=d.toChannels(t),{css:l.toCss(n,s,o),rgba:t}},e.opacity=t,e.multiplyOpacity=function(e,r){return a=255&e.rgba,t(e,a*r/255)},e.toColorRGB=function(e){return[e.rgba>>24&255,e.rgba>>16&255,e.rgba>>8&255]}}(c||(t.color=c={})),function(e){let t,r;if(!i.isNode){const e=document.createElement("canvas");e.width=1,e.height=1;const i=e.getContext("2d",{willReadFrequently:!0});i&&(t=i,t.globalCompositeOperation="copy",r=t.createLinearGradient(0,0,1,1))}e.toColor=function(e){if(e.match(/#[\da-f]{3,8}/i))switch(e.length){case 4:return n=parseInt(e.slice(1,2).repeat(2),16),s=parseInt(e.slice(2,3).repeat(2),16),o=parseInt(e.slice(3,4).repeat(2),16),d.toColor(n,s,o);case 5:return n=parseInt(e.slice(1,2).repeat(2),16),s=parseInt(e.slice(2,3).repeat(2),16),o=parseInt(e.slice(3,4).repeat(2),16),a=parseInt(e.slice(4,5).repeat(2),16),d.toColor(n,s,o,a);case 7:return{css:e,rgba:(parseInt(e.slice(1),16)<<8|255)>>>0};case 9:return{css:e,rgba:parseInt(e.slice(1),16)>>>0}}const i=e.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(i)return n=parseInt(i[1]),s=parseInt(i[2]),o=parseInt(i[3]),a=Math.round(255*(void 0===i[5]?1:parseFloat(i[5]))),d.toColor(n,s,o,a);if(!t||!r)throw new Error("css.toColor: Unsupported css format");if(t.fillStyle=r,t.fillStyle=e,"string"!=typeof t.fillStyle)throw new Error("css.toColor: Unsupported css format");if(t.fillRect(0,0,1,1),[n,s,o,a]=t.getImageData(0,0,1,1).data,255!==a)throw new Error("css.toColor: Unsupported css format");return{rgba:l.toRgba(n,s,o,a),css:e}}}(u||(t.css=u={})),function(e){function t(e,t,r){const i=e/255,n=t/255,s=r/255;return.2126*(i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4))+.7152*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))+.0722*(s<=.03928?s/12.92:Math.pow((s+.055)/1.055,2.4))}e.relativeLuminance=function(e){return t(e>>16&255,e>>8&255,255&e)},e.relativeLuminance2=t}(h||(t.rgb=h={})),function(e){function t(e,t,r){const i=e>>24&255,n=e>>16&255,s=e>>8&255;let o=t>>24&255,a=t>>16&255,l=t>>8&255,c=p(h.relativeLuminance2(o,a,l),h.relativeLuminance2(i,n,s));for(;c<r&&(o>0||a>0||l>0);)o-=Math.max(0,Math.ceil(.1*o)),a-=Math.max(0,Math.ceil(.1*a)),l-=Math.max(0,Math.ceil(.1*l)),c=p(h.relativeLuminance2(o,a,l),h.relativeLuminance2(i,n,s));return(o<<24|a<<16|l<<8|255)>>>0}function r(e,t,r){const i=e>>24&255,n=e>>16&255,s=e>>8&255;let o=t>>24&255,a=t>>16&255,l=t>>8&255,c=p(h.relativeLuminance2(o,a,l),h.relativeLuminance2(i,n,s));for(;c<r&&(o<255||a<255||l<255);)o=Math.min(255,o+Math.ceil(.1*(255-o))),a=Math.min(255,a+Math.ceil(.1*(255-a))),l=Math.min(255,l+Math.ceil(.1*(255-l))),c=p(h.relativeLuminance2(o,a,l),h.relativeLuminance2(i,n,s));return(o<<24|a<<16|l<<8|255)>>>0}e.ensureContrastRatio=function(e,i,n){const s=h.relativeLuminance(e>>8),o=h.relativeLuminance(i>>8);if(p(s,o)<n){if(o<s){const o=t(e,i,n),a=p(s,h.relativeLuminance(o>>8));if(a<n){const t=r(e,i,n);return a>p(s,h.relativeLuminance(t>>8))?o:t}return o}const a=r(e,i,n),l=p(s,h.relativeLuminance(a>>8));if(l<n){const r=t(e,i,n);return l>p(s,h.relativeLuminance(r>>8))?a:r}return a}},e.reduceLuminance=t,e.increaseLuminance=r,e.toChannels=function(e){return[e>>24&255,e>>16&255,e>>8&255,255&e]},e.toColor=function(e,t,r,i){return{css:l.toCss(e,t,r,i),rgba:l.toRgba(e,t,r,i)}}}(d||(t.rgba=d={})),t.toPaddedHex=f,t.contrastRatio=p},8969:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CoreTerminal=void 0;const i=r(844),n=r(2585),s=r(4348),o=r(7866),a=r(744),l=r(7302),c=r(6975),u=r(8460),h=r(1753),d=r(1480),f=r(7994),p=r(9282),m=r(5435),_=r(5981),g=r(2660);let v=!1;class y extends i.Disposable{get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new u.EventEmitter),this._onScroll.event(e=>{var t;null===(t=this._onScrollApi)||void 0===t||t.fire(e.position)})),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(e){for(const t in e)this.optionsService.options[t]=e[t]}constructor(e){super(),this._windowsWrappingHeuristics=this.register(new i.MutableDisposable),this._onBinary=this.register(new u.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new u.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new u.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new u.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new u.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new u.EventEmitter),this._instantiationService=new s.InstantiationService,this.optionsService=this.register(new l.OptionsService(e)),this._instantiationService.setService(n.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(a.BufferService)),this._instantiationService.setService(n.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(o.LogService)),this._instantiationService.setService(n.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(c.CoreService)),this._instantiationService.setService(n.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(h.CoreMouseService)),this._instantiationService.setService(n.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(d.UnicodeService)),this._instantiationService.setService(n.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(f.CharsetService),this._instantiationService.setService(n.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(g.OscLinkService),this._instantiationService.setService(n.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new m.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,u.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,u.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,u.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,u.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom(()=>this.scrollToBottom())),this.register(this.coreService.onUserInput(()=>this._writeBuffer.handleUserInput())),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],()=>this._handleWindowsPtyOptionChange())),this.register(this._bufferService.onScroll(e=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this.register(this._inputHandler.onScroll(e=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this._writeBuffer=this.register(new _.WriteBuffer((e,t)=>this._inputHandler.parse(e,t))),this.register((0,u.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed))}write(e,t){this._writeBuffer.write(e,t)}writeSync(e,t){this._logService.logLevel<=n.LogLevelEnum.WARN&&!v&&(this._logService.warn("writeSync is unreliable and will be removed soon."),v=!0),this._writeBuffer.writeSync(e,t)}resize(e,t){isNaN(e)||isNaN(t)||(e=Math.max(e,a.MINIMUM_COLS),t=Math.max(t,a.MINIMUM_ROWS),this._bufferService.resize(e,t))}scroll(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._bufferService.scroll(e,t)}scrollLines(e,t,r){this._bufferService.scrollLines(e,t,r)}scrollPages(e){this.scrollLines(e*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(e){const t=e-this._bufferService.buffer.ydisp;0!==t&&this.scrollLines(t)}registerEscHandler(e,t){return this._inputHandler.registerEscHandler(e,t)}registerDcsHandler(e,t){return this._inputHandler.registerDcsHandler(e,t)}registerCsiHandler(e,t){return this._inputHandler.registerCsiHandler(e,t)}registerOscHandler(e,t){return this._inputHandler.registerOscHandler(e,t)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let e=!1;const t=this.optionsService.rawOptions.windowsPty;t&&void 0!==t.buildNumber&&void 0!==t.buildNumber?e=!!("conpty"===t.backend&&t.buildNumber<21376):this.optionsService.rawOptions.windowsMode&&(e=!0),e?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){const e=[];e.push(this.onLineFeed(p.updateWindowsModeWrappedState.bind(null,this._bufferService))),e.push(this.registerCsiHandler({final:"H"},()=>((0,p.updateWindowsModeWrappedState)(this._bufferService),!1))),this._windowsWrappingHeuristics.value=(0,i.toDisposable)(()=>{for(const t of e)t.dispose()})}}}t.CoreTerminal=y},8460:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.forwardEvent=t.EventEmitter=void 0,t.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=e=>(this._listeners.push(e),{dispose:()=>{if(!this._disposed)for(let t=0;t<this._listeners.length;t++)if(this._listeners[t]===e)return void this._listeners.splice(t,1)}})),this._event}fire(e,t){const r=[];for(let i=0;i<this._listeners.length;i++)r.push(this._listeners[i]);for(let i=0;i<r.length;i++)r[i].call(void 0,e,t)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},t.forwardEvent=function(e,t){return e(e=>t.fire(e))}},5435:function(e,t,r){var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},n=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.InputHandler=t.WindowsOptionsReportType=void 0;const s=r(2584),o=r(7116),a=r(2015),l=r(844),c=r(482),u=r(8437),h=r(8460),d=r(643),f=r(511),p=r(3734),m=r(2585),_=r(6242),g=r(6351),v=r(5941),y={"(":0,")":1,"*":2,"+":3,"-":1,".":2},b=131072;function S(e,t){if(e>24)return t.setWinLines||!1;switch(e){case 1:return!!t.restoreWin;case 2:return!!t.minimizeWin;case 3:return!!t.setWinPosition;case 4:return!!t.setWinSizePixels;case 5:return!!t.raiseWin;case 6:return!!t.lowerWin;case 7:return!!t.refreshWin;case 8:return!!t.setWinSizeChars;case 9:return!!t.maximizeWin;case 10:return!!t.fullscreenWin;case 11:return!!t.getWinState;case 13:return!!t.getWinPosition;case 14:return!!t.getWinSizePixels;case 15:return!!t.getScreenSizePixels;case 16:return!!t.getCellSizePixels;case 18:return!!t.getWinSizeChars;case 19:return!!t.getScreenSizeChars;case 20:return!!t.getIconTitle;case 21:return!!t.getWinTitle;case 22:return!!t.pushTitle;case 23:return!!t.popTitle;case 24:return!!t.setWinLines}return!1}var w;!function(e){e[e.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",e[e.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"}(w||(t.WindowsOptionsReportType=w={}));let C=0;class k extends l.Disposable{getAttrData(){return this._curAttrData}constructor(e,t,r,i,n,l,d,p){let m=arguments.length>8&&void 0!==arguments[8]?arguments[8]:new a.EscapeSequenceParser;super(),this._bufferService=e,this._charsetService=t,this._coreService=r,this._logService=i,this._optionsService=n,this._oscLinkService=l,this._coreMouseService=d,this._unicodeService=p,this._parser=m,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new c.StringToUtf32,this._utf8Decoder=new c.Utf8ToUtf32,this._workCell=new f.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=u.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=u.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new h.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new h.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new h.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new h.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new h.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new h.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new h.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new h.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new h.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new h.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new h.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new h.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new h.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new x(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(e=>this._activeBuffer=e.activeBuffer)),this._parser.setCsiHandlerFallback((e,t)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(e),params:t.toArray()})}),this._parser.setEscHandlerFallback(e=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(e)})}),this._parser.setExecuteHandlerFallback(e=>{this._logService.debug("Unknown EXECUTE code: ",{code:e})}),this._parser.setOscHandlerFallback((e,t,r)=>{this._logService.debug("Unknown OSC code: ",{identifier:e,action:t,data:r})}),this._parser.setDcsHandlerFallback((e,t,r)=>{"HOOK"===t&&(r=r.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(e),action:t,payload:r})}),this._parser.setPrintHandler((e,t,r)=>this.print(e,t,r)),this._parser.registerCsiHandler({final:"@"},e=>this.insertChars(e)),this._parser.registerCsiHandler({intermediates:" ",final:"@"},e=>this.scrollLeft(e)),this._parser.registerCsiHandler({final:"A"},e=>this.cursorUp(e)),this._parser.registerCsiHandler({intermediates:" ",final:"A"},e=>this.scrollRight(e)),this._parser.registerCsiHandler({final:"B"},e=>this.cursorDown(e)),this._parser.registerCsiHandler({final:"C"},e=>this.cursorForward(e)),this._parser.registerCsiHandler({final:"D"},e=>this.cursorBackward(e)),this._parser.registerCsiHandler({final:"E"},e=>this.cursorNextLine(e)),this._parser.registerCsiHandler({final:"F"},e=>this.cursorPrecedingLine(e)),this._parser.registerCsiHandler({final:"G"},e=>this.cursorCharAbsolute(e)),this._parser.registerCsiHandler({final:"H"},e=>this.cursorPosition(e)),this._parser.registerCsiHandler({final:"I"},e=>this.cursorForwardTab(e)),this._parser.registerCsiHandler({final:"J"},e=>this.eraseInDisplay(e,!1)),this._parser.registerCsiHandler({prefix:"?",final:"J"},e=>this.eraseInDisplay(e,!0)),this._parser.registerCsiHandler({final:"K"},e=>this.eraseInLine(e,!1)),this._parser.registerCsiHandler({prefix:"?",final:"K"},e=>this.eraseInLine(e,!0)),this._parser.registerCsiHandler({final:"L"},e=>this.insertLines(e)),this._parser.registerCsiHandler({final:"M"},e=>this.deleteLines(e)),this._parser.registerCsiHandler({final:"P"},e=>this.deleteChars(e)),this._parser.registerCsiHandler({final:"S"},e=>this.scrollUp(e)),this._parser.registerCsiHandler({final:"T"},e=>this.scrollDown(e)),this._parser.registerCsiHandler({final:"X"},e=>this.eraseChars(e)),this._parser.registerCsiHandler({final:"Z"},e=>this.cursorBackwardTab(e)),this._parser.registerCsiHandler({final:"`"},e=>this.charPosAbsolute(e)),this._parser.registerCsiHandler({final:"a"},e=>this.hPositionRelative(e)),this._parser.registerCsiHandler({final:"b"},e=>this.repeatPrecedingCharacter(e)),this._parser.registerCsiHandler({final:"c"},e=>this.sendDeviceAttributesPrimary(e)),this._parser.registerCsiHandler({prefix:">",final:"c"},e=>this.sendDeviceAttributesSecondary(e)),this._parser.registerCsiHandler({final:"d"},e=>this.linePosAbsolute(e)),this._parser.registerCsiHandler({final:"e"},e=>this.vPositionRelative(e)),this._parser.registerCsiHandler({final:"f"},e=>this.hVPosition(e)),this._parser.registerCsiHandler({final:"g"},e=>this.tabClear(e)),this._parser.registerCsiHandler({final:"h"},e=>this.setMode(e)),this._parser.registerCsiHandler({prefix:"?",final:"h"},e=>this.setModePrivate(e)),this._parser.registerCsiHandler({final:"l"},e=>this.resetMode(e)),this._parser.registerCsiHandler({prefix:"?",final:"l"},e=>this.resetModePrivate(e)),this._parser.registerCsiHandler({final:"m"},e=>this.charAttributes(e)),this._parser.registerCsiHandler({final:"n"},e=>this.deviceStatus(e)),this._parser.registerCsiHandler({prefix:"?",final:"n"},e=>this.deviceStatusPrivate(e)),this._parser.registerCsiHandler({intermediates:"!",final:"p"},e=>this.softReset(e)),this._parser.registerCsiHandler({intermediates:" ",final:"q"},e=>this.setCursorStyle(e)),this._parser.registerCsiHandler({final:"r"},e=>this.setScrollRegion(e)),this._parser.registerCsiHandler({final:"s"},e=>this.saveCursor(e)),this._parser.registerCsiHandler({final:"t"},e=>this.windowOptions(e)),this._parser.registerCsiHandler({final:"u"},e=>this.restoreCursor(e)),this._parser.registerCsiHandler({intermediates:"'",final:"}"},e=>this.insertColumns(e)),this._parser.registerCsiHandler({intermediates:"'",final:"~"},e=>this.deleteColumns(e)),this._parser.registerCsiHandler({intermediates:'"',final:"q"},e=>this.selectProtected(e)),this._parser.registerCsiHandler({intermediates:"$",final:"p"},e=>this.requestMode(e,!0)),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},e=>this.requestMode(e,!1)),this._parser.setExecuteHandler(s.C0.BEL,()=>this.bell()),this._parser.setExecuteHandler(s.C0.LF,()=>this.lineFeed()),this._parser.setExecuteHandler(s.C0.VT,()=>this.lineFeed()),this._parser.setExecuteHandler(s.C0.FF,()=>this.lineFeed()),this._parser.setExecuteHandler(s.C0.CR,()=>this.carriageReturn()),this._parser.setExecuteHandler(s.C0.BS,()=>this.backspace()),this._parser.setExecuteHandler(s.C0.HT,()=>this.tab()),this._parser.setExecuteHandler(s.C0.SO,()=>this.shiftOut()),this._parser.setExecuteHandler(s.C0.SI,()=>this.shiftIn()),this._parser.setExecuteHandler(s.C1.IND,()=>this.index()),this._parser.setExecuteHandler(s.C1.NEL,()=>this.nextLine()),this._parser.setExecuteHandler(s.C1.HTS,()=>this.tabSet()),this._parser.registerOscHandler(0,new _.OscHandler(e=>(this.setTitle(e),this.setIconName(e),!0))),this._parser.registerOscHandler(1,new _.OscHandler(e=>this.setIconName(e))),this._parser.registerOscHandler(2,new _.OscHandler(e=>this.setTitle(e))),this._parser.registerOscHandler(4,new _.OscHandler(e=>this.setOrReportIndexedColor(e))),this._parser.registerOscHandler(8,new _.OscHandler(e=>this.setHyperlink(e))),this._parser.registerOscHandler(10,new _.OscHandler(e=>this.setOrReportFgColor(e))),this._parser.registerOscHandler(11,new _.OscHandler(e=>this.setOrReportBgColor(e))),this._parser.registerOscHandler(12,new _.OscHandler(e=>this.setOrReportCursorColor(e))),this._parser.registerOscHandler(104,new _.OscHandler(e=>this.restoreIndexedColor(e))),this._parser.registerOscHandler(110,new _.OscHandler(e=>this.restoreFgColor(e))),this._parser.registerOscHandler(111,new _.OscHandler(e=>this.restoreBgColor(e))),this._parser.registerOscHandler(112,new _.OscHandler(e=>this.restoreCursorColor(e))),this._parser.registerEscHandler({final:"7"},()=>this.saveCursor()),this._parser.registerEscHandler({final:"8"},()=>this.restoreCursor()),this._parser.registerEscHandler({final:"D"},()=>this.index()),this._parser.registerEscHandler({final:"E"},()=>this.nextLine()),this._parser.registerEscHandler({final:"H"},()=>this.tabSet()),this._parser.registerEscHandler({final:"M"},()=>this.reverseIndex()),this._parser.registerEscHandler({final:"="},()=>this.keypadApplicationMode()),this._parser.registerEscHandler({final:">"},()=>this.keypadNumericMode()),this._parser.registerEscHandler({final:"c"},()=>this.fullReset()),this._parser.registerEscHandler({final:"n"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"o"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"|"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"}"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"~"},()=>this.setgLevel(1)),this._parser.registerEscHandler({intermediates:"%",final:"@"},()=>this.selectDefaultCharset()),this._parser.registerEscHandler({intermediates:"%",final:"G"},()=>this.selectDefaultCharset());for(const s in o.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:s},()=>this.selectCharset("("+s)),this._parser.registerEscHandler({intermediates:")",final:s},()=>this.selectCharset(")"+s)),this._parser.registerEscHandler({intermediates:"*",final:s},()=>this.selectCharset("*"+s)),this._parser.registerEscHandler({intermediates:"+",final:s},()=>this.selectCharset("+"+s)),this._parser.registerEscHandler({intermediates:"-",final:s},()=>this.selectCharset("-"+s)),this._parser.registerEscHandler({intermediates:".",final:s},()=>this.selectCharset("."+s)),this._parser.registerEscHandler({intermediates:"/",final:s},()=>this.selectCharset("/"+s));this._parser.registerEscHandler({intermediates:"#",final:"8"},()=>this.screenAlignmentPattern()),this._parser.setErrorHandler(e=>(this._logService.error("Parsing error: ",e),e)),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new g.DcsHandler((e,t)=>this.requestStatusString(e,t)))}_preserveStack(e,t,r,i){this._parseStack.paused=!0,this._parseStack.cursorStartX=e,this._parseStack.cursorStartY=t,this._parseStack.decodedLength=r,this._parseStack.position=i}_logSlowResolvingAsync(e){this._logService.logLevel<=m.LogLevelEnum.WARN&&Promise.race([e,new Promise((e,t)=>setTimeout(()=>t("#SLOW_TIMEOUT"),5e3))]).catch(e=>{if("#SLOW_TIMEOUT"!==e)throw e;console.warn("async parser handler taking longer than 5000 ms")})}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(e,t){let r,i=this._activeBuffer.x,n=this._activeBuffer.y,s=0;const o=this._parseStack.paused;if(o){if(r=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,t))return this._logSlowResolvingAsync(r),r;i=this._parseStack.cursorStartX,n=this._parseStack.cursorStartY,this._parseStack.paused=!1,e.length>b&&(s=this._parseStack.position+b)}if(this._logService.logLevel<=m.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+' "'.concat("string"==typeof e?e:Array.prototype.map.call(e,e=>String.fromCharCode(e)).join(""),'"'),"string"==typeof e?e.split("").map(e=>e.charCodeAt(0)):e),this._parseBuffer.length<e.length&&this._parseBuffer.length<b&&(this._parseBuffer=new Uint32Array(Math.min(e.length,b))),o||this._dirtyRowTracker.clearRange(),e.length>b)for(let a=s;a<e.length;a+=b){const t=a+b<e.length?a+b:e.length,s="string"==typeof e?this._stringDecoder.decode(e.substring(a,t),this._parseBuffer):this._utf8Decoder.decode(e.subarray(a,t),this._parseBuffer);if(r=this._parser.parse(this._parseBuffer,s))return this._preserveStack(i,n,s,a),this._logSlowResolvingAsync(r),r}else if(!o){const t="string"==typeof e?this._stringDecoder.decode(e,this._parseBuffer):this._utf8Decoder.decode(e,this._parseBuffer);if(r=this._parser.parse(this._parseBuffer,t))return this._preserveStack(i,n,t,0),this._logSlowResolvingAsync(r),r}this._activeBuffer.x===i&&this._activeBuffer.y===n||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowTracker.start,this._dirtyRowTracker.end)}print(e,t,r){let i,n;const s=this._charsetService.charset,o=this._optionsService.rawOptions.screenReaderMode,a=this._bufferService.cols,l=this._coreService.decPrivateModes.wraparound,u=this._coreService.modes.insertMode,h=this._curAttrData;let f=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&r-t>0&&2===f.getWidth(this._activeBuffer.x-1)&&f.setCellFromCodePoint(this._activeBuffer.x-1,0,1,h.fg,h.bg,h.extended);for(let p=t;p<r;++p){if(i=e[p],n=this._unicodeService.wcwidth(i),i<127&&s){const e=s[String.fromCharCode(i)];e&&(i=e.charCodeAt(0))}if(o&&this._onA11yChar.fire((0,c.stringFromCodePoint)(i)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),n||!this._activeBuffer.x){if(this._activeBuffer.x+n-1>=a)if(l){for(;this._activeBuffer.x<a;)f.setCellFromCodePoint(this._activeBuffer.x++,0,1,h.fg,h.bg,h.extended);this._activeBuffer.x=0,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),f=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)}else if(this._activeBuffer.x=a-1,2===n)continue;if(u&&(f.insertCells(this._activeBuffer.x,n,this._activeBuffer.getNullCell(h),h),2===f.getWidth(a-1)&&f.setCellFromCodePoint(a-1,d.NULL_CELL_CODE,d.NULL_CELL_WIDTH,h.fg,h.bg,h.extended)),f.setCellFromCodePoint(this._activeBuffer.x++,i,n,h.fg,h.bg,h.extended),n>0)for(;--n;)f.setCellFromCodePoint(this._activeBuffer.x++,0,0,h.fg,h.bg,h.extended)}else f.getWidth(this._activeBuffer.x-1)?f.addCodepointToCell(this._activeBuffer.x-1,i):f.addCodepointToCell(this._activeBuffer.x-2,i)}r-t>0&&(f.loadCell(this._activeBuffer.x-1,this._workCell),2===this._workCell.getWidth()||this._workCell.getCode()>65535?this._parser.precedingCodepoint=0:this._workCell.isCombined()?this._parser.precedingCodepoint=this._workCell.getChars().charCodeAt(0):this._parser.precedingCodepoint=this._workCell.content),this._activeBuffer.x<a&&r-t>0&&0===f.getWidth(this._activeBuffer.x)&&!f.hasContent(this._activeBuffer.x)&&f.setCellFromCodePoint(this._activeBuffer.x,0,1,h.fg,h.bg,h.extended),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(e,t){return"t"!==e.final||e.prefix||e.intermediates?this._parser.registerCsiHandler(e,t):this._parser.registerCsiHandler(e,e=>!S(e.params[0],this._optionsService.rawOptions.windowOptions)||t(e))}registerDcsHandler(e,t){return this._parser.registerDcsHandler(e,new g.DcsHandler(t))}registerEscHandler(e,t){return this._parser.registerEscHandler(e,t)}registerOscHandler(e,t){return this._parser.registerOscHandler(e,new _.OscHandler(t))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){var e;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(0===this._activeBuffer.x&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&(null===(e=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))||void 0===e?void 0:e.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const e=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);e.hasWidth(this._activeBuffer.x)&&!e.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const e=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-e),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._bufferService.cols-1;this._activeBuffer.x=Math.min(e,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(e,t){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=e,this._activeBuffer.y=this._activeBuffer.scrollTop+t):(this._activeBuffer.x=e,this._activeBuffer.y=t),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(e,t){this._restrictCursor(),this._setCursor(this._activeBuffer.x+e,this._activeBuffer.y+t)}cursorUp(e){const t=this._activeBuffer.y-this._activeBuffer.scrollTop;return t>=0?this._moveCursor(0,-Math.min(t,e.params[0]||1)):this._moveCursor(0,-(e.params[0]||1)),!0}cursorDown(e){const t=this._activeBuffer.scrollBottom-this._activeBuffer.y;return t>=0?this._moveCursor(0,Math.min(t,e.params[0]||1)):this._moveCursor(0,e.params[0]||1),!0}cursorForward(e){return this._moveCursor(e.params[0]||1,0),!0}cursorBackward(e){return this._moveCursor(-(e.params[0]||1),0),!0}cursorNextLine(e){return this.cursorDown(e),this._activeBuffer.x=0,!0}cursorPrecedingLine(e){return this.cursorUp(e),this._activeBuffer.x=0,!0}cursorCharAbsolute(e){return this._setCursor((e.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(e){return this._setCursor(e.length>=2?(e.params[1]||1)-1:0,(e.params[0]||1)-1),!0}charPosAbsolute(e){return this._setCursor((e.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(e){return this._moveCursor(e.params[0]||1,0),!0}linePosAbsolute(e){return this._setCursor(this._activeBuffer.x,(e.params[0]||1)-1),!0}vPositionRelative(e){return this._moveCursor(0,e.params[0]||1),!0}hVPosition(e){return this.cursorPosition(e),!0}tabClear(e){const t=e.params[0];return 0===t?delete this._activeBuffer.tabs[this._activeBuffer.x]:3===t&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(e){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let t=e.params[0]||1;for(;t--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(e){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let t=e.params[0]||1;for(;t--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(e){const t=e.params[0];return 1===t&&(this._curAttrData.bg|=536870912),2!==t&&0!==t||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(e,t,r){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],n=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s=this._activeBuffer.lines.get(this._activeBuffer.ybase+e);s.replaceCells(t,r,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData(),n),i&&(s.isWrapped=!1)}_resetBufferLine(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=this._activeBuffer.lines.get(this._activeBuffer.ybase+e);r&&(r.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),t),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+e),r.isWrapped=!1)}eraseInDisplay(e){let t,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];switch(this._restrictCursor(this._bufferService.cols),e.params[0]){case 0:for(t=this._activeBuffer.y,this._dirtyRowTracker.markDirty(t),this._eraseInBufferLine(t++,this._activeBuffer.x,this._bufferService.cols,0===this._activeBuffer.x,r);t<this._bufferService.rows;t++)this._resetBufferLine(t,r);this._dirtyRowTracker.markDirty(t);break;case 1:for(t=this._activeBuffer.y,this._dirtyRowTracker.markDirty(t),this._eraseInBufferLine(t,0,this._activeBuffer.x+1,!0,r),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(t+1).isWrapped=!1);t--;)this._resetBufferLine(t,r);this._dirtyRowTracker.markDirty(0);break;case 2:for(t=this._bufferService.rows,this._dirtyRowTracker.markDirty(t-1);t--;)this._resetBufferLine(t,r);this._dirtyRowTracker.markDirty(0);break;case 3:const e=this._activeBuffer.lines.length-this._bufferService.rows;e>0&&(this._activeBuffer.lines.trimStart(e),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-e,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-e,0),this._onScroll.fire(0))}return!0}eraseInLine(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];switch(this._restrictCursor(this._bufferService.cols),e.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,0===this._activeBuffer.x,t);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,t);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,t)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(e){this._restrictCursor();let t=e.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const r=this._activeBuffer.ybase+this._activeBuffer.y,i=this._bufferService.rows-1-this._activeBuffer.scrollBottom,n=this._bufferService.rows-1+this._activeBuffer.ybase-i+1;for(;t--;)this._activeBuffer.lines.splice(n-1,1),this._activeBuffer.lines.splice(r,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(e){this._restrictCursor();let t=e.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const r=this._activeBuffer.ybase+this._activeBuffer.y;let i;for(i=this._bufferService.rows-1-this._activeBuffer.scrollBottom,i=this._bufferService.rows-1+this._activeBuffer.ybase-i;t--;)this._activeBuffer.lines.splice(r,1),this._activeBuffer.lines.splice(i,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(e){this._restrictCursor();const t=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return t&&(t.insertCells(this._activeBuffer.x,e.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(e){this._restrictCursor();const t=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return t&&(t.deleteCells(this._activeBuffer.x,e.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(e){let t=e.params[0]||1;for(;t--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(e){let t=e.params[0]||1;for(;t--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(u.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(e){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const t=e.params[0]||1;for(let r=this._activeBuffer.scrollTop;r<=this._activeBuffer.scrollBottom;++r){const e=this._activeBuffer.lines.get(this._activeBuffer.ybase+r);e.deleteCells(0,t,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),e.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(e){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const t=e.params[0]||1;for(let r=this._activeBuffer.scrollTop;r<=this._activeBuffer.scrollBottom;++r){const e=this._activeBuffer.lines.get(this._activeBuffer.ybase+r);e.insertCells(0,t,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),e.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(e){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const t=e.params[0]||1;for(let r=this._activeBuffer.scrollTop;r<=this._activeBuffer.scrollBottom;++r){const e=this._activeBuffer.lines.get(this._activeBuffer.ybase+r);e.insertCells(this._activeBuffer.x,t,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),e.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(e){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const t=e.params[0]||1;for(let r=this._activeBuffer.scrollTop;r<=this._activeBuffer.scrollBottom;++r){const e=this._activeBuffer.lines.get(this._activeBuffer.ybase+r);e.deleteCells(this._activeBuffer.x,t,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),e.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(e){this._restrictCursor();const t=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return t&&(t.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(e.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(e){if(!this._parser.precedingCodepoint)return!0;const t=e.params[0]||1,r=new Uint32Array(t);for(let i=0;i<t;++i)r[i]=this._parser.precedingCodepoint;return this.print(r,0,r.length),!0}sendDeviceAttributesPrimary(e){return e.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(s.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(s.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(e){return e.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(s.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(s.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(e.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(s.C0.ESC+"[>83;40003;0c")),!0}_is(e){return 0===(this._optionsService.rawOptions.termName+"").indexOf(e)}setMode(e){for(let t=0;t<e.length;t++)switch(e.params[t]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(e){for(let t=0;t<e.length;t++)switch(e.params[t]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,o.DEFAULT_CHARSET),this._charsetService.setgCharset(1,o.DEFAULT_CHARSET),this._charsetService.setgCharset(2,o.DEFAULT_CHARSET),this._charsetService.setgCharset(3,o.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(e){for(let t=0;t<e.length;t++)switch(e.params[t]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(e){for(let t=0;t<e.length;t++)switch(e.params[t]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),1049===e.params[t]&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(e,t){const r=this._coreService.decPrivateModes,{activeProtocol:i,activeEncoding:n}=this._coreMouseService,o=this._coreService,{buffers:a,cols:l}=this._bufferService,{active:c,alt:u}=a,h=this._optionsService.rawOptions,d=e=>e?1:2,f=e.params[0];return p=f,m=t?2===f?4:4===f?d(o.modes.insertMode):12===f?3:20===f?d(h.convertEol):0:1===f?d(r.applicationCursorKeys):3===f?h.windowOptions.setWinLines?80===l?2:132===l?1:0:0:6===f?d(r.origin):7===f?d(r.wraparound):8===f?3:9===f?d("X10"===i):12===f?d(h.cursorBlink):25===f?d(!o.isCursorHidden):45===f?d(r.reverseWraparound):66===f?d(r.applicationKeypad):67===f?4:1e3===f?d("VT200"===i):1002===f?d("DRAG"===i):1003===f?d("ANY"===i):1004===f?d(r.sendFocus):1005===f?4:1006===f?d("SGR"===n):1015===f?4:1016===f?d("SGR_PIXELS"===n):1048===f?1:47===f||1047===f||1049===f?d(c===u):2004===f?d(r.bracketedPasteMode):0,o.triggerDataEvent("".concat(s.C0.ESC,"[").concat(t?"":"?").concat(p,";").concat(m,"$y")),!0;var p,m}_updateAttrColor(e,t,r,i,n){return 2===t?(e|=50331648,e&=-16777216,e|=p.AttributeData.fromColorRGB([r,i,n])):5===t&&(e&=-50331904,e|=33554432|255&r),e}_extractColor(e,t,r){const i=[0,0,-1,0,0,0];let n=0,s=0;do{if(i[s+n]=e.params[t+s],e.hasSubParams(t+s)){const r=e.getSubParams(t+s);let o=0;do{5===i[1]&&(n=1),i[s+o+1+n]=r[o]}while(++o<r.length&&o+s+1+n<i.length);break}if(5===i[1]&&s+n>=2||2===i[1]&&s+n>=5)break;i[1]&&(n=1)}while(++s+t<e.length&&s+n<i.length);for(let o=2;o<i.length;++o)-1===i[o]&&(i[o]=0);switch(i[0]){case 38:r.fg=this._updateAttrColor(r.fg,i[1],i[3],i[4],i[5]);break;case 48:r.bg=this._updateAttrColor(r.bg,i[1],i[3],i[4],i[5]);break;case 58:r.extended=r.extended.clone(),r.extended.underlineColor=this._updateAttrColor(r.extended.underlineColor,i[1],i[3],i[4],i[5])}return s}_processUnderline(e,t){t.extended=t.extended.clone(),(!~e||e>5)&&(e=1),t.extended.underlineStyle=e,t.fg|=268435456,0===e&&(t.fg&=-268435457),t.updateExtended()}_processSGR0(e){e.fg=u.DEFAULT_ATTR_DATA.fg,e.bg=u.DEFAULT_ATTR_DATA.bg,e.extended=e.extended.clone(),e.extended.underlineStyle=0,e.extended.underlineColor&=-67108864,e.updateExtended()}charAttributes(e){if(1===e.length&&0===e.params[0])return this._processSGR0(this._curAttrData),!0;const t=e.length;let r;const i=this._curAttrData;for(let n=0;n<t;n++)r=e.params[n],r>=30&&r<=37?(i.fg&=-50331904,i.fg|=16777216|r-30):r>=40&&r<=47?(i.bg&=-50331904,i.bg|=16777216|r-40):r>=90&&r<=97?(i.fg&=-50331904,i.fg|=16777224|r-90):r>=100&&r<=107?(i.bg&=-50331904,i.bg|=16777224|r-100):0===r?this._processSGR0(i):1===r?i.fg|=134217728:3===r?i.bg|=67108864:4===r?(i.fg|=268435456,this._processUnderline(e.hasSubParams(n)?e.getSubParams(n)[0]:1,i)):5===r?i.fg|=536870912:7===r?i.fg|=67108864:8===r?i.fg|=1073741824:9===r?i.fg|=2147483648:2===r?i.bg|=134217728:21===r?this._processUnderline(2,i):22===r?(i.fg&=-134217729,i.bg&=-134217729):23===r?i.bg&=-67108865:24===r?(i.fg&=-268435457,this._processUnderline(0,i)):25===r?i.fg&=-536870913:27===r?i.fg&=-67108865:28===r?i.fg&=-1073741825:29===r?i.fg&=2147483647:39===r?(i.fg&=-67108864,i.fg|=16777215&u.DEFAULT_ATTR_DATA.fg):49===r?(i.bg&=-67108864,i.bg|=16777215&u.DEFAULT_ATTR_DATA.bg):38===r||48===r||58===r?n+=this._extractColor(e,n,i):53===r?i.bg|=1073741824:55===r?i.bg&=-1073741825:59===r?(i.extended=i.extended.clone(),i.extended.underlineColor=-1,i.updateExtended()):100===r?(i.fg&=-67108864,i.fg|=16777215&u.DEFAULT_ATTR_DATA.fg,i.bg&=-67108864,i.bg|=16777215&u.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",r);return!0}deviceStatus(e){switch(e.params[0]){case 5:this._coreService.triggerDataEvent("".concat(s.C0.ESC,"[0n"));break;case 6:const e=this._activeBuffer.y+1,t=this._activeBuffer.x+1;this._coreService.triggerDataEvent("".concat(s.C0.ESC,"[").concat(e,";").concat(t,"R"))}return!0}deviceStatusPrivate(e){if(6===e.params[0]){const e=this._activeBuffer.y+1,t=this._activeBuffer.x+1;this._coreService.triggerDataEvent("".concat(s.C0.ESC,"[?").concat(e,";").concat(t,"R"))}return!0}softReset(e){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=u.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(e){const t=e.params[0]||1;switch(t){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}const r=t%2==1;return this._optionsService.options.cursorBlink=r,!0}setScrollRegion(e){const t=e.params[0]||1;let r;return(e.length<2||(r=e.params[1])>this._bufferService.rows||0===r)&&(r=this._bufferService.rows),r>t&&(this._activeBuffer.scrollTop=t-1,this._activeBuffer.scrollBottom=r-1,this._setCursor(0,0)),!0}windowOptions(e){if(!S(e.params[0],this._optionsService.rawOptions.windowOptions))return!0;const t=e.length>1?e.params[1]:0;switch(e.params[0]){case 14:2!==t&&this._onRequestWindowsOptionsReport.fire(w.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(w.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent("".concat(s.C0.ESC,"[8;").concat(this._bufferService.rows,";").concat(this._bufferService.cols,"t"));break;case 22:0!==t&&2!==t||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),0!==t&&1!==t||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:0!==t&&2!==t||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),0!==t&&1!==t||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(e){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(e){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(e){return this._windowTitle=e,this._onTitleChange.fire(e),!0}setIconName(e){return this._iconName=e,!0}setOrReportIndexedColor(e){const t=[],r=e.split(";");for(;r.length>1;){const e=r.shift(),i=r.shift();if(/^\d+$/.exec(e)){const r=parseInt(e);if(E(r))if("?"===i)t.push({type:0,index:r});else{const e=(0,v.parseColor)(i);e&&t.push({type:1,index:r,color:e})}}}return t.length&&this._onColor.fire(t),!0}setHyperlink(e){const t=e.split(";");return!(t.length<2)&&(t[1]?this._createHyperlink(t[0],t[1]):!t[0]&&this._finishHyperlink())}_createHyperlink(e,t){this._getCurrentLinkId()&&this._finishHyperlink();const r=e.split(":");let i;const n=r.findIndex(e=>e.startsWith("id="));return-1!==n&&(i=r[n].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:i,uri:t}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(e,t){const r=e.split(";");for(let i=0;i<r.length&&!(t>=this._specialColors.length);++i,++t)if("?"===r[i])this._onColor.fire([{type:0,index:this._specialColors[t]}]);else{const e=(0,v.parseColor)(r[i]);e&&this._onColor.fire([{type:1,index:this._specialColors[t],color:e}])}return!0}setOrReportFgColor(e){return this._setOrReportSpecialColor(e,0)}setOrReportBgColor(e){return this._setOrReportSpecialColor(e,1)}setOrReportCursorColor(e){return this._setOrReportSpecialColor(e,2)}restoreIndexedColor(e){if(!e)return this._onColor.fire([{type:2}]),!0;const t=[],r=e.split(";");for(let i=0;i<r.length;++i)if(/^\d+$/.exec(r[i])){const e=parseInt(r[i]);E(e)&&t.push({type:2,index:e})}return t.length&&this._onColor.fire(t),!0}restoreFgColor(e){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(e){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(e){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,o.DEFAULT_CHARSET),!0}selectCharset(e){return 2!==e.length?(this.selectDefaultCharset(),!0):("/"===e[0]||this._charsetService.setgCharset(y[e[0]],o.CHARSETS[e[1]]||o.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){const e=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,e,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=u.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=u.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(e){return this._charsetService.setgLevel(e),!0}screenAlignmentPattern(){const e=new f.CellData;e.content=1<<22|"E".charCodeAt(0),e.fg=this._curAttrData.fg,e.bg=this._curAttrData.bg,this._setCursor(0,0);for(let t=0;t<this._bufferService.rows;++t){const r=this._activeBuffer.ybase+this._activeBuffer.y+t,i=this._activeBuffer.lines.get(r);i&&(i.fill(e),i.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(e,t){const r=this._bufferService.buffer,i=this._optionsService.rawOptions;return(e=>(this._coreService.triggerDataEvent("".concat(s.C0.ESC).concat(e).concat(s.C0.ESC,"\\")),!0))('"q'===e?"P1$r".concat(this._curAttrData.isProtected()?1:0,'"q'):'"p'===e?'P1$r61;1"p':"r"===e?"P1$r".concat(r.scrollTop+1,";").concat(r.scrollBottom+1,"r"):"m"===e?"P1$r0m":" q"===e?"P1$r".concat({block:2,underline:4,bar:6}[i.cursorStyle]-(i.cursorBlink?1:0)," q"):"P0$r")}markRangeDirty(e,t){this._dirtyRowTracker.markRangeDirty(e,t)}}t.InputHandler=k;let x=class{constructor(e){this._bufferService=e,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(e){e<this.start?this.start=e:e>this.end&&(this.end=e)}markRangeDirty(e,t){e>t&&(C=e,e=t,t=C),e<this.start&&(this.start=e),t>this.end&&(this.end=t)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};function E(e){return 0<=e&&e<256}x=i([n(0,m.IBufferService)],x)},844:(e,t)=>{function r(e){for(const t of e)t.dispose();e.length=0}Object.defineProperty(t,"__esModule",{value:!0}),t.getDisposeArrayDisposable=t.disposeArray=t.toDisposable=t.MutableDisposable=t.Disposable=void 0,t.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const e of this._disposables)e.dispose();this._disposables.length=0}register(e){return this._disposables.push(e),e}unregister(e){const t=this._disposables.indexOf(e);-1!==t&&this._disposables.splice(t,1)}},t.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(e){var t;this._isDisposed||e===this._value||(null===(t=this._value)||void 0===t||t.dispose(),this._value=e)}clear(){this.value=void 0}dispose(){var e;this._isDisposed=!0,null===(e=this._value)||void 0===e||e.dispose(),this._value=void 0}},t.toDisposable=function(e){return{dispose:e}},t.disposeArray=r,t.getDisposeArrayDisposable=function(e){return{dispose:()=>r(e)}}},1505:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FourKeyMap=t.TwoKeyMap=void 0;class r{constructor(){this._data={}}set(e,t,r){this._data[e]||(this._data[e]={}),this._data[e][t]=r}get(e,t){return this._data[e]?this._data[e][t]:void 0}clear(){this._data={}}}t.TwoKeyMap=r,t.FourKeyMap=class{constructor(){this._data=new r}set(e,t,i,n,s){this._data.get(e,t)||this._data.set(e,t,new r),this._data.get(e,t).set(i,n,s)}get(e,t,r,i){var n;return null===(n=this._data.get(e,t))||void 0===n?void 0:n.get(r,i)}clear(){this._data.clear()}}},6114:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isChromeOS=t.isLinux=t.isWindows=t.isIphone=t.isIpad=t.isMac=t.getSafariVersion=t.isSafari=t.isLegacyEdge=t.isFirefox=t.isNode=void 0,t.isNode="undefined"==typeof navigator;const r=t.isNode?"node":navigator.userAgent,i=t.isNode?"node":navigator.platform;t.isFirefox=r.includes("Firefox"),t.isLegacyEdge=r.includes("Edge"),t.isSafari=/^((?!chrome|android).)*safari/i.test(r),t.getSafariVersion=function(){if(!t.isSafari)return 0;const e=r.match(/Version\/(\d+)/);return null===e||e.length<2?0:parseInt(e[1])},t.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(i),t.isIpad="iPad"===i,t.isIphone="iPhone"===i,t.isWindows=["Windows","Win16","Win32","WinCE"].includes(i),t.isLinux=i.indexOf("Linux")>=0,t.isChromeOS=/\bCrOS\b/.test(r)},6106:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SortedList=void 0;let r=0;t.SortedList=class{constructor(e){this._getKey=e,this._array=[]}clear(){this._array.length=0}insert(e){0!==this._array.length?(r=this._search(this._getKey(e)),this._array.splice(r,0,e)):this._array.push(e)}delete(e){if(0===this._array.length)return!1;const t=this._getKey(e);if(void 0===t)return!1;if(r=this._search(t),-1===r)return!1;if(this._getKey(this._array[r])!==t)return!1;do{if(this._array[r]===e)return this._array.splice(r,1),!0}while(++r<this._array.length&&this._getKey(this._array[r])===t);return!1}*getKeyIterator(e){if(0!==this._array.length&&(r=this._search(e),!(r<0||r>=this._array.length)&&this._getKey(this._array[r])===e))do{yield this._array[r]}while(++r<this._array.length&&this._getKey(this._array[r])===e)}forEachByKey(e,t){if(0!==this._array.length&&(r=this._search(e),!(r<0||r>=this._array.length)&&this._getKey(this._array[r])===e))do{t(this._array[r])}while(++r<this._array.length&&this._getKey(this._array[r])===e)}values(){return[...this._array].values()}_search(e){let t=0,r=this._array.length-1;for(;r>=t;){let i=t+r>>1;const n=this._getKey(this._array[i]);if(n>e)r=i-1;else{if(!(n<e)){for(;i>0&&this._getKey(this._array[i-1])===e;)i--;return i}t=i+1}}return t}}},7226:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DebouncedIdleTask=t.IdleTaskQueue=t.PriorityTaskQueue=void 0;const i=r(6114);class n{constructor(){this._tasks=[],this._i=0}enqueue(e){this._tasks.push(e),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(e){this._idleCallback=void 0;let t=0,r=0,i=e.timeRemaining(),n=0;for(;this._i<this._tasks.length;){if(t=Date.now(),this._tasks[this._i]()||this._i++,t=Math.max(1,Date.now()-t),r=Math.max(t,r),n=e.timeRemaining(),1.5*r>n)return i-t<-20&&console.warn("task queue exceeded allotted deadline by ".concat(Math.abs(Math.round(i-t)),"ms")),void this._start();i=n}this.clear()}}class s extends n{_requestCallback(e){return setTimeout(()=>e(this._createDeadline(16)))}_cancelCallback(e){clearTimeout(e)}_createDeadline(e){const t=Date.now()+e;return{timeRemaining:()=>Math.max(0,t-Date.now())}}}t.PriorityTaskQueue=s,t.IdleTaskQueue=!i.isNode&&"requestIdleCallback"in window?class extends n{_requestCallback(e){return requestIdleCallback(e)}_cancelCallback(e){cancelIdleCallback(e)}}:s,t.DebouncedIdleTask=class{constructor(){this._queue=new t.IdleTaskQueue}set(e){this._queue.clear(),this._queue.enqueue(e)}flush(){this._queue.flush()}}},9282:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.updateWindowsModeWrappedState=void 0;const i=r(643);t.updateWindowsModeWrappedState=function(e){const t=e.buffer.lines.get(e.buffer.ybase+e.buffer.y-1),r=null==t?void 0:t.get(e.cols-1),n=e.buffer.lines.get(e.buffer.ybase+e.buffer.y);n&&r&&(n.isWrapped=r[i.CHAR_DATA_CODE_INDEX]!==i.NULL_CELL_CODE&&r[i.CHAR_DATA_CODE_INDEX]!==i.WHITESPACE_CELL_CODE)}},3734:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ExtendedAttrs=t.AttributeData=void 0;class r{constructor(){this.fg=0,this.bg=0,this.extended=new i}static toColorRGB(e){return[e>>>16&255,e>>>8&255,255&e]}static fromColorRGB(e){return(255&e[0])<<16|(255&e[1])<<8|255&e[2]}clone(){const e=new r;return e.fg=this.fg,e.bg=this.bg,e.extended=this.extended.clone(),e}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&0!==this.extended.underlineStyle?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return 50331648==(50331648&this.fg)}isBgRGB(){return 50331648==(50331648&this.bg)}isFgPalette(){return 16777216==(50331648&this.fg)||33554432==(50331648&this.fg)}isBgPalette(){return 16777216==(50331648&this.bg)||33554432==(50331648&this.bg)}isFgDefault(){return 0==(50331648&this.fg)}isBgDefault(){return 0==(50331648&this.bg)}isAttributeDefault(){return 0===this.fg&&0===this.bg}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?50331648==(50331648&this.extended.underlineColor):this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?16777216==(50331648&this.extended.underlineColor)||33554432==(50331648&this.extended.underlineColor):this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?0==(50331648&this.extended.underlineColor):this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}}t.AttributeData=r;class i{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(e){this._ext=e}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(e){this._ext&=-469762049,this._ext|=e<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(e){this._ext&=-67108864,this._ext|=67108863&e}get urlId(){return this._urlId}set urlId(e){this._urlId=e}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._ext=0,this._urlId=0,this._ext=e,this._urlId=t}clone(){return new i(this._ext,this._urlId)}isEmpty(){return 0===this.underlineStyle&&0===this._urlId}}t.ExtendedAttrs=i},9092:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Buffer=t.MAX_BUFFER_SIZE=void 0;const i=r(6349),n=r(7226),s=r(3734),o=r(8437),a=r(4634),l=r(511),c=r(643),u=r(4863),h=r(7116);t.MAX_BUFFER_SIZE=4294967295,t.Buffer=class{constructor(e,t,r){this._hasScrollback=e,this._optionsService=t,this._bufferService=r,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=o.DEFAULT_ATTR_DATA.clone(),this.savedCharset=h.DEFAULT_CHARSET,this.markers=[],this._nullCell=l.CellData.fromCharData([0,c.NULL_CELL_CHAR,c.NULL_CELL_WIDTH,c.NULL_CELL_CODE]),this._whitespaceCell=l.CellData.fromCharData([0,c.WHITESPACE_CELL_CHAR,c.WHITESPACE_CELL_WIDTH,c.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new n.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new i.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(e){return e?(this._nullCell.fg=e.fg,this._nullCell.bg=e.bg,this._nullCell.extended=e.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new s.ExtendedAttrs),this._nullCell}getWhitespaceCell(e){return e?(this._whitespaceCell.fg=e.fg,this._whitespaceCell.bg=e.bg,this._whitespaceCell.extended=e.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new s.ExtendedAttrs),this._whitespaceCell}getBlankLine(e,t){return new o.BufferLine(this._bufferService.cols,this.getNullCell(e),t)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const e=this.ybase+this.y-this.ydisp;return e>=0&&e<this._rows}_getCorrectBufferLength(e){if(!this._hasScrollback)return e;const r=e+this._optionsService.rawOptions.scrollback;return r>t.MAX_BUFFER_SIZE?t.MAX_BUFFER_SIZE:r}fillViewportRows(e){if(0===this.lines.length){void 0===e&&(e=o.DEFAULT_ATTR_DATA);let t=this._rows;for(;t--;)this.lines.push(this.getBlankLine(e))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new i.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(e,t){const r=this.getNullCell(o.DEFAULT_ATTR_DATA);let i=0;const n=this._getCorrectBufferLength(t);if(n>this.lines.maxLength&&(this.lines.maxLength=n),this.lines.length>0){if(this._cols<e)for(let t=0;t<this.lines.length;t++)i+=+this.lines.get(t).resize(e,r);let s=0;if(this._rows<t)for(let i=this._rows;i<t;i++)this.lines.length<t+this.ybase&&(this._optionsService.rawOptions.windowsMode||void 0!==this._optionsService.rawOptions.windowsPty.backend||void 0!==this._optionsService.rawOptions.windowsPty.buildNumber?this.lines.push(new o.BufferLine(e,r)):this.ybase>0&&this.lines.length<=this.ybase+this.y+s+1?(this.ybase--,s++,this.ydisp>0&&this.ydisp--):this.lines.push(new o.BufferLine(e,r)));else for(let e=this._rows;e>t;e--)this.lines.length>t+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(n<this.lines.maxLength){const e=this.lines.length-n;e>0&&(this.lines.trimStart(e),this.ybase=Math.max(this.ybase-e,0),this.ydisp=Math.max(this.ydisp-e,0),this.savedY=Math.max(this.savedY-e,0)),this.lines.maxLength=n}this.x=Math.min(this.x,e-1),this.y=Math.min(this.y,t-1),s&&(this.y+=s),this.savedX=Math.min(this.savedX,e-1),this.scrollTop=0}if(this.scrollBottom=t-1,this._isReflowEnabled&&(this._reflow(e,t),this._cols>e))for(let s=0;s<this.lines.length;s++)i+=+this.lines.get(s).resize(e,r);this._cols=e,this._rows=t,this._memoryCleanupQueue.clear(),i>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue(()=>this._batchedMemoryCleanup()))}_batchedMemoryCleanup(){let e=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,e=!1);let t=0;for(;this._memoryCleanupPosition<this.lines.length;)if(t+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),t>100)return!0;return e}get _isReflowEnabled(){const e=this._optionsService.rawOptions.windowsPty;return e&&e.buildNumber?this._hasScrollback&&"conpty"===e.backend&&e.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(e,t){this._cols!==e&&(e>this._cols?this._reflowLarger(e,t):this._reflowSmaller(e,t))}_reflowLarger(e,t){const r=(0,a.reflowLargerGetLinesToRemove)(this.lines,this._cols,e,this.ybase+this.y,this.getNullCell(o.DEFAULT_ATTR_DATA));if(r.length>0){const i=(0,a.reflowLargerCreateNewLayout)(this.lines,r);(0,a.reflowLargerApplyNewLayout)(this.lines,i.layout),this._reflowLargerAdjustViewport(e,t,i.countRemoved)}}_reflowLargerAdjustViewport(e,t,r){const i=this.getNullCell(o.DEFAULT_ATTR_DATA);let n=r;for(;n-- >0;)0===this.ybase?(this.y>0&&this.y--,this.lines.length<t&&this.lines.push(new o.BufferLine(e,i))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-r,0)}_reflowSmaller(e,t){const r=this.getNullCell(o.DEFAULT_ATTR_DATA),i=[];let n=0;for(let s=this.lines.length-1;s>=0;s--){let l=this.lines.get(s);if(!l||!l.isWrapped&&l.getTrimmedLength()<=e)continue;const c=[l];for(;l.isWrapped&&s>0;)l=this.lines.get(--s),c.unshift(l);const u=this.ybase+this.y;if(u>=s&&u<s+c.length)continue;const h=c[c.length-1].getTrimmedLength(),d=(0,a.reflowSmallerGetNewLineLengths)(c,this._cols,e),f=d.length-c.length;let p;p=0===this.ybase&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+f):Math.max(0,this.lines.length-this.lines.maxLength+f);const m=[];for(let e=0;e<f;e++){const e=this.getBlankLine(o.DEFAULT_ATTR_DATA,!0);m.push(e)}m.length>0&&(i.push({start:s+c.length+n,newLines:m}),n+=m.length),c.push(...m);let _=d.length-1,g=d[_];0===g&&(_--,g=d[_]);let v=c.length-f-1,y=h;for(;v>=0;){const e=Math.min(y,g);if(void 0===c[_])break;if(c[_].copyCellsFrom(c[v],y-e,g-e,e,!0),g-=e,0===g&&(_--,g=d[_]),y-=e,0===y){v--;const e=Math.max(v,0);y=(0,a.getWrappedLineTrimmedLength)(c,e,this._cols)}}for(let t=0;t<c.length;t++)d[t]<e&&c[t].setCell(d[t],r);let b=f-p;for(;b-- >0;)0===this.ybase?this.y<t-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+n)-t&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+f,this.ybase+t-1)}if(i.length>0){const e=[],t=[];for(let i=0;i<this.lines.length;i++)t.push(this.lines.get(i));const r=this.lines.length;let s=r-1,o=0,a=i[o];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+n);let l=0;for(let h=Math.min(this.lines.maxLength-1,r+n-1);h>=0;h--)if(a&&a.start>s+l){for(let e=a.newLines.length-1;e>=0;e--)this.lines.set(h--,a.newLines[e]);h++,e.push({index:s+1,amount:a.newLines.length}),l+=a.newLines.length,a=i[++o]}else this.lines.set(h,t[s--]);let c=0;for(let i=e.length-1;i>=0;i--)e[i].index+=c,this.lines.onInsertEmitter.fire(e[i]),c+=e[i].amount;const u=Math.max(0,r+n-this.lines.maxLength);u>0&&this.lines.onTrimEmitter.fire(u)}}translateBufferLineToString(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3?arguments[3]:void 0;const n=this.lines.get(e);return n?n.translateToString(t,r,i):""}getWrappedRangeForLine(e){let t=e,r=e;for(;t>0&&this.lines.get(t).isWrapped;)t--;for(;r+1<this.lines.length&&this.lines.get(r+1).isWrapped;)r++;return{first:t,last:r}}setupTabStops(e){for(null!=e?this.tabs[e]||(e=this.prevStop(e)):(this.tabs={},e=0);e<this._cols;e+=this._optionsService.rawOptions.tabStopWidth)this.tabs[e]=!0}prevStop(e){for(null==e&&(e=this.x);!this.tabs[--e]&&e>0;);return e>=this._cols?this._cols-1:e<0?0:e}nextStop(e){for(null==e&&(e=this.x);!this.tabs[++e]&&e<this._cols;);return e>=this._cols?this._cols-1:e<0?0:e}clearMarkers(e){this._isClearing=!0;for(let t=0;t<this.markers.length;t++)this.markers[t].line===e&&(this.markers[t].dispose(),this.markers.splice(t--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let e=0;e<this.markers.length;e++)this.markers[e].dispose(),this.markers.splice(e--,1);this._isClearing=!1}addMarker(e){const t=new u.Marker(e);return this.markers.push(t),t.register(this.lines.onTrim(e=>{t.line-=e,t.line<0&&t.dispose()})),t.register(this.lines.onInsert(e=>{t.line>=e.index&&(t.line+=e.amount)})),t.register(this.lines.onDelete(e=>{t.line>=e.index&&t.line<e.index+e.amount&&t.dispose(),t.line>e.index&&(t.line-=e.amount)})),t.register(t.onDispose(()=>this._removeMarker(t))),t}_removeMarker(e){this._isClearing||this.markers.splice(this.markers.indexOf(e),1)}}},8437:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BufferLine=t.DEFAULT_ATTR_DATA=void 0;const i=r(3734),n=r(511),s=r(643),o=r(482);t.DEFAULT_ATTR_DATA=Object.freeze(new i.AttributeData);let a=0;class l{constructor(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.isWrapped=r,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*e);const i=t||n.CellData.fromCharData([0,s.NULL_CELL_CHAR,s.NULL_CELL_WIDTH,s.NULL_CELL_CODE]);for(let n=0;n<e;++n)this.setCell(n,i);this.length=e}get(e){const t=this._data[3*e+0],r=2097151&t;return[this._data[3*e+1],2097152&t?this._combined[e]:r?(0,o.stringFromCodePoint)(r):"",t>>22,2097152&t?this._combined[e].charCodeAt(this._combined[e].length-1):r]}set(e,t){this._data[3*e+1]=t[s.CHAR_DATA_ATTR_INDEX],t[s.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[e]=t[1],this._data[3*e+0]=2097152|e|t[s.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*e+0]=t[s.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|t[s.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(e){return this._data[3*e+0]>>22}hasWidth(e){return 12582912&this._data[3*e+0]}getFg(e){return this._data[3*e+1]}getBg(e){return this._data[3*e+2]}hasContent(e){return 4194303&this._data[3*e+0]}getCodePoint(e){const t=this._data[3*e+0];return 2097152&t?this._combined[e].charCodeAt(this._combined[e].length-1):2097151&t}isCombined(e){return 2097152&this._data[3*e+0]}getString(e){const t=this._data[3*e+0];return 2097152&t?this._combined[e]:2097151&t?(0,o.stringFromCodePoint)(2097151&t):""}isProtected(e){return 536870912&this._data[3*e+2]}loadCell(e,t){return a=3*e,t.content=this._data[a+0],t.fg=this._data[a+1],t.bg=this._data[a+2],2097152&t.content&&(t.combinedData=this._combined[e]),268435456&t.bg&&(t.extended=this._extendedAttrs[e]),t}setCell(e,t){2097152&t.content&&(this._combined[e]=t.combinedData),268435456&t.bg&&(this._extendedAttrs[e]=t.extended),this._data[3*e+0]=t.content,this._data[3*e+1]=t.fg,this._data[3*e+2]=t.bg}setCellFromCodePoint(e,t,r,i,n,s){268435456&n&&(this._extendedAttrs[e]=s),this._data[3*e+0]=t|r<<22,this._data[3*e+1]=i,this._data[3*e+2]=n}addCodepointToCell(e,t){let r=this._data[3*e+0];2097152&r?this._combined[e]+=(0,o.stringFromCodePoint)(t):(2097151&r?(this._combined[e]=(0,o.stringFromCodePoint)(2097151&r)+(0,o.stringFromCodePoint)(t),r&=-2097152,r|=2097152):r=t|1<<22,this._data[3*e+0]=r)}insertCells(e,t,r,s){if((e%=this.length)&&2===this.getWidth(e-1)&&this.setCellFromCodePoint(e-1,0,1,(null==s?void 0:s.fg)||0,(null==s?void 0:s.bg)||0,(null==s?void 0:s.extended)||new i.ExtendedAttrs),t<this.length-e){const i=new n.CellData;for(let r=this.length-e-t-1;r>=0;--r)this.setCell(e+t+r,this.loadCell(e+r,i));for(let n=0;n<t;++n)this.setCell(e+n,r)}else for(let i=e;i<this.length;++i)this.setCell(i,r);2===this.getWidth(this.length-1)&&this.setCellFromCodePoint(this.length-1,0,1,(null==s?void 0:s.fg)||0,(null==s?void 0:s.bg)||0,(null==s?void 0:s.extended)||new i.ExtendedAttrs)}deleteCells(e,t,r,s){if(e%=this.length,t<this.length-e){const i=new n.CellData;for(let r=0;r<this.length-e-t;++r)this.setCell(e+r,this.loadCell(e+t+r,i));for(let e=this.length-t;e<this.length;++e)this.setCell(e,r)}else for(let i=e;i<this.length;++i)this.setCell(i,r);e&&2===this.getWidth(e-1)&&this.setCellFromCodePoint(e-1,0,1,(null==s?void 0:s.fg)||0,(null==s?void 0:s.bg)||0,(null==s?void 0:s.extended)||new i.ExtendedAttrs),0!==this.getWidth(e)||this.hasContent(e)||this.setCellFromCodePoint(e,0,1,(null==s?void 0:s.fg)||0,(null==s?void 0:s.bg)||0,(null==s?void 0:s.extended)||new i.ExtendedAttrs)}replaceCells(e,t,r,n){if(arguments.length>4&&void 0!==arguments[4]&&arguments[4])for(e&&2===this.getWidth(e-1)&&!this.isProtected(e-1)&&this.setCellFromCodePoint(e-1,0,1,(null==n?void 0:n.fg)||0,(null==n?void 0:n.bg)||0,(null==n?void 0:n.extended)||new i.ExtendedAttrs),t<this.length&&2===this.getWidth(t-1)&&!this.isProtected(t)&&this.setCellFromCodePoint(t,0,1,(null==n?void 0:n.fg)||0,(null==n?void 0:n.bg)||0,(null==n?void 0:n.extended)||new i.ExtendedAttrs);e<t&&e<this.length;)this.isProtected(e)||this.setCell(e,r),e++;else for(e&&2===this.getWidth(e-1)&&this.setCellFromCodePoint(e-1,0,1,(null==n?void 0:n.fg)||0,(null==n?void 0:n.bg)||0,(null==n?void 0:n.extended)||new i.ExtendedAttrs),t<this.length&&2===this.getWidth(t-1)&&this.setCellFromCodePoint(t,0,1,(null==n?void 0:n.fg)||0,(null==n?void 0:n.bg)||0,(null==n?void 0:n.extended)||new i.ExtendedAttrs);e<t&&e<this.length;)this.setCell(e++,r)}resize(e,t){if(e===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const r=3*e;if(e>this.length){if(this._data.buffer.byteLength>=4*r)this._data=new Uint32Array(this._data.buffer,0,r);else{const e=new Uint32Array(r);e.set(this._data),this._data=e}for(let r=this.length;r<e;++r)this.setCell(r,t)}else{this._data=this._data.subarray(0,r);const t=Object.keys(this._combined);for(let r=0;r<t.length;r++){const i=parseInt(t[r],10);i>=e&&delete this._combined[i]}const i=Object.keys(this._extendedAttrs);for(let r=0;r<i.length;r++){const t=parseInt(i[r],10);t>=e&&delete this._extendedAttrs[t]}}return this.length=e,4*r*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const e=new Uint32Array(this._data.length);return e.set(this._data),this._data=e,1}return 0}fill(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])for(let t=0;t<this.length;++t)this.isProtected(t)||this.setCell(t,e);else{this._combined={},this._extendedAttrs={};for(let t=0;t<this.length;++t)this.setCell(t,e)}}copyFrom(e){this.length!==e.length?this._data=new Uint32Array(e._data):this._data.set(e._data),this.length=e.length,this._combined={};for(const t in e._combined)this._combined[t]=e._combined[t];this._extendedAttrs={};for(const t in e._extendedAttrs)this._extendedAttrs[t]=e._extendedAttrs[t];this.isWrapped=e.isWrapped}clone(){const e=new l(0);e._data=new Uint32Array(this._data),e.length=this.length;for(const t in this._combined)e._combined[t]=this._combined[t];for(const t in this._extendedAttrs)e._extendedAttrs[t]=this._extendedAttrs[t];return e.isWrapped=this.isWrapped,e}getTrimmedLength(){for(let e=this.length-1;e>=0;--e)if(4194303&this._data[3*e+0])return e+(this._data[3*e+0]>>22);return 0}getNoBgTrimmedLength(){for(let e=this.length-1;e>=0;--e)if(4194303&this._data[3*e+0]||50331648&this._data[3*e+2])return e+(this._data[3*e+0]>>22);return 0}copyCellsFrom(e,t,r,i,n){const s=e._data;if(n)for(let a=i-1;a>=0;a--){for(let e=0;e<3;e++)this._data[3*(r+a)+e]=s[3*(t+a)+e];268435456&s[3*(t+a)+2]&&(this._extendedAttrs[r+a]=e._extendedAttrs[t+a])}else for(let a=0;a<i;a++){for(let e=0;e<3;e++)this._data[3*(r+a)+e]=s[3*(t+a)+e];268435456&s[3*(t+a)+2]&&(this._extendedAttrs[r+a]=e._extendedAttrs[t+a])}const o=Object.keys(e._combined);for(let a=0;a<o.length;a++){const i=parseInt(o[a],10);i>=t&&(this._combined[i-t+r]=e._combined[i])}}translateToString(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.length;e&&(r=Math.min(r,this.getTrimmedLength()));let i="";for(;t<r;){const e=this._data[3*t+0],r=2097151&e;i+=2097152&e?this._combined[t]:r?(0,o.stringFromCodePoint)(r):s.WHITESPACE_CELL_CHAR,t+=e>>22||1}return i}}t.BufferLine=l},4841:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getRangeLength=void 0,t.getRangeLength=function(e,t){if(e.start.y>e.end.y)throw new Error("Buffer range end (".concat(e.end.x,", ").concat(e.end.y,") cannot be before start (").concat(e.start.x,", ").concat(e.start.y,")"));return t*(e.end.y-e.start.y)+(e.end.x-e.start.x+1)}},4634:(e,t)=>{function r(e,t,r){if(t===e.length-1)return e[t].getTrimmedLength();const i=!e[t].hasContent(r-1)&&1===e[t].getWidth(r-1),n=2===e[t+1].getWidth(0);return i&&n?r-1:r}Object.defineProperty(t,"__esModule",{value:!0}),t.getWrappedLineTrimmedLength=t.reflowSmallerGetNewLineLengths=t.reflowLargerApplyNewLayout=t.reflowLargerCreateNewLayout=t.reflowLargerGetLinesToRemove=void 0,t.reflowLargerGetLinesToRemove=function(e,t,i,n,s){const o=[];for(let a=0;a<e.length-1;a++){let l=a,c=e.get(++l);if(!c.isWrapped)continue;const u=[e.get(a)];for(;l<e.length&&c.isWrapped;)u.push(c),c=e.get(++l);if(n>=a&&n<l){a+=u.length-1;continue}let h=0,d=r(u,h,t),f=1,p=0;for(;f<u.length;){const e=r(u,f,t),n=e-p,o=i-d,a=Math.min(n,o);u[h].copyCellsFrom(u[f],p,d,a,!1),d+=a,d===i&&(h++,d=0),p+=a,p===e&&(f++,p=0),0===d&&0!==h&&2===u[h-1].getWidth(i-1)&&(u[h].copyCellsFrom(u[h-1],i-1,d++,1,!1),u[h-1].setCell(i-1,s))}u[h].replaceCells(d,i,s);let m=0;for(let e=u.length-1;e>0&&(e>h||0===u[e].getTrimmedLength());e--)m++;m>0&&(o.push(a+u.length-m),o.push(m)),a+=u.length-1}return o},t.reflowLargerCreateNewLayout=function(e,t){const r=[];let i=0,n=t[i],s=0;for(let o=0;o<e.length;o++)if(n===o){const r=t[++i];e.onDeleteEmitter.fire({index:o-s,amount:r}),o+=r-1,s+=r,n=t[++i]}else r.push(o);return{layout:r,countRemoved:s}},t.reflowLargerApplyNewLayout=function(e,t){const r=[];for(let i=0;i<t.length;i++)r.push(e.get(t[i]));for(let i=0;i<r.length;i++)e.set(i,r[i]);e.length=t.length},t.reflowSmallerGetNewLineLengths=function(e,t,i){const n=[],s=e.map((i,n)=>r(e,n,t)).reduce((e,t)=>e+t);let o=0,a=0,l=0;for(;l<s;){if(s-l<i){n.push(s-l);break}o+=i;const c=r(e,a,t);o>c&&(o-=c,a++);const u=2===e[a].getWidth(o-1);u&&o--;const h=u?i-1:i;n.push(h),l+=h}return n},t.getWrappedLineTrimmedLength=r},5295:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BufferSet=void 0;const i=r(8460),n=r(844),s=r(9092);class o extends n.Disposable{constructor(e,t){super(),this._optionsService=e,this._bufferService=t,this._onBufferActivate=this.register(new i.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.resize(this._bufferService.cols,this._bufferService.rows))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",()=>this.setupTabStops()))}reset(){this._normal=new s.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new s.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(e){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(e),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(e,t){this._normal.resize(e,t),this._alt.resize(e,t),this.setupTabStops(e)}setupTabStops(e){this._normal.setupTabStops(e),this._alt.setupTabStops(e)}}t.BufferSet=o},511:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CellData=void 0;const i=r(482),n=r(643),s=r(3734);class o extends s.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new s.ExtendedAttrs,this.combinedData=""}static fromCharData(e){const t=new o;return t.setFromCharData(e),t}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,i.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(e){this.fg=e[n.CHAR_DATA_ATTR_INDEX],this.bg=0;let t=!1;if(e[n.CHAR_DATA_CHAR_INDEX].length>2)t=!0;else if(2===e[n.CHAR_DATA_CHAR_INDEX].length){const r=e[n.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=r&&r<=56319){const i=e[n.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=i&&i<=57343?this.content=1024*(r-55296)+i-56320+65536|e[n.CHAR_DATA_WIDTH_INDEX]<<22:t=!0}else t=!0}else this.content=e[n.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|e[n.CHAR_DATA_WIDTH_INDEX]<<22;t&&(this.combinedData=e[n.CHAR_DATA_CHAR_INDEX],this.content=2097152|e[n.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}t.CellData=o},643:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WHITESPACE_CELL_CODE=t.WHITESPACE_CELL_WIDTH=t.WHITESPACE_CELL_CHAR=t.NULL_CELL_CODE=t.NULL_CELL_WIDTH=t.NULL_CELL_CHAR=t.CHAR_DATA_CODE_INDEX=t.CHAR_DATA_WIDTH_INDEX=t.CHAR_DATA_CHAR_INDEX=t.CHAR_DATA_ATTR_INDEX=t.DEFAULT_EXT=t.DEFAULT_ATTR=t.DEFAULT_COLOR=void 0,t.DEFAULT_COLOR=0,t.DEFAULT_ATTR=256|t.DEFAULT_COLOR<<9,t.DEFAULT_EXT=0,t.CHAR_DATA_ATTR_INDEX=0,t.CHAR_DATA_CHAR_INDEX=1,t.CHAR_DATA_WIDTH_INDEX=2,t.CHAR_DATA_CODE_INDEX=3,t.NULL_CELL_CHAR="",t.NULL_CELL_WIDTH=1,t.NULL_CELL_CODE=0,t.WHITESPACE_CELL_CHAR=" ",t.WHITESPACE_CELL_WIDTH=1,t.WHITESPACE_CELL_CODE=32},4863:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Marker=void 0;const i=r(8460),n=r(844);class s{get id(){return this._id}constructor(e){this.line=e,this.isDisposed=!1,this._disposables=[],this._id=s._nextId++,this._onDispose=this.register(new i.EventEmitter),this.onDispose=this._onDispose.event}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,n.disposeArray)(this._disposables),this._disposables.length=0)}register(e){return this._disposables.push(e),e}}t.Marker=s,s._nextId=1},7116:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_CHARSET=t.CHARSETS=void 0,t.CHARSETS={},t.DEFAULT_CHARSET=t.CHARSETS.B,t.CHARSETS[0]={"`":"\u25c6",a:"\u2592",b:"\u2409",c:"\u240c",d:"\u240d",e:"\u240a",f:"\xb0",g:"\xb1",h:"\u2424",i:"\u240b",j:"\u2518",k:"\u2510",l:"\u250c",m:"\u2514",n:"\u253c",o:"\u23ba",p:"\u23bb",q:"\u2500",r:"\u23bc",s:"\u23bd",t:"\u251c",u:"\u2524",v:"\u2534",w:"\u252c",x:"\u2502",y:"\u2264",z:"\u2265","{":"\u03c0","|":"\u2260","}":"\xa3","~":"\xb7"},t.CHARSETS.A={"#":"\xa3"},t.CHARSETS.B=void 0,t.CHARSETS[4]={"#":"\xa3","@":"\xbe","[":"ij","\\":"\xbd","]":"|","{":"\xa8","|":"f","}":"\xbc","~":"\xb4"},t.CHARSETS.C=t.CHARSETS[5]={"[":"\xc4","\\":"\xd6","]":"\xc5","^":"\xdc","`":"\xe9","{":"\xe4","|":"\xf6","}":"\xe5","~":"\xfc"},t.CHARSETS.R={"#":"\xa3","@":"\xe0","[":"\xb0","\\":"\xe7","]":"\xa7","{":"\xe9","|":"\xf9","}":"\xe8","~":"\xa8"},t.CHARSETS.Q={"@":"\xe0","[":"\xe2","\\":"\xe7","]":"\xea","^":"\xee","`":"\xf4","{":"\xe9","|":"\xf9","}":"\xe8","~":"\xfb"},t.CHARSETS.K={"@":"\xa7","[":"\xc4","\\":"\xd6","]":"\xdc","{":"\xe4","|":"\xf6","}":"\xfc","~":"\xdf"},t.CHARSETS.Y={"#":"\xa3","@":"\xa7","[":"\xb0","\\":"\xe7","]":"\xe9","`":"\xf9","{":"\xe0","|":"\xf2","}":"\xe8","~":"\xec"},t.CHARSETS.E=t.CHARSETS[6]={"@":"\xc4","[":"\xc6","\\":"\xd8","]":"\xc5","^":"\xdc","`":"\xe4","{":"\xe6","|":"\xf8","}":"\xe5","~":"\xfc"},t.CHARSETS.Z={"#":"\xa3","@":"\xa7","[":"\xa1","\\":"\xd1","]":"\xbf","{":"\xb0","|":"\xf1","}":"\xe7"},t.CHARSETS.H=t.CHARSETS[7]={"@":"\xc9","[":"\xc4","\\":"\xd6","]":"\xc5","^":"\xdc","`":"\xe9","{":"\xe4","|":"\xf6","}":"\xe5","~":"\xfc"},t.CHARSETS["="]={"#":"\xf9","@":"\xe0","[":"\xe9","\\":"\xe7","]":"\xea","^":"\xee",_:"\xe8","`":"\xf4","{":"\xe4","|":"\xf6","}":"\xfc","~":"\xfb"}},2584:(e,t)=>{var r,i,n;Object.defineProperty(t,"__esModule",{value:!0}),t.C1_ESCAPED=t.C1=t.C0=void 0,function(e){e.NUL="\0",e.SOH="\x01",e.STX="\x02",e.ETX="\x03",e.EOT="\x04",e.ENQ="\x05",e.ACK="\x06",e.BEL="\x07",e.BS="\b",e.HT="\t",e.LF="\n",e.VT="\v",e.FF="\f",e.CR="\r",e.SO="\x0e",e.SI="\x0f",e.DLE="\x10",e.DC1="\x11",e.DC2="\x12",e.DC3="\x13",e.DC4="\x14",e.NAK="\x15",e.SYN="\x16",e.ETB="\x17",e.CAN="\x18",e.EM="\x19",e.SUB="\x1a",e.ESC="\x1b",e.FS="\x1c",e.GS="\x1d",e.RS="\x1e",e.US="\x1f",e.SP=" ",e.DEL="\x7f"}(r||(t.C0=r={})),function(e){e.PAD="\x80",e.HOP="\x81",e.BPH="\x82",e.NBH="\x83",e.IND="\x84",e.NEL="\x85",e.SSA="\x86",e.ESA="\x87",e.HTS="\x88",e.HTJ="\x89",e.VTS="\x8a",e.PLD="\x8b",e.PLU="\x8c",e.RI="\x8d",e.SS2="\x8e",e.SS3="\x8f",e.DCS="\x90",e.PU1="\x91",e.PU2="\x92",e.STS="\x93",e.CCH="\x94",e.MW="\x95",e.SPA="\x96",e.EPA="\x97",e.SOS="\x98",e.SGCI="\x99",e.SCI="\x9a",e.CSI="\x9b",e.ST="\x9c",e.OSC="\x9d",e.PM="\x9e",e.APC="\x9f"}(i||(t.C1=i={})),function(e){e.ST="".concat(r.ESC,"\\")}(n||(t.C1_ESCAPED=n={}))},7399:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.evaluateKeyboardEvent=void 0;const i=r(2584),n={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};t.evaluateKeyboardEvent=function(e,t,r,s){const o={type:0,cancel:!1,key:void 0},a=(e.shiftKey?1:0)|(e.altKey?2:0)|(e.ctrlKey?4:0)|(e.metaKey?8:0);switch(e.keyCode){case 0:"UIKeyInputUpArrow"===e.key?o.key=t?i.C0.ESC+"OA":i.C0.ESC+"[A":"UIKeyInputLeftArrow"===e.key?o.key=t?i.C0.ESC+"OD":i.C0.ESC+"[D":"UIKeyInputRightArrow"===e.key?o.key=t?i.C0.ESC+"OC":i.C0.ESC+"[C":"UIKeyInputDownArrow"===e.key&&(o.key=t?i.C0.ESC+"OB":i.C0.ESC+"[B");break;case 8:if(e.altKey){o.key=i.C0.ESC+i.C0.DEL;break}o.key=i.C0.DEL;break;case 9:if(e.shiftKey){o.key=i.C0.ESC+"[Z";break}o.key=i.C0.HT,o.cancel=!0;break;case 13:o.key=e.altKey?i.C0.ESC+i.C0.CR:i.C0.CR,o.cancel=!0;break;case 27:o.key=i.C0.ESC,e.altKey&&(o.key=i.C0.ESC+i.C0.ESC),o.cancel=!0;break;case 37:if(e.metaKey)break;a?(o.key=i.C0.ESC+"[1;"+(a+1)+"D",o.key===i.C0.ESC+"[1;3D"&&(o.key=i.C0.ESC+(r?"b":"[1;5D"))):o.key=t?i.C0.ESC+"OD":i.C0.ESC+"[D";break;case 39:if(e.metaKey)break;a?(o.key=i.C0.ESC+"[1;"+(a+1)+"C",o.key===i.C0.ESC+"[1;3C"&&(o.key=i.C0.ESC+(r?"f":"[1;5C"))):o.key=t?i.C0.ESC+"OC":i.C0.ESC+"[C";break;case 38:if(e.metaKey)break;a?(o.key=i.C0.ESC+"[1;"+(a+1)+"A",r||o.key!==i.C0.ESC+"[1;3A"||(o.key=i.C0.ESC+"[1;5A")):o.key=t?i.C0.ESC+"OA":i.C0.ESC+"[A";break;case 40:if(e.metaKey)break;a?(o.key=i.C0.ESC+"[1;"+(a+1)+"B",r||o.key!==i.C0.ESC+"[1;3B"||(o.key=i.C0.ESC+"[1;5B")):o.key=t?i.C0.ESC+"OB":i.C0.ESC+"[B";break;case 45:e.shiftKey||e.ctrlKey||(o.key=i.C0.ESC+"[2~");break;case 46:o.key=a?i.C0.ESC+"[3;"+(a+1)+"~":i.C0.ESC+"[3~";break;case 36:o.key=a?i.C0.ESC+"[1;"+(a+1)+"H":t?i.C0.ESC+"OH":i.C0.ESC+"[H";break;case 35:o.key=a?i.C0.ESC+"[1;"+(a+1)+"F":t?i.C0.ESC+"OF":i.C0.ESC+"[F";break;case 33:e.shiftKey?o.type=2:e.ctrlKey?o.key=i.C0.ESC+"[5;"+(a+1)+"~":o.key=i.C0.ESC+"[5~";break;case 34:e.shiftKey?o.type=3:e.ctrlKey?o.key=i.C0.ESC+"[6;"+(a+1)+"~":o.key=i.C0.ESC+"[6~";break;case 112:o.key=a?i.C0.ESC+"[1;"+(a+1)+"P":i.C0.ESC+"OP";break;case 113:o.key=a?i.C0.ESC+"[1;"+(a+1)+"Q":i.C0.ESC+"OQ";break;case 114:o.key=a?i.C0.ESC+"[1;"+(a+1)+"R":i.C0.ESC+"OR";break;case 115:o.key=a?i.C0.ESC+"[1;"+(a+1)+"S":i.C0.ESC+"OS";break;case 116:o.key=a?i.C0.ESC+"[15;"+(a+1)+"~":i.C0.ESC+"[15~";break;case 117:o.key=a?i.C0.ESC+"[17;"+(a+1)+"~":i.C0.ESC+"[17~";break;case 118:o.key=a?i.C0.ESC+"[18;"+(a+1)+"~":i.C0.ESC+"[18~";break;case 119:o.key=a?i.C0.ESC+"[19;"+(a+1)+"~":i.C0.ESC+"[19~";break;case 120:o.key=a?i.C0.ESC+"[20;"+(a+1)+"~":i.C0.ESC+"[20~";break;case 121:o.key=a?i.C0.ESC+"[21;"+(a+1)+"~":i.C0.ESC+"[21~";break;case 122:o.key=a?i.C0.ESC+"[23;"+(a+1)+"~":i.C0.ESC+"[23~";break;case 123:o.key=a?i.C0.ESC+"[24;"+(a+1)+"~":i.C0.ESC+"[24~";break;default:if(!e.ctrlKey||e.shiftKey||e.altKey||e.metaKey)if(r&&!s||!e.altKey||e.metaKey)!r||e.altKey||e.ctrlKey||e.shiftKey||!e.metaKey?e.key&&!e.ctrlKey&&!e.altKey&&!e.metaKey&&e.keyCode>=48&&1===e.key.length?o.key=e.key:e.key&&e.ctrlKey&&("_"===e.key&&(o.key=i.C0.US),"@"===e.key&&(o.key=i.C0.NUL)):65===e.keyCode&&(o.type=1);else{const t=n[e.keyCode],r=null==t?void 0:t[e.shiftKey?1:0];if(r)o.key=i.C0.ESC+r;else if(e.keyCode>=65&&e.keyCode<=90){const t=e.ctrlKey?e.keyCode-64:e.keyCode+32;let r=String.fromCharCode(t);e.shiftKey&&(r=r.toUpperCase()),o.key=i.C0.ESC+r}else if(32===e.keyCode)o.key=i.C0.ESC+(e.ctrlKey?i.C0.NUL:" ");else if("Dead"===e.key&&e.code.startsWith("Key")){let t=e.code.slice(3,4);e.shiftKey||(t=t.toLowerCase()),o.key=i.C0.ESC+t,o.cancel=!0}}else e.keyCode>=65&&e.keyCode<=90?o.key=String.fromCharCode(e.keyCode-64):32===e.keyCode?o.key=i.C0.NUL:e.keyCode>=51&&e.keyCode<=55?o.key=String.fromCharCode(e.keyCode-51+27):56===e.keyCode?o.key=i.C0.DEL:219===e.keyCode?o.key=i.C0.ESC:220===e.keyCode?o.key=i.C0.FS:221===e.keyCode&&(o.key=i.C0.GS)}return o}},482:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Utf8ToUtf32=t.StringToUtf32=t.utf32ToString=t.stringFromCodePoint=void 0,t.stringFromCodePoint=function(e){return e>65535?(e-=65536,String.fromCharCode(55296+(e>>10))+String.fromCharCode(e%1024+56320)):String.fromCharCode(e)},t.utf32ToString=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,i="";for(let n=t;n<r;++n){let t=e[n];t>65535?(t-=65536,i+=String.fromCharCode(55296+(t>>10))+String.fromCharCode(t%1024+56320)):i+=String.fromCharCode(t)}return i},t.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(e,t){const r=e.length;if(!r)return 0;let i=0,n=0;if(this._interim){const r=e.charCodeAt(n++);56320<=r&&r<=57343?t[i++]=1024*(this._interim-55296)+r-56320+65536:(t[i++]=this._interim,t[i++]=r),this._interim=0}for(let s=n;s<r;++s){const n=e.charCodeAt(s);if(55296<=n&&n<=56319){if(++s>=r)return this._interim=n,i;const o=e.charCodeAt(s);56320<=o&&o<=57343?t[i++]=1024*(n-55296)+o-56320+65536:(t[i++]=n,t[i++]=o)}else 65279!==n&&(t[i++]=n)}return i}},t.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(e,t){const r=e.length;if(!r)return 0;let i,n,s,o,a=0,l=0,c=0;if(this.interim[0]){let i=!1,n=this.interim[0];n&=192==(224&n)?31:224==(240&n)?15:7;let s,o=0;for(;(s=63&this.interim[++o])&&o<4;)n<<=6,n|=s;const l=192==(224&this.interim[0])?2:224==(240&this.interim[0])?3:4,u=l-o;for(;c<u;){if(c>=r)return 0;if(s=e[c++],128!=(192&s)){c--,i=!0;break}this.interim[o++]=s,n<<=6,n|=63&s}i||(2===l?n<128?c--:t[a++]=n:3===l?n<2048||n>=55296&&n<=57343||65279===n||(t[a++]=n):n<65536||n>1114111||(t[a++]=n)),this.interim.fill(0)}const u=r-4;let h=c;for(;h<r;){for(;!(!(h<u)||128&(i=e[h])||128&(n=e[h+1])||128&(s=e[h+2])||128&(o=e[h+3]));)t[a++]=i,t[a++]=n,t[a++]=s,t[a++]=o,h+=4;if(i=e[h++],i<128)t[a++]=i;else if(192==(224&i)){if(h>=r)return this.interim[0]=i,a;if(n=e[h++],128!=(192&n)){h--;continue}if(l=(31&i)<<6|63&n,l<128){h--;continue}t[a++]=l}else if(224==(240&i)){if(h>=r)return this.interim[0]=i,a;if(n=e[h++],128!=(192&n)){h--;continue}if(h>=r)return this.interim[0]=i,this.interim[1]=n,a;if(s=e[h++],128!=(192&s)){h--;continue}if(l=(15&i)<<12|(63&n)<<6|63&s,l<2048||l>=55296&&l<=57343||65279===l)continue;t[a++]=l}else if(240==(248&i)){if(h>=r)return this.interim[0]=i,a;if(n=e[h++],128!=(192&n)){h--;continue}if(h>=r)return this.interim[0]=i,this.interim[1]=n,a;if(s=e[h++],128!=(192&s)){h--;continue}if(h>=r)return this.interim[0]=i,this.interim[1]=n,this.interim[2]=s,a;if(o=e[h++],128!=(192&o)){h--;continue}if(l=(7&i)<<18|(63&n)<<12|(63&s)<<6|63&o,l<65536||l>1114111)continue;t[a++]=l}}return a}}},225:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UnicodeV6=void 0;const r=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],i=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let n;t.UnicodeV6=class{constructor(){if(this.version="6",!n){n=new Uint8Array(65536),n.fill(1),n[0]=0,n.fill(0,1,32),n.fill(0,127,160),n.fill(2,4352,4448),n[9001]=2,n[9002]=2,n.fill(2,11904,42192),n[12351]=1,n.fill(2,44032,55204),n.fill(2,63744,64256),n.fill(2,65040,65050),n.fill(2,65072,65136),n.fill(2,65280,65377),n.fill(2,65504,65511);for(let e=0;e<r.length;++e)n.fill(0,r[e][0],r[e][1]+1)}}wcwidth(e){return e<32?0:e<127?1:e<65536?n[e]:function(e,t){let r,i=0,n=t.length-1;if(e<t[0][0]||e>t[n][1])return!1;for(;n>=i;)if(r=i+n>>1,e>t[r][1])i=r+1;else{if(!(e<t[r][0]))return!0;n=r-1}return!1}(e,i)?0:e>=131072&&e<=196605||e>=196608&&e<=262141?2:1}}},5981:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WriteBuffer=void 0;const i=r(8460),n=r(844);class s extends n.Disposable{constructor(e){super(),this._action=e,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new i.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(e,t){if(void 0!==t&&this._syncCalls>t)return void(this._syncCalls=0);if(this._pendingData+=e.length,this._writeBuffer.push(e),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let r;for(this._isSyncWriting=!0;r=this._writeBuffer.shift();){this._action(r);const e=this._callbacks.shift();e&&e()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(e,t){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=e.length,this._writeBuffer.push(e),this._callbacks.push(t),void this._innerWrite();setTimeout(()=>this._innerWrite())}this._pendingData+=e.length,this._writeBuffer.push(e),this._callbacks.push(t)}_innerWrite(){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const r=this._writeBuffer[this._bufferOffset],i=this._action(r,e);if(i){const e=e=>Date.now()-t>=12?setTimeout(()=>this._innerWrite(0,e)):this._innerWrite(t,e);return void i.catch(e=>(queueMicrotask(()=>{throw e}),Promise.resolve(!1))).then(e)}const n=this._callbacks[this._bufferOffset];if(n&&n(),this._bufferOffset++,this._pendingData-=r.length,Date.now()-t>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(()=>this._innerWrite())):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}t.WriteBuffer=s},5941:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.toRgbString=t.parseColor=void 0;const r=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,i=/^[\da-f]+$/;function n(e,t){const r=e.toString(16),i=r.length<2?"0"+r:r;switch(t){case 4:return r[0];case 8:return i;case 12:return(i+i).slice(0,3);default:return i+i}}t.parseColor=function(e){if(!e)return;let t=e.toLowerCase();if(0===t.indexOf("rgb:")){t=t.slice(4);const e=r.exec(t);if(e){const t=e[1]?15:e[4]?255:e[7]?4095:65535;return[Math.round(parseInt(e[1]||e[4]||e[7]||e[10],16)/t*255),Math.round(parseInt(e[2]||e[5]||e[8]||e[11],16)/t*255),Math.round(parseInt(e[3]||e[6]||e[9]||e[12],16)/t*255)]}}else if(0===t.indexOf("#")&&(t=t.slice(1),i.exec(t)&&[3,6,9,12].includes(t.length))){const e=t.length/3,r=[0,0,0];for(let i=0;i<3;++i){const n=parseInt(t.slice(e*i,e*i+e),16);r[i]=1===e?n<<4:2===e?n:3===e?n>>4:n>>8}return r}},t.toRgbString=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16;const[r,i,s]=e;return"rgb:".concat(n(r,t),"/").concat(n(i,t),"/").concat(n(s,t))}},5770:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PAYLOAD_LIMIT=void 0,t.PAYLOAD_LIMIT=1e7},6351:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DcsHandler=t.DcsParser=void 0;const i=r(482),n=r(8742),s=r(5770),o=[];t.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=o,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=o}registerHandler(e,t){void 0===this._handlers[e]&&(this._handlers[e]=[]);const r=this._handlers[e];return r.push(t),{dispose:()=>{const e=r.indexOf(t);-1!==e&&r.splice(e,1)}}}clearHandler(e){this._handlers[e]&&delete this._handlers[e]}setHandlerFallback(e){this._handlerFb=e}reset(){if(this._active.length)for(let e=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;e>=0;--e)this._active[e].unhook(!1);this._stack.paused=!1,this._active=o,this._ident=0}hook(e,t){if(this.reset(),this._ident=e,this._active=this._handlers[e]||o,this._active.length)for(let r=this._active.length-1;r>=0;r--)this._active[r].hook(t);else this._handlerFb(this._ident,"HOOK",t)}put(e,t,r){if(this._active.length)for(let i=this._active.length-1;i>=0;i--)this._active[i].put(e,t,r);else this._handlerFb(this._ident,"PUT",(0,i.utf32ToString)(e,t,r))}unhook(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this._active.length){let r=!1,i=this._active.length-1,n=!1;if(this._stack.paused&&(i=this._stack.loopPosition-1,r=t,n=this._stack.fallThrough,this._stack.paused=!1),!n&&!1===r){for(;i>=0&&(r=this._active[i].unhook(e),!0!==r);i--)if(r instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=i,this._stack.fallThrough=!1,r;i--}for(;i>=0;i--)if(r=this._active[i].unhook(!1),r instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=i,this._stack.fallThrough=!0,r}else this._handlerFb(this._ident,"UNHOOK",e);this._active=o,this._ident=0}};const a=new n.Params;a.addParam(0),t.DcsHandler=class{constructor(e){this._handler=e,this._data="",this._params=a,this._hitLimit=!1}hook(e){this._params=e.length>1||e.params[0]?e.clone():a,this._data="",this._hitLimit=!1}put(e,t,r){this._hitLimit||(this._data+=(0,i.utf32ToString)(e,t,r),this._data.length>s.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(e){let t=!1;if(this._hitLimit)t=!1;else if(e&&(t=this._handler(this._data,this._params),t instanceof Promise))return t.then(e=>(this._params=a,this._data="",this._hitLimit=!1,e));return this._params=a,this._data="",this._hitLimit=!1,t}}},2015:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EscapeSequenceParser=t.VT500_TRANSITION_TABLE=t.TransitionTable=void 0;const i=r(844),n=r(8742),s=r(6242),o=r(6351);class a{constructor(e){this.table=new Uint8Array(e)}setDefault(e,t){this.table.fill(e<<4|t)}add(e,t,r,i){this.table[t<<8|e]=r<<4|i}addMany(e,t,r,i){for(let n=0;n<e.length;n++)this.table[t<<8|e[n]]=r<<4|i}}t.TransitionTable=a;const l=160;t.VT500_TRANSITION_TABLE=function(){const e=new a(4095),t=Array.apply(null,Array(256)).map((e,t)=>t),r=(e,r)=>t.slice(e,r),i=r(32,127),n=r(0,24);n.push(25),n.push.apply(n,r(28,32));const s=r(0,14);let o;for(o in e.setDefault(1,0),e.addMany(i,0,2,0),s)e.addMany([24,26,153,154],o,3,0),e.addMany(r(128,144),o,3,0),e.addMany(r(144,152),o,3,0),e.add(156,o,0,0),e.add(27,o,11,1),e.add(157,o,4,8),e.addMany([152,158,159],o,0,7),e.add(155,o,11,3),e.add(144,o,11,9);return e.addMany(n,0,3,0),e.addMany(n,1,3,1),e.add(127,1,0,1),e.addMany(n,8,0,8),e.addMany(n,3,3,3),e.add(127,3,0,3),e.addMany(n,4,3,4),e.add(127,4,0,4),e.addMany(n,6,3,6),e.addMany(n,5,3,5),e.add(127,5,0,5),e.addMany(n,2,3,2),e.add(127,2,0,2),e.add(93,1,4,8),e.addMany(i,8,5,8),e.add(127,8,5,8),e.addMany([156,27,24,26,7],8,6,0),e.addMany(r(28,32),8,0,8),e.addMany([88,94,95],1,0,7),e.addMany(i,7,0,7),e.addMany(n,7,0,7),e.add(156,7,0,0),e.add(127,7,0,7),e.add(91,1,11,3),e.addMany(r(64,127),3,7,0),e.addMany(r(48,60),3,8,4),e.addMany([60,61,62,63],3,9,4),e.addMany(r(48,60),4,8,4),e.addMany(r(64,127),4,7,0),e.addMany([60,61,62,63],4,0,6),e.addMany(r(32,64),6,0,6),e.add(127,6,0,6),e.addMany(r(64,127),6,0,0),e.addMany(r(32,48),3,9,5),e.addMany(r(32,48),5,9,5),e.addMany(r(48,64),5,0,6),e.addMany(r(64,127),5,7,0),e.addMany(r(32,48),4,9,5),e.addMany(r(32,48),1,9,2),e.addMany(r(32,48),2,9,2),e.addMany(r(48,127),2,10,0),e.addMany(r(48,80),1,10,0),e.addMany(r(81,88),1,10,0),e.addMany([89,90,92],1,10,0),e.addMany(r(96,127),1,10,0),e.add(80,1,11,9),e.addMany(n,9,0,9),e.add(127,9,0,9),e.addMany(r(28,32),9,0,9),e.addMany(r(32,48),9,9,12),e.addMany(r(48,60),9,8,10),e.addMany([60,61,62,63],9,9,10),e.addMany(n,11,0,11),e.addMany(r(32,128),11,0,11),e.addMany(r(28,32),11,0,11),e.addMany(n,10,0,10),e.add(127,10,0,10),e.addMany(r(28,32),10,0,10),e.addMany(r(48,60),10,8,10),e.addMany([60,61,62,63],10,0,11),e.addMany(r(32,48),10,9,12),e.addMany(n,12,0,12),e.add(127,12,0,12),e.addMany(r(28,32),12,0,12),e.addMany(r(32,48),12,9,12),e.addMany(r(48,64),12,0,11),e.addMany(r(64,127),12,12,13),e.addMany(r(64,127),10,12,13),e.addMany(r(64,127),9,12,13),e.addMany(n,13,13,13),e.addMany(i,13,13,13),e.add(127,13,0,13),e.addMany([27,156,24,26],13,14,0),e.add(l,0,2,0),e.add(l,8,5,8),e.add(l,6,0,6),e.add(l,11,0,11),e.add(l,13,13,13),e}();class c extends i.Disposable{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.VT500_TRANSITION_TABLE;super(),this._transitions=e,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new n.Params,this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._printHandlerFb=(e,t,r)=>{},this._executeHandlerFb=e=>{},this._csiHandlerFb=(e,t)=>{},this._escHandlerFb=e=>{},this._errorHandlerFb=e=>e,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,i.toDisposable)(()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)})),this._oscParser=this.register(new s.OscParser),this._dcsParser=this.register(new o.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},()=>!0)}_identifier(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[64,126],r=0;if(e.prefix){if(e.prefix.length>1)throw new Error("only one byte as prefix supported");if(r=e.prefix.charCodeAt(0),r&&60>r||r>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(e.intermediates){if(e.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let t=0;t<e.intermediates.length;++t){const i=e.intermediates.charCodeAt(t);if(32>i||i>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");r<<=8,r|=i}}if(1!==e.final.length)throw new Error("final must be a single byte");const i=e.final.charCodeAt(0);if(t[0]>i||i>t[1])throw new Error("final must be in range ".concat(t[0]," .. ").concat(t[1]));return r<<=8,r|=i,r}identToString(e){const t=[];for(;e;)t.push(String.fromCharCode(255&e)),e>>=8;return t.reverse().join("")}setPrintHandler(e){this._printHandler=e}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(e,t){const r=this._identifier(e,[48,126]);void 0===this._escHandlers[r]&&(this._escHandlers[r]=[]);const i=this._escHandlers[r];return i.push(t),{dispose:()=>{const e=i.indexOf(t);-1!==e&&i.splice(e,1)}}}clearEscHandler(e){this._escHandlers[this._identifier(e,[48,126])]&&delete this._escHandlers[this._identifier(e,[48,126])]}setEscHandlerFallback(e){this._escHandlerFb=e}setExecuteHandler(e,t){this._executeHandlers[e.charCodeAt(0)]=t}clearExecuteHandler(e){this._executeHandlers[e.charCodeAt(0)]&&delete this._executeHandlers[e.charCodeAt(0)]}setExecuteHandlerFallback(e){this._executeHandlerFb=e}registerCsiHandler(e,t){const r=this._identifier(e);void 0===this._csiHandlers[r]&&(this._csiHandlers[r]=[]);const i=this._csiHandlers[r];return i.push(t),{dispose:()=>{const e=i.indexOf(t);-1!==e&&i.splice(e,1)}}}clearCsiHandler(e){this._csiHandlers[this._identifier(e)]&&delete this._csiHandlers[this._identifier(e)]}setCsiHandlerFallback(e){this._csiHandlerFb=e}registerDcsHandler(e,t){return this._dcsParser.registerHandler(this._identifier(e),t)}clearDcsHandler(e){this._dcsParser.clearHandler(this._identifier(e))}setDcsHandlerFallback(e){this._dcsParser.setHandlerFallback(e)}registerOscHandler(e,t){return this._oscParser.registerHandler(e,t)}clearOscHandler(e){this._oscParser.clearHandler(e)}setOscHandlerFallback(e){this._oscParser.setHandlerFallback(e)}setErrorHandler(e){this._errorHandler=e}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,0!==this._parseStack.state&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(e,t,r,i,n){this._parseStack.state=e,this._parseStack.handlers=t,this._parseStack.handlerPos=r,this._parseStack.transition=i,this._parseStack.chunkPos=n}parse(e,t,r){let i,n=0,s=0,o=0;if(this._parseStack.state)if(2===this._parseStack.state)this._parseStack.state=0,o=this._parseStack.chunkPos+1;else{if(void 0===r||1===this._parseStack.state)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const t=this._parseStack.handlers;let s=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(!1===r&&s>-1)for(;s>=0&&(i=t[s](this._params),!0!==i);s--)if(i instanceof Promise)return this._parseStack.handlerPos=s,i;this._parseStack.handlers=[];break;case 4:if(!1===r&&s>-1)for(;s>=0&&(i=t[s](),!0!==i);s--)if(i instanceof Promise)return this._parseStack.handlerPos=s,i;this._parseStack.handlers=[];break;case 6:if(n=e[this._parseStack.chunkPos],i=this._dcsParser.unhook(24!==n&&26!==n,r),i)return i;27===n&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(n=e[this._parseStack.chunkPos],i=this._oscParser.end(24!==n&&26!==n,r),i)return i;27===n&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,o=this._parseStack.chunkPos+1,this.precedingCodepoint=0,this.currentState=15&this._parseStack.transition}for(let a=o;a<t;++a){switch(n=e[a],s=this._transitions.table[this.currentState<<8|(n<160?n:l)],s>>4){case 2:for(let i=a+1;;++i){if(i>=t||(n=e[i])<32||n>126&&n<l){this._printHandler(e,a,i),a=i-1;break}if(++i>=t||(n=e[i])<32||n>126&&n<l){this._printHandler(e,a,i),a=i-1;break}if(++i>=t||(n=e[i])<32||n>126&&n<l){this._printHandler(e,a,i),a=i-1;break}if(++i>=t||(n=e[i])<32||n>126&&n<l){this._printHandler(e,a,i),a=i-1;break}}break;case 3:this._executeHandlers[n]?this._executeHandlers[n]():this._executeHandlerFb(n),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:a,code:n,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const r=this._csiHandlers[this._collect<<8|n];let o=r?r.length-1:-1;for(;o>=0&&(i=r[o](this._params),!0!==i);o--)if(i instanceof Promise)return this._preserveStack(3,r,o,s,a),i;o<0&&this._csiHandlerFb(this._collect<<8|n,this._params),this.precedingCodepoint=0;break;case 8:do{switch(n){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(n-48)}}while(++a<t&&(n=e[a])>47&&n<60);a--;break;case 9:this._collect<<=8,this._collect|=n;break;case 10:const c=this._escHandlers[this._collect<<8|n];let u=c?c.length-1:-1;for(;u>=0&&(i=c[u](),!0!==i);u--)if(i instanceof Promise)return this._preserveStack(4,c,u,s,a),i;u<0&&this._escHandlerFb(this._collect<<8|n),this.precedingCodepoint=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|n,this._params);break;case 13:for(let i=a+1;;++i)if(i>=t||24===(n=e[i])||26===n||27===n||n>127&&n<l){this._dcsParser.put(e,a,i),a=i-1;break}break;case 14:if(i=this._dcsParser.unhook(24!==n&&26!==n),i)return this._preserveStack(6,[],0,s,a),i;27===n&&(s|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0;break;case 4:this._oscParser.start();break;case 5:for(let i=a+1;;i++)if(i>=t||(n=e[i])<32||n>127&&n<l){this._oscParser.put(e,a,i),a=i-1;break}break;case 6:if(i=this._oscParser.end(24!==n&&26!==n),i)return this._preserveStack(5,[],0,s,a),i;27===n&&(s|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0}this.currentState=15&s}}}t.EscapeSequenceParser=c},6242:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OscHandler=t.OscParser=void 0;const i=r(5770),n=r(482),s=[];t.OscParser=class{constructor(){this._state=0,this._active=s,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(e,t){void 0===this._handlers[e]&&(this._handlers[e]=[]);const r=this._handlers[e];return r.push(t),{dispose:()=>{const e=r.indexOf(t);-1!==e&&r.splice(e,1)}}}clearHandler(e){this._handlers[e]&&delete this._handlers[e]}setHandlerFallback(e){this._handlerFb=e}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=s}reset(){if(2===this._state)for(let e=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;e>=0;--e)this._active[e].end(!1);this._stack.paused=!1,this._active=s,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||s,this._active.length)for(let e=this._active.length-1;e>=0;e--)this._active[e].start();else this._handlerFb(this._id,"START")}_put(e,t,r){if(this._active.length)for(let i=this._active.length-1;i>=0;i--)this._active[i].put(e,t,r);else this._handlerFb(this._id,"PUT",(0,n.utf32ToString)(e,t,r))}start(){this.reset(),this._state=1}put(e,t,r){if(3!==this._state){if(1===this._state)for(;t<r;){const r=e[t++];if(59===r){this._state=2,this._start();break}if(r<48||57<r)return void(this._state=3);-1===this._id&&(this._id=0),this._id=10*this._id+r-48}2===this._state&&r-t>0&&this._put(e,t,r)}}end(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(0!==this._state){if(3!==this._state)if(1===this._state&&this._start(),this._active.length){let r=!1,i=this._active.length-1,n=!1;if(this._stack.paused&&(i=this._stack.loopPosition-1,r=t,n=this._stack.fallThrough,this._stack.paused=!1),!n&&!1===r){for(;i>=0&&(r=this._active[i].end(e),!0!==r);i--)if(r instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=i,this._stack.fallThrough=!1,r;i--}for(;i>=0;i--)if(r=this._active[i].end(!1),r instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=i,this._stack.fallThrough=!0,r}else this._handlerFb(this._id,"END",e);this._active=s,this._id=-1,this._state=0}}},t.OscHandler=class{constructor(e){this._handler=e,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(e,t,r){this._hitLimit||(this._data+=(0,n.utf32ToString)(e,t,r),this._data.length>i.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(e){let t=!1;if(this._hitLimit)t=!1;else if(e&&(t=this._handler(this._data),t instanceof Promise))return t.then(e=>(this._data="",this._hitLimit=!1,e));return this._data="",this._hitLimit=!1,t}}},8742:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Params=void 0;const r=2147483647;class i{static fromArray(e){const t=new i;if(!e.length)return t;for(let r=Array.isArray(e[0])?1:0;r<e.length;++r){const i=e[r];if(Array.isArray(i))for(let e=0;e<i.length;++e)t.addSubParam(i[e]);else t.addParam(i)}return t}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32;if(this.maxLength=e,this.maxSubParamsLength=t,t>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(e),this.length=0,this._subParams=new Int32Array(t),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(e),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}clone(){const e=new i(this.maxLength,this.maxSubParamsLength);return e.params.set(this.params),e.length=this.length,e._subParams.set(this._subParams),e._subParamsLength=this._subParamsLength,e._subParamsIdx.set(this._subParamsIdx),e._rejectDigits=this._rejectDigits,e._rejectSubDigits=this._rejectSubDigits,e._digitIsSub=this._digitIsSub,e}toArray(){const e=[];for(let t=0;t<this.length;++t){e.push(this.params[t]);const r=this._subParamsIdx[t]>>8,i=255&this._subParamsIdx[t];i-r>0&&e.push(Array.prototype.slice.call(this._subParams,r,i))}return e}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(e){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(e<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=e>r?r:e}}addSubParam(e){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(e<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=e>r?r:e,this._subParamsIdx[this.length-1]++}}hasSubParams(e){return(255&this._subParamsIdx[e])-(this._subParamsIdx[e]>>8)>0}getSubParams(e){const t=this._subParamsIdx[e]>>8,r=255&this._subParamsIdx[e];return r-t>0?this._subParams.subarray(t,r):null}getSubParamsAll(){const e={};for(let t=0;t<this.length;++t){const r=this._subParamsIdx[t]>>8,i=255&this._subParamsIdx[t];i-r>0&&(e[t]=this._subParams.slice(r,i))}return e}addDigit(e){let t;if(this._rejectDigits||!(t=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const i=this._digitIsSub?this._subParams:this.params,n=i[t-1];i[t-1]=~n?Math.min(10*n+e,r):e}}t.Params=i},5741:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AddonManager=void 0,t.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let e=this._addons.length-1;e>=0;e--)this._addons[e].instance.dispose()}loadAddon(e,t){const r={instance:t,dispose:t.dispose,isDisposed:!1};this._addons.push(r),t.dispose=()=>this._wrappedAddonDispose(r),t.activate(e)}_wrappedAddonDispose(e){if(e.isDisposed)return;let t=-1;for(let r=0;r<this._addons.length;r++)if(this._addons[r]===e){t=r;break}if(-1===t)throw new Error("Could not dispose an addon that has not been loaded");e.isDisposed=!0,e.dispose.apply(e.instance),this._addons.splice(t,1)}}},8771:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BufferApiView=void 0;const i=r(3785),n=r(511);t.BufferApiView=class{constructor(e,t){this._buffer=e,this.type=t}init(e){return this._buffer=e,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(e){const t=this._buffer.lines.get(e);if(t)return new i.BufferLineApiView(t)}getNullCell(){return new n.CellData}}},3785:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BufferLineApiView=void 0;const i=r(511);t.BufferLineApiView=class{constructor(e){this._line=e}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(e,t){if(!(e<0||e>=this._line.length))return t?(this._line.loadCell(e,t),t):this._line.loadCell(e,new i.CellData)}translateToString(e,t,r){return this._line.translateToString(e,t,r)}}},8285:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BufferNamespaceApi=void 0;const i=r(8771),n=r(8460),s=r(844);class o extends s.Disposable{constructor(e){super(),this._core=e,this._onBufferChange=this.register(new n.EventEmitter),this.onBufferChange=this._onBufferChange.event,this._normal=new i.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new i.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(()=>this._onBufferChange.fire(this.active))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}t.BufferNamespaceApi=o},7975:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ParserApi=void 0,t.ParserApi=class{constructor(e){this._core=e}registerCsiHandler(e,t){return this._core.registerCsiHandler(e,e=>t(e.toArray()))}addCsiHandler(e,t){return this.registerCsiHandler(e,t)}registerDcsHandler(e,t){return this._core.registerDcsHandler(e,(e,r)=>t(e,r.toArray()))}addDcsHandler(e,t){return this.registerDcsHandler(e,t)}registerEscHandler(e,t){return this._core.registerEscHandler(e,t)}addEscHandler(e,t){return this.registerEscHandler(e,t)}registerOscHandler(e,t){return this._core.registerOscHandler(e,t)}addOscHandler(e,t){return this.registerOscHandler(e,t)}}},7090:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UnicodeApi=void 0,t.UnicodeApi=class{constructor(e){this._core=e}register(e){this._core.unicodeService.register(e)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(e){this._core.unicodeService.activeVersion=e}}},744:function(e,t,r){var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},n=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.BufferService=t.MINIMUM_ROWS=t.MINIMUM_COLS=void 0;const s=r(8460),o=r(844),a=r(5295),l=r(2585);t.MINIMUM_COLS=2,t.MINIMUM_ROWS=1;let c=t.BufferService=class extends o.Disposable{get buffer(){return this.buffers.active}constructor(e){super(),this.isUserScrolling=!1,this._onResize=this.register(new s.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new s.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(e.rawOptions.cols||0,t.MINIMUM_COLS),this.rows=Math.max(e.rawOptions.rows||0,t.MINIMUM_ROWS),this.buffers=this.register(new a.BufferSet(e,this))}resize(e,t){this.cols=e,this.rows=t,this.buffers.resize(e,t),this._onResize.fire({cols:e,rows:t})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=this.buffer;let i;i=this._cachedBlankLine,i&&i.length===this.cols&&i.getFg(0)===e.fg&&i.getBg(0)===e.bg||(i=r.getBlankLine(e,t),this._cachedBlankLine=i),i.isWrapped=t;const n=r.ybase+r.scrollTop,s=r.ybase+r.scrollBottom;if(0===r.scrollTop){const e=r.lines.isFull;s===r.lines.length-1?e?r.lines.recycle().copyFrom(i):r.lines.push(i.clone()):r.lines.splice(s+1,0,i.clone()),e?this.isUserScrolling&&(r.ydisp=Math.max(r.ydisp-1,0)):(r.ybase++,this.isUserScrolling||r.ydisp++)}else{const e=s-n+1;r.lines.shiftElements(n+1,e-1,-1),r.lines.set(s,i.clone())}this.isUserScrolling||(r.ydisp=r.ybase),this._onScroll.fire(r.ydisp)}scrollLines(e,t,r){const i=this.buffer;if(e<0){if(0===i.ydisp)return;this.isUserScrolling=!0}else e+i.ydisp>=i.ybase&&(this.isUserScrolling=!1);const n=i.ydisp;i.ydisp=Math.max(Math.min(i.ydisp+e,i.ybase),0),n!==i.ydisp&&(t||this._onScroll.fire(i.ydisp))}};t.BufferService=c=i([n(0,l.IOptionsService)],c)},7994:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CharsetService=void 0,t.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(e){this.glevel=e,this.charset=this._charsets[e]}setgCharset(e,t){this._charsets[e]=t,this.glevel===e&&(this.charset=t)}}},1753:function(e,t,r){var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},n=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CoreMouseService=void 0;const s=r(2585),o=r(8460),a=r(844),l={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:e=>4!==e.button&&1===e.action&&(e.ctrl=!1,e.alt=!1,e.shift=!1,!0)},VT200:{events:19,restrict:e=>32!==e.action},DRAG:{events:23,restrict:e=>32!==e.action||3!==e.button},ANY:{events:31,restrict:e=>!0}};function c(e,t){let r=(e.ctrl?16:0)|(e.shift?4:0)|(e.alt?8:0);return 4===e.button?(r|=64,r|=e.action):(r|=3&e.button,4&e.button&&(r|=64),8&e.button&&(r|=128),32===e.action?r|=32:0!==e.action||t||(r|=3)),r}const u=String.fromCharCode,h={DEFAULT:e=>{const t=[c(e,!1)+32,e.col+32,e.row+32];return t[0]>255||t[1]>255||t[2]>255?"":"\x1b[M".concat(u(t[0])).concat(u(t[1])).concat(u(t[2]))},SGR:e=>{const t=0===e.action&&4!==e.button?"m":"M";return"\x1b[<".concat(c(e,!0),";").concat(e.col,";").concat(e.row).concat(t)},SGR_PIXELS:e=>{const t=0===e.action&&4!==e.button?"m":"M";return"\x1b[<".concat(c(e,!0),";").concat(e.x,";").concat(e.y).concat(t)}};let d=t.CoreMouseService=class extends a.Disposable{constructor(e,t){super(),this._bufferService=e,this._coreService=t,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new o.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const r of Object.keys(l))this.addProtocol(r,l[r]);for(const r of Object.keys(h))this.addEncoding(r,h[r]);this.reset()}addProtocol(e,t){this._protocols[e]=t}addEncoding(e,t){this._encodings[e]=t}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return 0!==this._protocols[this._activeProtocol].events}set activeProtocol(e){if(!this._protocols[e])throw new Error('unknown protocol "'.concat(e,'"'));this._activeProtocol=e,this._onProtocolChange.fire(this._protocols[e].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(e){if(!this._encodings[e])throw new Error('unknown encoding "'.concat(e,'"'));this._activeEncoding=e}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(e){if(e.col<0||e.col>=this._bufferService.cols||e.row<0||e.row>=this._bufferService.rows)return!1;if(4===e.button&&32===e.action)return!1;if(3===e.button&&32!==e.action)return!1;if(4!==e.button&&(2===e.action||3===e.action))return!1;if(e.col++,e.row++,32===e.action&&this._lastEvent&&this._equalEvents(this._lastEvent,e,"SGR_PIXELS"===this._activeEncoding))return!1;if(!this._protocols[this._activeProtocol].restrict(e))return!1;const t=this._encodings[this._activeEncoding](e);return t&&("DEFAULT"===this._activeEncoding?this._coreService.triggerBinaryEvent(t):this._coreService.triggerDataEvent(t,!0)),this._lastEvent=e,!0}explainEvents(e){return{down:!!(1&e),up:!!(2&e),drag:!!(4&e),move:!!(8&e),wheel:!!(16&e)}}_equalEvents(e,t,r){if(r){if(e.x!==t.x)return!1;if(e.y!==t.y)return!1}else{if(e.col!==t.col)return!1;if(e.row!==t.row)return!1}return e.button===t.button&&e.action===t.action&&e.ctrl===t.ctrl&&e.alt===t.alt&&e.shift===t.shift}};t.CoreMouseService=d=i([n(0,s.IBufferService),n(1,s.ICoreService)],d)},6975:function(e,t,r){var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},n=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CoreService=void 0;const s=r(1439),o=r(8460),a=r(844),l=r(2585),c=Object.freeze({insertMode:!1}),u=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let h=t.CoreService=class extends a.Disposable{constructor(e,t,r){super(),this._bufferService=e,this._logService=t,this._optionsService=r,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new o.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new o.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new o.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new o.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,s.clone)(c),this.decPrivateModes=(0,s.clone)(u)}reset(){this.modes=(0,s.clone)(c),this.decPrivateModes=(0,s.clone)(u)}triggerDataEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this._optionsService.rawOptions.disableStdin)return;const r=this._bufferService.buffer;t&&this._optionsService.rawOptions.scrollOnUserInput&&r.ybase!==r.ydisp&&this._onRequestScrollToBottom.fire(),t&&this._onUserInput.fire(),this._logService.debug('sending data "'.concat(e,'"'),()=>e.split("").map(e=>e.charCodeAt(0))),this._onData.fire(e)}triggerBinaryEvent(e){this._optionsService.rawOptions.disableStdin||(this._logService.debug('sending binary "'.concat(e,'"'),()=>e.split("").map(e=>e.charCodeAt(0))),this._onBinary.fire(e))}};t.CoreService=h=i([n(0,l.IBufferService),n(1,l.ILogService),n(2,l.IOptionsService)],h)},9074:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DecorationService=void 0;const i=r(8055),n=r(8460),s=r(844),o=r(6106);let a=0,l=0;class c extends s.Disposable{get decorations(){return this._decorations.values()}constructor(){super(),this._decorations=new o.SortedList(e=>null==e?void 0:e.marker.line),this._onDecorationRegistered=this.register(new n.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new n.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,s.toDisposable)(()=>this.reset()))}registerDecoration(e){if(e.marker.isDisposed)return;const t=new u(e);if(t){const e=t.marker.onDispose(()=>t.dispose());t.onDispose(()=>{t&&(this._decorations.delete(t)&&this._onDecorationRemoved.fire(t),e.dispose())}),this._decorations.insert(t),this._onDecorationRegistered.fire(t)}return t}reset(){for(const e of this._decorations.values())e.dispose();this._decorations.clear()}*getDecorationsAtCell(e,t,r){var i,n,s;let o=0,a=0;for(const l of this._decorations.getKeyIterator(t))o=null!==(i=l.options.x)&&void 0!==i?i:0,a=o+(null!==(n=l.options.width)&&void 0!==n?n:1),e>=o&&e<a&&(!r||(null!==(s=l.options.layer)&&void 0!==s?s:"bottom")===r)&&(yield l)}forEachDecorationAtCell(e,t,r,i){this._decorations.forEachByKey(t,t=>{var n,s,o;a=null!==(n=t.options.x)&&void 0!==n?n:0,l=a+(null!==(s=t.options.width)&&void 0!==s?s:1),e>=a&&e<l&&(!r||(null!==(o=t.options.layer)&&void 0!==o?o:"bottom")===r)&&i(t)})}}t.DecorationService=c;class u extends s.Disposable{get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return null===this._cachedBg&&(this.options.backgroundColor?this._cachedBg=i.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return null===this._cachedFg&&(this.options.foregroundColor?this._cachedFg=i.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}constructor(e){super(),this.options=e,this.onRenderEmitter=this.register(new n.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new n.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=e.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.InstantiationService=t.ServiceCollection=void 0;const i=r(2585),n=r(8343);class s{constructor(){this._entries=new Map;for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(const[i,n]of t)this.set(i,n)}set(e,t){const r=this._entries.get(e);return this._entries.set(e,t),r}forEach(e){for(const[t,r]of this._entries.entries())e(t,r)}has(e){return this._entries.has(e)}get(e){return this._entries.get(e)}}t.ServiceCollection=s,t.InstantiationService=class{constructor(){this._services=new s,this._services.set(i.IInstantiationService,this)}setService(e,t){this._services.set(e,t)}getService(e){return this._services.get(e)}createInstance(e){const t=(0,n.getServiceDependencies)(e).sort((e,t)=>e.index-t.index),r=[];for(const n of t){const t=this._services.get(n.id);if(!t)throw new Error("[createInstance] ".concat(e.name," depends on UNKNOWN service ").concat(n.id,"."));r.push(t)}for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];const a=t.length>0?t[0].index:s.length;if(s.length!==a)throw new Error("[createInstance] First service dependency of ".concat(e.name," at position ").concat(a+1," conflicts with ").concat(s.length," static arguments"));return new e(...[...s,...r])}}},7866:function(e,t,r){var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},n=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.traceCall=t.setTraceLogger=t.LogService=void 0;const s=r(844),o=r(2585),a={trace:o.LogLevelEnum.TRACE,debug:o.LogLevelEnum.DEBUG,info:o.LogLevelEnum.INFO,warn:o.LogLevelEnum.WARN,error:o.LogLevelEnum.ERROR,off:o.LogLevelEnum.OFF};let l,c=t.LogService=class extends s.Disposable{get logLevel(){return this._logLevel}constructor(e){super(),this._optionsService=e,this._logLevel=o.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel())),l=this}_updateLogLevel(){this._logLevel=a[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(e){for(let t=0;t<e.length;t++)"function"==typeof e[t]&&(e[t]=e[t]())}_log(e,t,r){this._evalLazyOptionalParams(r),e.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+t,...r)}trace(e){for(var t,r,i=arguments.length,n=new Array(i>1?i-1:0),s=1;s<i;s++)n[s-1]=arguments[s];this._logLevel<=o.LogLevelEnum.TRACE&&this._log(null!==(r=null===(t=this._optionsService.options.logger)||void 0===t?void 0:t.trace.bind(this._optionsService.options.logger))&&void 0!==r?r:console.log,e,n)}debug(e){for(var t,r,i=arguments.length,n=new Array(i>1?i-1:0),s=1;s<i;s++)n[s-1]=arguments[s];this._logLevel<=o.LogLevelEnum.DEBUG&&this._log(null!==(r=null===(t=this._optionsService.options.logger)||void 0===t?void 0:t.debug.bind(this._optionsService.options.logger))&&void 0!==r?r:console.log,e,n)}info(e){for(var t,r,i=arguments.length,n=new Array(i>1?i-1:0),s=1;s<i;s++)n[s-1]=arguments[s];this._logLevel<=o.LogLevelEnum.INFO&&this._log(null!==(r=null===(t=this._optionsService.options.logger)||void 0===t?void 0:t.info.bind(this._optionsService.options.logger))&&void 0!==r?r:console.info,e,n)}warn(e){for(var t,r,i=arguments.length,n=new Array(i>1?i-1:0),s=1;s<i;s++)n[s-1]=arguments[s];this._logLevel<=o.LogLevelEnum.WARN&&this._log(null!==(r=null===(t=this._optionsService.options.logger)||void 0===t?void 0:t.warn.bind(this._optionsService.options.logger))&&void 0!==r?r:console.warn,e,n)}error(e){for(var t,r,i=arguments.length,n=new Array(i>1?i-1:0),s=1;s<i;s++)n[s-1]=arguments[s];this._logLevel<=o.LogLevelEnum.ERROR&&this._log(null!==(r=null===(t=this._optionsService.options.logger)||void 0===t?void 0:t.error.bind(this._optionsService.options.logger))&&void 0!==r?r:console.error,e,n)}};t.LogService=c=i([n(0,o.IOptionsService)],c),t.setTraceLogger=function(e){l=e},t.traceCall=function(e,t,r){if("function"!=typeof r.value)throw new Error("not supported");const i=r.value;r.value=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(l.logLevel!==o.LogLevelEnum.TRACE)return i.apply(this,t);l.trace("GlyphRenderer#".concat(i.name,"(").concat(t.map(e=>JSON.stringify(e)).join(", "),")"));const n=i.apply(this,t);return l.trace("GlyphRenderer#".concat(i.name," return"),n),n}}},7302:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OptionsService=t.DEFAULT_OPTIONS=void 0;const i=r(8460),n=r(844),s=r(6114);t.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:s.isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const o=["normal","bold","100","200","300","400","500","600","700","800","900"];class a extends n.Disposable{constructor(e){super(),this._onOptionChange=this.register(new i.EventEmitter),this.onOptionChange=this._onOptionChange.event;const r=Object.assign({},t.DEFAULT_OPTIONS);for(const t in e)if(t in r)try{const i=e[t];r[t]=this._sanitizeAndValidateOption(t,i)}catch(e){console.error(e)}this.rawOptions=r,this.options=Object.assign({},r),this._setupOptions()}onSpecificOptionChange(e,t){return this.onOptionChange(r=>{r===e&&t(this.rawOptions[e])})}onMultipleOptionChange(e,t){return this.onOptionChange(r=>{-1!==e.indexOf(r)&&t()})}_setupOptions(){const e=e=>{if(!(e in t.DEFAULT_OPTIONS))throw new Error('No option with key "'.concat(e,'"'));return this.rawOptions[e]},r=(e,r)=>{if(!(e in t.DEFAULT_OPTIONS))throw new Error('No option with key "'.concat(e,'"'));r=this._sanitizeAndValidateOption(e,r),this.rawOptions[e]!==r&&(this.rawOptions[e]=r,this._onOptionChange.fire(e))};for(const t in this.rawOptions){const i={get:e.bind(this,t),set:r.bind(this,t)};Object.defineProperty(this.options,t,i)}}_sanitizeAndValidateOption(e,r){switch(e){case"cursorStyle":if(r||(r=t.DEFAULT_OPTIONS[e]),!function(e){return"block"===e||"underline"===e||"bar"===e}(r))throw new Error('"'.concat(r,'" is not a valid value for ').concat(e));break;case"wordSeparator":r||(r=t.DEFAULT_OPTIONS[e]);break;case"fontWeight":case"fontWeightBold":if("number"==typeof r&&1<=r&&r<=1e3)break;r=o.includes(r)?r:t.DEFAULT_OPTIONS[e];break;case"cursorWidth":r=Math.floor(r);case"lineHeight":case"tabStopWidth":if(r<1)throw new Error("".concat(e," cannot be less than 1, value: ").concat(r));break;case"minimumContrastRatio":r=Math.max(1,Math.min(21,Math.round(10*r)/10));break;case"scrollback":if((r=Math.min(r,4294967295))<0)throw new Error("".concat(e," cannot be less than 0, value: ").concat(r));break;case"fastScrollSensitivity":case"scrollSensitivity":if(r<=0)throw new Error("".concat(e," cannot be less than or equal to 0, value: ").concat(r));break;case"rows":case"cols":if(!r&&0!==r)throw new Error("".concat(e," must be numeric, value: ").concat(r));break;case"windowsPty":r=null!=r?r:{}}return r}}t.OptionsService=a},2660:function(e,t,r){var i=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},n=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.OscLinkService=void 0;const s=r(2585);let o=t.OscLinkService=class{constructor(e){this._bufferService=e,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(e){const t=this._bufferService.buffer;if(void 0===e.id){const r=t.addMarker(t.ybase+t.y),i={data:e,id:this._nextId++,lines:[r]};return r.onDispose(()=>this._removeMarkerFromLink(i,r)),this._dataByLinkId.set(i.id,i),i.id}const r=e,i=this._getEntryIdKey(r),n=this._entriesWithId.get(i);if(n)return this.addLineToLink(n.id,t.ybase+t.y),n.id;const s=t.addMarker(t.ybase+t.y),o={id:this._nextId++,key:this._getEntryIdKey(r),data:r,lines:[s]};return s.onDispose(()=>this._removeMarkerFromLink(o,s)),this._entriesWithId.set(o.key,o),this._dataByLinkId.set(o.id,o),o.id}addLineToLink(e,t){const r=this._dataByLinkId.get(e);if(r&&r.lines.every(e=>e.line!==t)){const e=this._bufferService.buffer.addMarker(t);r.lines.push(e),e.onDispose(()=>this._removeMarkerFromLink(r,e))}}getLinkData(e){var t;return null===(t=this._dataByLinkId.get(e))||void 0===t?void 0:t.data}_getEntryIdKey(e){return"".concat(e.id,";;").concat(e.uri)}_removeMarkerFromLink(e,t){const r=e.lines.indexOf(t);-1!==r&&(e.lines.splice(r,1),0===e.lines.length&&(void 0!==e.data.id&&this._entriesWithId.delete(e.key),this._dataByLinkId.delete(e.id)))}};t.OscLinkService=o=i([n(0,s.IBufferService)],o)},8343:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createDecorator=t.getServiceDependencies=t.serviceRegistry=void 0;const r="di$target",i="di$dependencies";t.serviceRegistry=new Map,t.getServiceDependencies=function(e){return e[i]||[]},t.createDecorator=function(e){if(t.serviceRegistry.has(e))return t.serviceRegistry.get(e);const n=function(e,t,s){if(3!==arguments.length)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");!function(e,t,n){t[r]===t?t[i].push({id:e,index:n}):(t[i]=[{id:e,index:n}],t[r]=t)}(n,e,s)};return n.toString=()=>e,t.serviceRegistry.set(e,n),n}},2585:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.IDecorationService=t.IUnicodeService=t.IOscLinkService=t.IOptionsService=t.ILogService=t.LogLevelEnum=t.IInstantiationService=t.ICharsetService=t.ICoreService=t.ICoreMouseService=t.IBufferService=void 0;const i=r(8343);var n;t.IBufferService=(0,i.createDecorator)("BufferService"),t.ICoreMouseService=(0,i.createDecorator)("CoreMouseService"),t.ICoreService=(0,i.createDecorator)("CoreService"),t.ICharsetService=(0,i.createDecorator)("CharsetService"),t.IInstantiationService=(0,i.createDecorator)("InstantiationService"),function(e){e[e.TRACE=0]="TRACE",e[e.DEBUG=1]="DEBUG",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.OFF=5]="OFF"}(n||(t.LogLevelEnum=n={})),t.ILogService=(0,i.createDecorator)("LogService"),t.IOptionsService=(0,i.createDecorator)("OptionsService"),t.IOscLinkService=(0,i.createDecorator)("OscLinkService"),t.IUnicodeService=(0,i.createDecorator)("UnicodeService"),t.IDecorationService=(0,i.createDecorator)("DecorationService")},1480:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UnicodeService=void 0;const i=r(8460),n=r(225);t.UnicodeService=class{constructor(){this._providers=Object.create(null),this._active="",this._onChange=new i.EventEmitter,this.onChange=this._onChange.event;const e=new n.UnicodeV6;this.register(e),this._active=e.version,this._activeProvider=e}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(e){if(!this._providers[e])throw new Error('unknown Unicode version "'.concat(e,'"'));this._active=e,this._activeProvider=this._providers[e],this._onChange.fire(e)}register(e){this._providers[e.version]=e}wcwidth(e){return this._activeProvider.wcwidth(e)}getStringCellWidth(e){let t=0;const r=e.length;for(let i=0;i<r;++i){let n=e.charCodeAt(i);if(55296<=n&&n<=56319){if(++i>=r)return t+this.wcwidth(n);const s=e.charCodeAt(i);56320<=s&&s<=57343?n=1024*(n-55296)+s-56320+65536:t+=this.wcwidth(s)}t+=this.wcwidth(n)}return t}}}},t={};function r(i){var n=t[i];if(void 0!==n)return n.exports;var s=t[i]={exports:{}};return e[i].call(s.exports,s,s.exports,r),s.exports}var i={};return(()=>{var e=i;Object.defineProperty(e,"__esModule",{value:!0}),e.Terminal=void 0;const t=r(9042),n=r(3236),s=r(844),o=r(5741),a=r(8285),l=r(7975),c=r(7090),u=["cols","rows"];class h extends s.Disposable{constructor(e){super(),this._core=this.register(new n.Terminal(e)),this._addonManager=this.register(new o.AddonManager),this._publicOptions=Object.assign({},this._core.options);const t=e=>this._core.options[e],r=(e,t)=>{this._checkReadonlyOptions(e),this._core.options[e]=t};for(const i in this._core.options){const e={get:t.bind(this,i),set:r.bind(this,i)};Object.defineProperty(this._publicOptions,i,e)}}_checkReadonlyOptions(e){if(u.includes(e))throw new Error('Option "'.concat(e,'" can only be set in the constructor'))}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new l.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new c.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this.register(new a.BufferNamespaceApi(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const e=this._core.coreService.decPrivateModes;let t="none";switch(this._core.coreMouseService.activeProtocol){case"X10":t="x10";break;case"VT200":t="vt200";break;case"DRAG":t="drag";break;case"ANY":t="any"}return{applicationCursorKeysMode:e.applicationCursorKeys,applicationKeypadMode:e.applicationKeypad,bracketedPasteMode:e.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:t,originMode:e.origin,reverseWraparoundMode:e.reverseWraparound,sendFocusMode:e.sendFocus,wraparoundMode:e.wraparound}}get options(){return this._publicOptions}set options(e){for(const t in e)this._publicOptions[t]=e[t]}blur(){this._core.blur()}focus(){this._core.focus()}resize(e,t){this._verifyIntegers(e,t),this._core.resize(e,t)}open(e){this._core.open(e)}attachCustomKeyEventHandler(e){this._core.attachCustomKeyEventHandler(e)}registerLinkProvider(e){return this._core.registerLinkProvider(e)}registerCharacterJoiner(e){return this._checkProposedApi(),this._core.registerCharacterJoiner(e)}deregisterCharacterJoiner(e){this._checkProposedApi(),this._core.deregisterCharacterJoiner(e)}registerMarker(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this._verifyIntegers(e),this._core.registerMarker(e)}registerDecoration(e){var t,r,i;return this._checkProposedApi(),this._verifyPositiveIntegers(null!==(t=e.x)&&void 0!==t?t:0,null!==(r=e.width)&&void 0!==r?r:0,null!==(i=e.height)&&void 0!==i?i:0),this._core.registerDecoration(e)}hasSelection(){return this._core.hasSelection()}select(e,t,r){this._verifyIntegers(e,t,r),this._core.select(e,t,r)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(e,t){this._verifyIntegers(e,t),this._core.selectLines(e,t)}dispose(){super.dispose()}scrollLines(e){this._verifyIntegers(e),this._core.scrollLines(e)}scrollPages(e){this._verifyIntegers(e),this._core.scrollPages(e)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(e){this._verifyIntegers(e),this._core.scrollToLine(e)}clear(){this._core.clear()}write(e,t){this._core.write(e,t)}writeln(e,t){this._core.write(e),this._core.write("\r\n",t)}paste(e){this._core.paste(e)}refresh(e,t){this._verifyIntegers(e,t),this._core.refresh(e,t)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(e){this._addonManager.loadAddon(this,e)}static get strings(){return t}_verifyIntegers(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(const i of t)if(i===1/0||isNaN(i)||i%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(const i of t)if(i&&(i===1/0||isNaN(i)||i%1!=0||i<0))throw new Error("This API only accepts positive integers")}}e.Terminal=h})(),i})(),e.exports=t()},288:(e,t)=>{"use strict";var r=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,_={};function g(e,t,r){this.props=e,this.context=t,this.refs=_,this.updater=r||p}function v(){}function y(e,t,r){this.props=e,this.context=t,this.refs=_,this.updater=r||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=g.prototype;var b=y.prototype=new v;b.constructor=y,m(b,g.prototype),b.isPureReactComponent=!0;var S=Array.isArray,w={H:null,A:null,T:null,S:null,V:null},C=Object.prototype.hasOwnProperty;function k(e,t,i,n,s,o){return i=o.ref,{$$typeof:r,type:e,key:t,ref:void 0!==i?i:null,props:o}}function x(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var E=/\/+/g;function D(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function L(){}function R(e,t,n,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(a){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case r:case i:u=!0;break;case d:return R((u=e._init)(e._payload),t,n,s,o)}}if(u)return o=o(e),u=""===s?"."+D(e,0):s,S(o)?(n="",null!=u&&(n=u.replace(E,"$&/")+"/"),R(o,t,n,"",function(e){return e})):null!=o&&(x(o)&&(l=o,c=n+(null==o.key||e&&e.key===o.key?"":(""+o.key).replace(E,"$&/")+"/")+u,o=k(l.type,c,void 0,0,0,l.props)),t.push(o)),1;u=0;var h,p=""===s?".":s+":";if(S(e))for(var m=0;m<e.length;m++)u+=R(s=e[m],t,n,a=p+D(s,m),o);else if("function"===typeof(m=null===(h=e)||"object"!==typeof h?null:"function"===typeof(h=f&&h[f]||h["@@iterator"])?h:null))for(e=m.call(e),m=0;!(s=e.next()).done;)u+=R(s=s.value,t,n,a=p+D(s,m++),o);else if("object"===a){if("function"===typeof e.then)return R(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(L,L):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,n,s,o);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function T(e,t,r){if(null==e)return e;var i=[],n=0;return R(e,i,"","",function(e){return t.call(r,e,n++)}),i}function P(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function M(){}t.Children={map:T,forEach:function(e,t,r){T(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return T(e,function(){t++}),t},toArray:function(e){return T(e,function(e){return e})||[]},only:function(e){if(!x(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=n,t.Profiler=o,t.PureComponent=y,t.StrictMode=s,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return w.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var i=m({},e.props),n=e.key;if(null!=t)for(s in void 0!==t.ref&&void 0,void 0!==t.key&&(n=""+t.key),t)!C.call(t,s)||"key"===s||"__self"===s||"__source"===s||"ref"===s&&void 0===t.ref||(i[s]=t[s]);var s=arguments.length-2;if(1===s)i.children=r;else if(1<s){for(var o=Array(s),a=0;a<s;a++)o[a]=arguments[a+2];i.children=o}return k(e.type,n,void 0,0,0,i)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:a,_context:e},e},t.createElement=function(e,t,r){var i,n={},s=null;if(null!=t)for(i in void 0!==t.key&&(s=""+t.key),t)C.call(t,i)&&"key"!==i&&"__self"!==i&&"__source"!==i&&(n[i]=t[i]);var o=arguments.length-2;if(1===o)n.children=r;else if(1<o){for(var a=Array(o),l=0;l<o;l++)a[l]=arguments[l+2];n.children=a}if(e&&e.defaultProps)for(i in o=e.defaultProps)void 0===n[i]&&(n[i]=o[i]);return k(e,s,void 0,0,0,n)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=x,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=w.T,r={};w.T=r;try{var i=e(),n=w.S;null!==n&&n(r,i),"object"===typeof i&&null!==i&&"function"===typeof i.then&&i.then(M,A)}catch(s){A(s)}finally{w.T=t}},t.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},t.use=function(e){return w.H.use(e)},t.useActionState=function(e,t,r){return w.H.useActionState(e,t,r)},t.useCallback=function(e,t){return w.H.useCallback(e,t)},t.useContext=function(e){return w.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return w.H.useDeferredValue(e,t)},t.useEffect=function(e,t,r){var i=w.H;if("function"===typeof r)throw Error("useEffect CRUD overload is not enabled in this build of React.");return i.useEffect(e,t)},t.useId=function(){return w.H.useId()},t.useImperativeHandle=function(e,t,r){return w.H.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return w.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return w.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return w.H.useMemo(e,t)},t.useOptimistic=function(e,t){return w.H.useOptimistic(e,t)},t.useReducer=function(e,t,r){return w.H.useReducer(e,t,r)},t.useRef=function(e){return w.H.useRef(e)},t.useState=function(e){return w.H.useState(e)},t.useSyncExternalStore=function(e,t,r){return w.H.useSyncExternalStore(e,t,r)},t.useTransition=function(){return w.H.useTransition()},t.version="19.1.1"},391:(e,t,r)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(4)},579:(e,t,r)=>{"use strict";e.exports=r(799)},672:(e,t,r)=>{"use strict";var i=r(43);function n(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var o={d:{f:s,r:function(){throw Error(n(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},a=Symbol.for("react.portal");var l=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,t.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(n(299));return function(e,t,r){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:a,key:null==i?null:""+i,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},t.flushSync=function(e){var t=l.T,r=o.p;try{if(l.T=null,o.p=2,e)return e()}finally{l.T=t,o.p=r,o.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,o.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&o.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var r=t.as,i=c(r,t.crossOrigin),n="string"===typeof t.integrity?t.integrity:void 0,s="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===r?o.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:i,integrity:n,fetchPriority:s}):"script"===r&&o.d.X(e,{crossOrigin:i,integrity:n,fetchPriority:s,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var r=c(t.as,t.crossOrigin);o.d.M(e,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&o.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var r=t.as,i=c(r,t.crossOrigin);o.d.L(e,r,{crossOrigin:i,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var r=c(t.as,t.crossOrigin);o.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else o.d.m(e)},t.requestFormReset=function(e){o.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,r){return l.H.useFormState(e,t,r)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.1"},799:(e,t)=>{"use strict";var r=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function n(e,t,i){var n=null;if(void 0!==i&&(n=""+i),void 0!==t.key&&(n=""+t.key),"key"in t)for(var s in i={},t)"key"!==s&&(i[s]=t[s]);else i=t;return t=i.ref,{$$typeof:r,type:e,key:n,ref:void 0!==t?t:null,props:i}}t.Fragment=i,t.jsx=n,t.jsxs=n},853:(e,t,r)=>{"use strict";e.exports=r(896)},896:(e,t)=>{"use strict";function r(e,t){var r=e.length;e.push(t);e:for(;0<r;){var i=r-1>>>1,n=e[i];if(!(0<s(n,t)))break e;e[i]=t,e[r]=n,r=i}}function i(e){return 0===e.length?null:e[0]}function n(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var i=0,n=e.length,o=n>>>1;i<o;){var a=2*(i+1)-1,l=e[a],c=a+1,u=e[c];if(0>s(l,r))c<n&&0>s(u,l)?(e[i]=u,e[c]=r,i=c):(e[i]=l,e[a]=r,i=a);else{if(!(c<n&&0>s(u,r)))break e;e[i]=u,e[c]=r,i=c}}}return t}function s(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,m=!1,_=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function S(e){for(var t=i(u);null!==t;){if(null===t.callback)n(u);else{if(!(t.startTime<=e))break;n(u),t.sortIndex=t.expirationTime,r(c,t)}t=i(u)}}function w(e){if(_=!1,S(e),!m)if(null!==i(c))m=!0,k||(k=!0,C());else{var t=i(u);null!==t&&A(w,t.startTime-e)}}var C,k=!1,x=-1,E=5,D=-1;function L(){return!!g||!(t.unstable_now()-D<E)}function R(){if(g=!1,k){var e=t.unstable_now();D=e;var r=!0;try{e:{m=!1,_&&(_=!1,y(x),x=-1),p=!0;var s=f;try{t:{for(S(e),d=i(c);null!==d&&!(d.expirationTime>e&&L());){var o=d.callback;if("function"===typeof o){d.callback=null,f=d.priorityLevel;var a=o(d.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof a){d.callback=a,S(e),r=!0;break t}d===i(c)&&n(c),S(e)}else n(c);d=i(c)}if(null!==d)r=!0;else{var l=i(u);null!==l&&A(w,l.startTime-e),r=!1}}break e}finally{d=null,f=s,p=!1}r=void 0}}finally{r?C():k=!1}}}if("function"===typeof b)C=function(){b(R)};else if("undefined"!==typeof MessageChannel){var T=new MessageChannel,P=T.port2;T.port1.onmessage=R,C=function(){P.postMessage(null)}}else C=function(){v(R,0)};function A(e,r){x=v(function(){e(t.unstable_now())},r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var r=f;f=t;try{return e()}finally{f=r}},t.unstable_requestPaint=function(){g=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=f;f=e;try{return t()}finally{f=r}},t.unstable_scheduleCallback=function(e,n,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:n,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,r(u,e),null===i(c)&&e===i(u)&&(_?(y(x),x=-1):_=!0,A(w,s-o))):(e.sortIndex=a,r(c,e),m||p||(m=!0,k||(k=!0,C()))),e},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(e){var t=f;return function(){var r=f;f=t;try{return e.apply(this,arguments)}finally{f=r}}}},950:(e,t,r)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(672)}},t={};function r(i){var n=t[i];if(void 0!==n)return n.exports;var s=t[i]={exports:{}};return e[i](s,s.exports,r),s.exports}r.m=e,r.d=(e,t)=>{for(var i in t)r.o(t,i)&&!r.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce((t,i)=>(r.f[i](e,t),t),[])),r.u=e=>"static/js/"+e+".bd5b9ad0.chunk.js",r.miniCssF=e=>{},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="linux-mastery-game:";r.l=(i,n,s,o)=>{if(e[i])e[i].push(n);else{var a,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var h=c[u];if(h.getAttribute("src")==i||h.getAttribute("data-webpack")==t+s){a=h;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,r.nc&&a.setAttribute("nonce",r.nc),a.setAttribute("data-webpack",t+s),a.src=i),e[i]=[n];var d=(t,r)=>{a.onerror=a.onload=null,clearTimeout(f);var n=e[i];if(delete e[i],a.parentNode&&a.parentNode.removeChild(a),n&&n.forEach(e=>e(r)),t)return t(r)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="/linux-mastery-game/",(()=>{var e={792:0};r.f.j=(t,i)=>{var n=r.o(e,t)?e[t]:void 0;if(0!==n)if(n)i.push(n[2]);else{var s=new Promise((r,i)=>n=e[t]=[r,i]);i.push(n[2]=s);var o=r.p+r.u(t),a=new Error;r.l(o,i=>{if(r.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var s=i&&("load"===i.type?"missing":i.type),o=i&&i.target&&i.target.src;a.message="Loading chunk "+t+" failed.\n("+s+": "+o+")",a.name="ChunkLoadError",a.type=s,a.request=o,n[1](a)}},"chunk-"+t,t)}};var t=(t,i)=>{var n,s,o=i[0],a=i[1],l=i[2],c=0;if(o.some(t=>0!==e[t])){for(n in a)r.o(a,n)&&(r.m[n]=a[n]);if(l)l(r)}for(t&&t(i);c<o.length;c++)s=o[c],r.o(e,s)&&e[s]&&e[s][0](),e[s]=0},i=self.webpackChunklinux_mastery_game=self.webpackChunklinux_mastery_game||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})(),(()=>{"use strict";var e=r(43),t=r(391);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function n(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}function s(e,t,r){return(t=n(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,i)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){s(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var l=r(104),c=r(579);const u=t=>{let{onCommand:r,currentDirectory:i="/home/user",challenge:n,theme:s="matrix",fontSize:o=14}=t;const a=(0,e.useRef)(null),u=(0,e.useRef)(null),[h,d]=(0,e.useState)(!1),[f,p]=(0,e.useState)([]),m=(0,e.useRef)(null),[_,g]=(0,e.useState)(!1),v=((0,e.useRef)(null),(0,e.useRef)(null)),y={matrix:{bg:"#0a0a0a",fg:"#00ff00",cursor:"#00ff00"},dracula:{bg:"#282a36",fg:"#f8f8f2",cursor:"#ff79c6"},monokai:{bg:"#272822",fg:"#f8f8f2",cursor:"#f92672"},solarized:{bg:"#002b36",fg:"#839496",cursor:"#268bd2"},ocean:{bg:"#001220",fg:"#00ccff",cursor:"#00ccff"},amber:{bg:"#1a1100",fg:"#ffb000",cursor:"#ffb000"},cyberpunk:{bg:"#0d0208",fg:"#ff006e",cursor:"#8338ec"},retro:{bg:"#000000",fg:"#33ff00",cursor:"#33ff00"}},b=y[s]||y.matrix,S=(0,e.useCallback)((e,t)=>{e&&e.write("\x1b[1;32muser@linux\x1b[0m:\x1b[1;34m".concat(t,"\x1b[0m$ "))},[]),w=(0,e.useCallback)((e,t)=>{if(e&&t)for(let r=0;r<t.length;r++)e.write("\b \b")},[]),C=(0,e.useCallback)(e=>{e&&n&&(e.writeln("\x1b[1;33m"+"\u2500".repeat(60)+"\x1b[0m"),e.writeln("\x1b[1;36m\ud83d\udccb CURRENT CHALLENGE:\x1b[0m"),e.writeln("\x1b[1;32m"+n.title+"\x1b[0m"),e.writeln(""),e.writeln("\x1b[1;37m"+n.description+"\x1b[0m"),n.story&&(e.writeln(""),e.writeln("\x1b[1;33mScenario:\x1b[0m "+n.story.setup),e.writeln("\x1b[1;33mRole:\x1b[0m "+n.story.character),e.writeln("\x1b[1;31mStakes:\x1b[0m "+n.story.stakes)),n.technical&&(e.writeln(""),e.writeln("\x1b[1;36mObjective:\x1b[0m "+n.technical.objective)),e.writeln(""),_?n.hint&&e.writeln("\x1b[1;33m\ud83d\udca1 Hint:\x1b[0m "+n.hint):e.writeln('\x1b[1;90mType "hint" to see a hint\x1b[0m'),e.writeln("\x1b[1;33m"+"\u2500".repeat(60)+"\x1b[0m"),e.writeln(""))},[n,_]),k=(0,e.useCallback)(e=>{if("hint"===e.toLowerCase())return g(!0),void(u.current&&(n&&n.hint?u.current.writeln("\x1b[1;33m\ud83d\udca1 Hint:\x1b[0m "+n.hint):u.current.writeln("No hint available for this challenge"),S(u.current,i)));if("clear"!==e.toLowerCase())if(r){const t=r(e);console.log("Terminal received result:",t),t&&t.output&&u.current&&u.current.writeln(t.output),t&&"incorrect"===t.challengeResult&&u.current?(console.log("Showing incorrect message:",t.incorrectMessage),u.current.writeln(""),u.current.writeln("\x1b[1;31m"+(t.incorrectMessage||"\u274c Incorrect answer. Try again!")+"\x1b[0m"),u.current.writeln(""),v.current&&clearTimeout(v.current),v.current=setTimeout(()=>{u.current&&u.current.focus()},100)):t&&"success"===t.challengeResult&&u.current&&(u.current.writeln(""),u.current.writeln("\x1b[1;32m\u2705 Correct! Well done!\x1b[0m"),u.current.writeln("")),u.current&&S(u.current,(null===t||void 0===t?void 0:t.newDirectory)||i)}else u.current&&(u.current.writeln("Command not recognized: ".concat(e)),S(u.current,i));else u.current&&(u.current.clear(),C(u.current),S(u.current,i))},[r,i,S,n,C]),x=(0,e.useCallback)(()=>{if(m.current&&clearTimeout(m.current),!a.current)return console.warn("Terminal container not available"),!1;const e=a.current.getBoundingClientRect();if(0===e.width||0===e.height)return console.warn("Terminal container has zero dimensions"),!1;try{if(u.current){try{u.current.dispose()}catch(t){console.warn("Error disposing terminal:",t)}u.current=null}const r=Math.floor(e.width/9)||80,n=Math.floor(e.height/17)||24,s=new l.Terminal({cursorBlink:!0,fontSize:o,fontFamily:'Monaco, Menlo, "Ubuntu Mono", monospace',theme:{background:b.bg,foreground:b.fg,cursor:b.cursor,selection:"".concat(b.cursor,"33")},cols:r,rows:n,scrollback:1e3,disableStdin:!1});s.open(a.current),s.focus(),u.current=s,s.writeln("\x1b[1;32m\ud83d\udc27 Linux Mastery Game Terminal\x1b[0m"),s.writeln('Type "help" to see available commands'),s.writeln(""),C(s),S(s,i);let c="",h=-1;s.onData(e=>{const t=e.charCodeAt(0);if(13===t){const e=c.trim();e&&(p(t=>[...t,e]),h=-1),s.write("\r\n"),k(e),c=""}else if(127===t)c.length>0&&(c=c.slice(0,-1),s.write("\b \b"));else if(27===t){const t=e.slice(1);"[A"===t&&f.length>0?(h=-1===h?f.length-1:Math.max(0,h-1),w(s,c),c=f[h]||"",s.write(c)):"[B"===t&&h>=0&&(h=Math.min(f.length-1,h+1),w(s,c),h<f.length?c=f[h]||"":(c="",h=-1),s.write(c))}else if(9===t){const e=c.split(" "),t=e[e.length-1],r=["ls","cd","pwd","cat","echo","grep","find","mkdir","touch","rm","cp","mv","head","tail","wc","chmod","ps","sort","uniq","df","du","which","whoami","date","clear","help","man","history","env","export","hint"];if(1===e.length&&t.length>0){const e=r.filter(e=>e.startsWith(t));if(1===e.length){const r=e[0].slice(t.length);c+=r,s.write(r)}else e.length>1&&(s.write("\r\n"),s.write(e.join("  ")),s.write("\r\n"),S(s,i),s.write(c))}}else 3===t?(s.write("^C\r\n"),S(s,i),c=""):t>=32&&(c+=e,s.write(e))});return d(!0),console.log("Terminal initialized successfully"),!0}catch(r){return console.error("Terminal initialization failed:",r),d(!1),!1}},[i,S,k,w,f,C,b,o]);return(0,e.useEffect)(()=>{const e=()=>{x()||(m.current=setTimeout(()=>{u.current||e()},100))};return m.current=setTimeout(e,0),()=>{m.current&&clearTimeout(m.current),v.current&&clearTimeout(v.current),u.current&&(u.current.dispose(),u.current=null)}},[x,s,o]),(0,e.useEffect)(()=>{u.current&&n&&(g(!1),u.current.clear(),u.current.writeln("\x1b[1;32m\ud83d\udc27 New Challenge Loaded!\x1b[0m"),u.current.writeln(""),C(u.current),S(u.current,i))},[n,C,S,i]),(0,e.useEffect)(()=>{const e=()=>{u.current&&h&&a.current&&setTimeout(()=>{try{const e=a.current.getBoundingClientRect();if(e.width>0&&e.height>0){const t=Math.floor(e.width/9)||80,r=Math.floor(e.height/17)||24;u.current.cols===t&&u.current.rows===r||u.current.resize(t,r)}}catch(e){console.warn("Resize failed, keeping current size")}},150)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[h]),(0,c.jsxs)("div",{style:{width:"100%",height:"100%",backgroundColor:b.bg,padding:"10px",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.3)",display:"flex",minHeight:"400px",position:"relative"},children:[!h&&(0,c.jsx)("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:b.fg,fontSize:"".concat(o,"px")},children:"Initializing terminal..."}),(0,c.jsx)("div",{ref:a,style:{flex:1,height:"100%",minWidth:"300px",minHeight:"200px",opacity:h?1:.3,transition:"opacity 0.3s"}})]})},h=e=>{let{challenges:t,currentChallenge:r,completedChallenges:i,onSelectChallenge:n}=e;return(0,c.jsxs)("div",{className:"challenge-list",children:[(0,c.jsx)("h3",{children:"Challenges"}),(0,c.jsx)("div",{className:"challenge-items",children:t.map(e=>{const t=i.includes(e.id),s=(null===r||void 0===r?void 0:r.id)===e.id;return(0,c.jsxs)("div",{className:"challenge-item ".concat(t?"completed":""," ").concat(s?"current":""),onClick:()=>n(e),children:[(0,c.jsx)("span",{className:"challenge-status",children:t?"\u2705":s?"\u25b6\ufe0f":"\u25cb"}),(0,c.jsx)("span",{className:"challenge-title",children:e.title})]},e.id)})}),(0,c.jsxs)("div",{className:"challenge-progress",children:["Progress: ",i.length," / ",t.length," completed"]})]})},d={NOVICE:{name:"The Shell Awakening",minXP:0,maxXP:100,narrative:"You've discovered the terminal. Master basic navigation.",coreSkills:["pwd","ls","cd","mkdir","cp","mv","rm"],bossFight:"The Filesystem Maze",unlock:"Custom prompt colors + Apprentice challenges",badge:"\ud83d\udc23",color:"#4ade80"},APPRENTICE:{name:"The Text Warrior",minXP:101,maxXP:500,narrative:"Text is your weapon. Master data manipulation.",coreSkills:["grep","sed","awk","find","xargs","pipes"],bossFight:"The Log Monster",unlock:"Command aliases + Advanced regex challenges",badge:"\u2694\ufe0f",color:"#60a5fa"},PRACTITIONER:{name:"The Automation Mage",minXP:501,maxXP:1500,narrative:"Scripts are your spells. Automate everything.",coreSkills:["bash scripting","cron","systemd","process management"],bossFight:"The Chaos Daemon",unlock:"Script library + Custom automation challenges",badge:"\ud83e\uddd9",color:"#a78bfa"},ADVANCED:{name:"The System Guardian",minXP:1501,maxXP:5e3,narrative:"Protect and serve. Master security and performance.",coreSkills:["docker","iptables","selinux","monitoring","networking"],bossFight:"The Breach",unlock:"Security toolkit + Cloud lab access",badge:"\ud83d\udee1\ufe0f",color:"#f59e0b"},EXPERT:{name:"The Infrastructure Architect",minXP:5001,maxXP:1e4,narrative:"Build worlds. Master cloud and orchestration.",coreSkills:["kubernetes","terraform","ansible","CI/CD","monitoring"],bossFight:"The Scale Dragon",unlock:"Architecture templates + Mentor status",badge:"\ud83c\udfd7\ufe0f",color:"#ef4444"},MASTER:{name:"The Kernel Sage",minXP:10001,maxXP:1/0,narrative:"Shape the future. Contribute to Linux itself.",coreSkills:["kernel modules","performance tuning","custom distros"],bossFight:"The Upstream",unlock:"Hall of Fame + Lifetime premium",badge:"\ud83d\udc51",color:"#fbbf24"}},f={FIRST_COMMAND:{id:"first_command",name:"Hello World",description:"Execute your first command",icon:"\ud83c\udfaf",xp:10},SPEED_DEMON:{id:"speed_demon",name:"Speed Demon",description:"Complete a challenge in under 30 seconds",icon:"\u26a1",xp:50},PERFECT_WEEK:{id:"perfect_week",name:"Perfect Week",description:"Complete daily quests for 7 days straight",icon:"\ud83d\udd25",xp:100},NO_HINTS:{id:"no_hints",name:"Pure Skill",description:"Complete 10 challenges without using hints",icon:"\ud83e\udde0",xp:75},NIGHT_OWL:{id:"night_owl",name:"Night Owl",description:"Complete challenges after midnight",icon:"\ud83e\udd89",xp:25},HELPER:{id:"helper",name:"Community Helper",description:"Help another player in guild chat",icon:"\ud83e\udd1d",xp:30},EXPLORER:{id:"explorer",name:"Explorer",description:"Try all available commands",icon:"\ud83d\uddfa\ufe0f",xp:40},STREAK_10:{id:"streak_10",name:"Unstoppable",description:"Maintain a 10-day streak",icon:"\ud83d\udcaa",xp:150}};const p=new class{constructor(){this.playerData=this.loadPlayerData()}loadPlayerData(){const e=localStorage.getItem("playerData");return e?JSON.parse(e):{username:"Player",xp:0,level:1,rank:"NOVICE",achievements:[],badges:[],streak:0,lastPlayed:null,stats:{commandsExecuted:0,challengesCompleted:0,totalPlayTime:0,favoriteCommand:null,fastestChallenge:null},equipment:{shell:"bash",terminal:"basic",theme:"matrix_green"},inventory:{hints:3,xpBoosts:0,timeFreeze:0}}}savePlayerData(){localStorage.setItem("playerData",JSON.stringify(this.playerData))}addXP(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const r=this.playerData.rank;this.playerData.xp+=e;const i=this.calculateRank(this.playerData.xp);return i!==r&&(this.playerData.rank=i,this.onRankUp(r,i)),this.playerData.level=Math.floor(this.playerData.xp/50)+1,this.savePlayerData(),{xpGained:e,totalXP:this.playerData.xp,level:this.playerData.level,rank:this.playerData.rank,reason:t,rankChanged:i!==r}}calculateRank(e){for(const[t,r]of Object.entries(d))if(e>=r.minXP&&e<=r.maxXP)return t;return"MASTER"}onRankUp(e,t){const r={type:"RANK_UP",title:"Rank Up! Welcome to ".concat(d[t].name),message:d[t].narrative,rewards:d[t].unlock,badge:d[t].badge};this.storeNotification(r)}unlockAchievement(e){if(this.playerData.achievements.includes(e))return null;const t=f[e];return t?(this.playerData.achievements.push(e),this.addXP(t.xp,"Achievement: ".concat(t.name)),this.savePlayerData(),{achievement:t,xpGained:t.xp}):null}updateStreak(){const e=(new Date).toDateString(),t=this.playerData.lastPlayed;if(t){const r=new Date(t),i=new Date;i.setDate(i.getDate()-1),r.toDateString()===i.toDateString()?(this.playerData.streak++,7===this.playerData.streak?this.unlockAchievement("PERFECT_WEEK"):10===this.playerData.streak&&this.unlockAchievement("STREAK_10")):r.toDateString()!==e&&(this.playerData.streak=1)}else this.playerData.streak=1;return this.playerData.lastPlayed=(new Date).toISOString(),this.savePlayerData(),this.playerData.streak}calculateXPMultiplier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=1;return e.noHints&&(t+=.5),e.timeBonus&&(t+=.3),this.playerData.streak>0&&(t+=Math.min(.05*this.playerData.streak,.5)),"bash"!==this.playerData.equipment.shell&&(t+=.1),this.playerData.inventory.xpBoosts>0&&(t*=2,this.playerData.inventory.xpBoosts--),t}getProgressToNextRank(){const e=d[this.playerData.rank],t=this.playerData.xp-e.minXP,r=e.maxXP-e.minXP;return{current:t,needed:r,percentage:t/r*100}}getDailyQuest(){const e=[{id:"daily_commands",title:"Command Master",description:"Execute 20 different commands",xp:50,progress:0,target:20},{id:"daily_challenges",title:"Challenge Accepted",description:"Complete 5 challenges",xp:75,progress:0,target:5},{id:"daily_perfect",title:"Perfectionist",description:"Complete 3 challenges without hints",xp:100,progress:0,target:3}];return e[(new Date).getDate()%e.length]}storeNotification(e){const t=JSON.parse(localStorage.getItem("notifications")||"[]");t.push(a(a({},e),{},{timestamp:(new Date).toISOString(),read:!1})),localStorage.setItem("notifications",JSON.stringify(t))}getLeaderboard(){return[{username:"LinuxNinja",xp:8500,rank:"EXPERT"},{username:"ShellMaster",xp:6200,rank:"ADVANCED"},{username:"CommanderBash",xp:4800,rank:"ADVANCED"},{username:this.playerData.username,xp:this.playerData.xp,rank:this.playerData.rank},{username:"TerminalHero",xp:2100,rank:"PRACTITIONER"},{username:"ScriptKid",xp:750,rank:"APPRENTICE"}].sort((e,t)=>t.xp-e.xp)}},m=e=>{let{playerData:t,onClose:r}=e;const i=d[t.rank],n=(t.xp-i.minXP)/(i.maxXP-i.minXP)*100;return(0,c.jsxs)("div",{className:"player-profile",children:[(0,c.jsxs)("div",{className:"profile-header",children:[(0,c.jsx)("div",{className:"profile-avatar",children:(0,c.jsx)("div",{className:"rank-badge",style:{backgroundColor:i.color},children:i.badge})}),(0,c.jsxs)("div",{className:"profile-info",children:[(0,c.jsx)("h2",{children:t.username}),(0,c.jsx)("div",{className:"rank-title",children:i.name}),(0,c.jsxs)("div",{className:"level-info",children:["Level ",t.level]})]}),(0,c.jsx)("button",{className:"close-btn",onClick:r,children:"\u2715"})]}),(0,c.jsxs)("div",{className:"xp-section",children:[(0,c.jsxs)("div",{className:"xp-bar-container",children:[(0,c.jsx)("div",{className:"xp-bar",style:{width:"".concat(n,"%")}}),(0,c.jsxs)("div",{className:"xp-text",children:[t.xp," / ",i.maxXP," XP"]})]}),(0,c.jsx)("p",{className:"rank-narrative",children:i.narrative})]}),(0,c.jsxs)("div",{className:"stats-grid",children:[(0,c.jsxs)("div",{className:"stat-card",children:[(0,c.jsx)("div",{className:"stat-value",children:t.stats.commandsExecuted}),(0,c.jsx)("div",{className:"stat-label",children:"Commands"})]}),(0,c.jsxs)("div",{className:"stat-card",children:[(0,c.jsx)("div",{className:"stat-value",children:t.stats.challengesCompleted}),(0,c.jsx)("div",{className:"stat-label",children:"Challenges"})]}),(0,c.jsxs)("div",{className:"stat-card",children:[(0,c.jsxs)("div",{className:"stat-value",children:[t.streak,"\ud83d\udd25"]}),(0,c.jsx)("div",{className:"stat-label",children:"Day Streak"})]}),(0,c.jsxs)("div",{className:"stat-card",children:[(0,c.jsx)("div",{className:"stat-value",children:t.achievements.length}),(0,c.jsx)("div",{className:"stat-label",children:"Achievements"})]})]}),(0,c.jsxs)("div",{className:"equipment-section",children:[(0,c.jsx)("h3",{children:"Equipment"}),(0,c.jsxs)("div",{className:"equipment-grid",children:[(0,c.jsxs)("div",{className:"equipment-item",children:[(0,c.jsx)("span",{className:"equipment-icon",children:"\ud83d\udda5\ufe0f"}),(0,c.jsxs)("span",{className:"equipment-name",children:["Shell: ",t.equipment.shell]})]}),(0,c.jsxs)("div",{className:"equipment-item",children:[(0,c.jsx)("span",{className:"equipment-icon",children:"\ud83d\udcbb"}),(0,c.jsxs)("span",{className:"equipment-name",children:["Terminal: ",t.equipment.terminal]})]}),(0,c.jsxs)("div",{className:"equipment-item",children:[(0,c.jsx)("span",{className:"equipment-icon",children:"\ud83c\udfa8"}),(0,c.jsxs)("span",{className:"equipment-name",children:["Theme: ",t.equipment.theme]})]})]})]}),(0,c.jsxs)("div",{className:"inventory-section",children:[(0,c.jsx)("h3",{children:"Inventory"}),(0,c.jsxs)("div",{className:"inventory-grid",children:[(0,c.jsxs)("div",{className:"inventory-item",children:[(0,c.jsx)("span",{className:"item-count",children:t.inventory.hints}),(0,c.jsx)("span",{className:"item-name",children:"Hints"})]}),(0,c.jsxs)("div",{className:"inventory-item",children:[(0,c.jsx)("span",{className:"item-count",children:t.inventory.xpBoosts}),(0,c.jsx)("span",{className:"item-name",children:"XP Boosts"})]}),(0,c.jsxs)("div",{className:"inventory-item",children:[(0,c.jsx)("span",{className:"item-count",children:t.inventory.timeFreeze}),(0,c.jsx)("span",{className:"item-name",children:"Time Freeze"})]})]})]}),(0,c.jsxs)("div",{className:"core-skills",children:[(0,c.jsx)("h3",{children:"Core Skills to Master"}),(0,c.jsx)("div",{className:"skills-list",children:i.coreSkills.map((e,t)=>(0,c.jsx)("span",{className:"skill-badge",children:e},t))})]}),(0,c.jsxs)("div",{className:"next-unlock",children:[(0,c.jsx)("h3",{children:"Next Unlock"}),(0,c.jsx)("p",{children:i.unlock})]})]})},_=e=>{let{players:t,currentPlayer:r,onClose:i}=e;return(0,c.jsxs)("div",{className:"leaderboard",children:[(0,c.jsxs)("div",{className:"leaderboard-header",children:[(0,c.jsx)("h2",{children:"\ud83c\udfc6 Global Leaderboard"}),(0,c.jsx)("button",{className:"close-btn",onClick:i,children:"\u2715"})]}),(0,c.jsxs)("div",{className:"leaderboard-tabs",children:[(0,c.jsx)("button",{className:"tab-btn active",children:"Global"}),(0,c.jsx)("button",{className:"tab-btn",children:"Friends"}),(0,c.jsx)("button",{className:"tab-btn",children:"Guild"})]}),(0,c.jsx)("div",{className:"leaderboard-list",children:t.map((e,t)=>{const i=e.username===r,n=d[e.rank];return(0,c.jsxs)("div",{className:"leaderboard-item ".concat(i?"current-player":""),children:[(0,c.jsxs)("div",{className:"rank-position",children:[0===t&&"\ud83e\udd47",1===t&&"\ud83e\udd48",2===t&&"\ud83e\udd49",t>2&&"#".concat(t+1)]}),(0,c.jsxs)("div",{className:"player-info",children:[(0,c.jsx)("span",{className:"player-badge",style:{color:n.color},children:n.badge}),(0,c.jsx)("span",{className:"player-name",children:e.username}),i&&(0,c.jsx)("span",{className:"you-badge",children:"YOU"})]}),(0,c.jsxs)("div",{className:"player-stats",children:[(0,c.jsx)("span",{className:"player-rank",children:n.name}),(0,c.jsxs)("span",{className:"player-xp",children:[e.xp.toLocaleString()," XP"]})]})]},t)})}),(0,c.jsxs)("div",{className:"leaderboard-footer",children:[(0,c.jsx)("p",{children:"Rankings update every hour"}),(0,c.jsx)("p",{children:"Season ends in: 23d 14h 32m"})]})]})},g=t=>{let{quest:r,onClaim:i}=t;const[n,s]=(0,e.useState)("");(0,e.useEffect)(()=>{const e=()=>{const e=new Date,t=new Date;t.setDate(t.getDate()+1),t.setHours(0,0,0,0);const r=t-e,i=Math.floor(r/36e5),n=Math.floor(r%36e5/6e4);s("".concat(i,"h ").concat(n,"m"))};e();const t=setInterval(e,6e4);return()=>clearInterval(t)},[]);const o=r.progress/r.target*100,a=r.progress>=r.target;return(0,c.jsxs)("div",{className:"daily-quest",children:[(0,c.jsxs)("div",{className:"quest-header",children:[(0,c.jsx)("h3",{children:"\ud83d\udcc5 Daily Quest"}),(0,c.jsxs)("span",{className:"time-left",children:["Resets in: ",n]})]}),(0,c.jsxs)("div",{className:"quest-content",children:[(0,c.jsx)("h4",{children:r.title}),(0,c.jsx)("p",{children:r.description}),(0,c.jsx)("div",{className:"quest-progress",children:(0,c.jsxs)("div",{className:"progress-bar-container",children:[(0,c.jsx)("div",{className:"progress-bar quest-bar",style:{width:"".concat(Math.min(o,100),"%")}}),(0,c.jsxs)("div",{className:"progress-text",children:[r.progress," / ",r.target]})]})}),(0,c.jsxs)("div",{className:"quest-reward",children:[(0,c.jsx)("span",{className:"reward-label",children:"Reward:"}),(0,c.jsxs)("span",{className:"reward-value",children:[r.xp," XP"]})]}),a&&(0,c.jsx)("button",{className:"claim-btn",onClick:()=>i(r),children:"Claim Reward \ud83c\udf81"})]}),(0,c.jsx)("div",{className:"quest-tip",children:"\ud83d\udca1 Tip: Complete daily quests to maintain your streak!"})]})},v=e=>{let{completedChallenges:t,totalChallenges:r}=e;const i=(e,r)=>{const i=t.filter(t=>t>=e&&t<=r).length,n=r-e+1;return{completed:i,total:n,percentage:i/n*100}},n=i(1,15),s=i(101,115),o=i(201,212),a=i(301,315),l=t.filter(e=>e<1e3).length,u=l/57*100;return(0,c.jsxs)("div",{className:"progress-tracker",children:[(0,c.jsx)("h3",{children:"Your Learning Journey"}),(0,c.jsxs)("div",{className:"skill-level",children:[(0,c.jsx)("span",{className:"level-label",children:"Current Level:"}),(0,c.jsx)("span",{className:"level-value",children:a.percentage>50?"Linux Master \ud83c\udfc6":o.percentage>50?"Linux Professional \ud83c\udfaf":s.percentage>50?"Linux User \ud83d\udcda":n.percentage>50?"Linux Learner \ud83c\udf31":"Linux Novice \ud83d\udc23"})]}),(0,c.jsxs)("div",{className:"overall-progress",children:[(0,c.jsx)("h4",{children:"Overall Progress"}),(0,c.jsxs)("div",{className:"progress-bar-container",children:[(0,c.jsx)("div",{className:"progress-bar overall-bar",style:{width:"".concat(u,"%")}}),(0,c.jsxs)("div",{className:"progress-text",children:[l," / ",57," Challenges"]})]})]}),(0,c.jsxs)("div",{className:"difficulty-progress",children:[(0,c.jsxs)("div",{className:"progress-item",children:[(0,c.jsx)("span",{className:"progress-label",children:"Beginner:"}),(0,c.jsx)("div",{className:"mini-progress-bar",children:(0,c.jsx)("div",{className:"progress-fill beginner-fill",style:{width:"".concat(n.percentage,"%")}})}),(0,c.jsxs)("span",{className:"progress-count",children:[n.completed,"/",n.total]})]}),(0,c.jsxs)("div",{className:"progress-item",children:[(0,c.jsx)("span",{className:"progress-label",children:"Intermediate:"}),(0,c.jsx)("div",{className:"mini-progress-bar",children:(0,c.jsx)("div",{className:"progress-fill intermediate-fill",style:{width:"".concat(s.percentage,"%")}})}),(0,c.jsxs)("span",{className:"progress-count",children:[s.completed,"/",s.total]})]}),(0,c.jsxs)("div",{className:"progress-item",children:[(0,c.jsx)("span",{className:"progress-label",children:"Advanced:"}),(0,c.jsx)("div",{className:"mini-progress-bar",children:(0,c.jsx)("div",{className:"progress-fill advanced-fill",style:{width:"".concat(o.percentage,"%")}})}),(0,c.jsxs)("span",{className:"progress-count",children:[o.completed,"/",o.total]})]}),(0,c.jsxs)("div",{className:"progress-item",children:[(0,c.jsx)("span",{className:"progress-label",children:"Expert:"}),(0,c.jsx)("div",{className:"mini-progress-bar",children:(0,c.jsx)("div",{className:"progress-fill expert-fill",style:{width:"".concat(a.percentage,"%")}})}),(0,c.jsxs)("span",{className:"progress-count",children:[a.completed,"/",a.total]})]})]}),(0,c.jsxs)("div",{className:"next-milestone",children:[u<100&&(0,c.jsxs)("p",{children:["\ud83c\udfaf Complete ",57-l," more challenges to become a Linux Master!"]}),100===u&&(0,c.jsx)("p",{children:"\ud83c\udf89 Congratulations! You've mastered all Linux challenges!"})]})]})},y={"/":{type:"directory",children:{home:{type:"directory",children:{user:{type:"directory",children:{documents:{type:"directory",children:{"readme.txt":{type:"file",content:"Welcome to the Linux Mastery Game!\nLearn Linux commands by completing challenges."},"notes.txt":{type:"file",content:"Remember:\n- pwd shows current directory\n- ls lists files\n- cd changes directory"},"tutorial.md":{type:"file",content:"# Linux Tutorial\n\n## Basic Commands\n- `ls` - list files\n- `cd` - change directory\n- `pwd` - print working directory\n- `cat` - display file contents"},"commands.txt":{type:"file",content:"Essential Linux Commands:\nls -la    # List all files with details\ncd ~      # Go to home directory\ngrep text # Search for text\nfind .    # Find files"}}},projects:{type:"directory",children:{game:{type:"directory",children:{"main.py":{type:"file",content:'#!/usr/bin/env python3\nprint("Hello, Linux!")'},"README.md":{type:"file",content:"# Game Project\n\nA simple Linux game\n\n## Requirements\n- Python 3.x\n- Terminal"},"config.json":{type:"file",content:'{\n  "name": "LinuxGame",\n  "version": "1.0",\n  "author": "user"\n}'}}},scripts:{type:"directory",children:{"backup.sh":{type:"file",content:'#!/bin/bash\n# Backup script\necho "Starting backup..."\ncp -r /home/user/documents /home/user/backup\necho "Backup complete!"'},"setup.sh":{type:"file",content:'#!/bin/bash\n# Setup script\necho "Setting up environment..."\nmkdir -p ~/bin\nexport PATH=$PATH:~/bin\necho "Setup complete!"'}}}}},Downloads:{type:"directory",children:{"data.csv":{type:"file",content:"id,name,score\n1,Alice,95\n2,Bob,87\n3,Charlie,92\n4,Diana,88"},"install.sh":{type:"file",content:'#!/bin/bash\necho "Installing application..."\nsleep 2\necho "Installation complete!"'}}},Desktop:{type:"directory",children:{"shortcuts.txt":{type:"file",content:"Useful Shortcuts:\nCtrl+C - Cancel command\nCtrl+D - Logout\nCtrl+L - Clear screen\nTab - Auto-complete"}}},".bashrc":{type:"file",content:"# Bash configuration file\nexport PATH=$PATH:/usr/local/bin"}}}}},etc:{type:"directory",children:{passwd:{type:"file",content:"root:x:0:0:root:/root:/bin/bash\nuser:x:1000:1000:user:/home/user:/bin/bash"}}},var:{type:"directory",children:{log:{type:"directory",children:{"system.log":{type:"file",content:"[INFO] System started successfully\n[INFO] All services running"}}}}},usr:{type:"directory",children:{bin:{type:"directory",children:{}},local:{type:"directory",children:{bin:{type:"directory",children:{}}}}}}}}};const b=class{constructor(){this.fileSystem=JSON.parse(JSON.stringify(y)),this.currentDirectory="/home/user",this.environmentVariables={HOME:"/home/user",USER:"user",PATH:"/usr/bin:/usr/local/bin",PWD:"/home/user"}}executeCommand(e){const t=e.trim().split(/\s+/),r=t[0],i=t.slice(1);switch(r){case"":return{output:"",newDirectory:this.currentDirectory};case"pwd":return this.pwd();case"ls":return this.ls(i);case"cd":return this.cd(i[0]);case"cat":return this.cat(i);case"echo":return this.echo(i);case"mkdir":return this.mkdir(i);case"touch":return this.touch(i);case"rm":return this.rm(i);case"cp":return this.cp(i);case"mv":return this.mv(i);case"grep":return this.grep(i);case"find":return this.find(i);case"whoami":return this.whoami();case"date":return this.date();case"clear":return this.clear();case"help":return this.help();case"man":return this.man(i);case"history":return this.history();case"env":return this.env();case"export":return this.export(i);case"head":return this.head(i);case"tail":return this.tail(i);case"wc":return this.wc(i);case"chmod":return this.chmod(i);case"ps":return this.ps(i);case"sort":return this.sort(i);case"uniq":return this.uniq(i);case"df":return this.df();case"du":return this.du(i);case"which":return this.which(i);default:return{output:"bash: ".concat(r,": command not found\nTry 'help' to see available commands"),newDirectory:this.currentDirectory}}}pwd(){return{output:this.currentDirectory,newDirectory:this.currentDirectory}}ls(e){const t=e.includes("-a")||e.includes("-la"),r=e.includes("-l")||e.includes("-la"),i=e.find(e=>!e.startsWith("-"))||this.currentDirectory,n=this.resolvePath(i);if(!n||"directory"!==n.type)return{output:"ls: cannot access '".concat(i,"': No such file or directory"),newDirectory:this.currentDirectory};let s=Object.keys(n.children||{});if(t||(s=s.filter(e=>!e.startsWith("."))),r){return{output:s.map(e=>{var t;const r=n.children[e],i="directory"===r.type?"d":"-",s="file"===r.type?(null===(t=r.content)||void 0===t?void 0:t.length)||0:4096;return"".concat(i).concat("rwxr-xr-x"," 1 user user ").concat(s.toString().padStart(5)," Jan 01 12:00 ").concat(e)}).join("\n"),newDirectory:this.currentDirectory}}return{output:s.map(e=>"directory"===n.children[e].type?"\x1b[1;34m".concat(e,"/\x1b[0m"):e).join("  "),newDirectory:this.currentDirectory}}cd(e){if(!e||"~"===e)return this.currentDirectory="/home/user",this.environmentVariables.PWD=this.currentDirectory,{output:"",newDirectory:this.currentDirectory};const t=this.resolvePath(e);return t&&"directory"===t.type?(this.currentDirectory=this.getAbsolutePath(e),this.environmentVariables.PWD=this.currentDirectory,{output:"",newDirectory:this.currentDirectory}):{output:"bash: cd: ".concat(e,": No such file or directory"),newDirectory:this.currentDirectory}}cat(e){if(0===e.length)return{output:"cat: missing file operand",newDirectory:this.currentDirectory};const t=[];for(const r of e){const e=this.resolvePath(r);e?"directory"===e.type?t.push("cat: ".concat(r,": Is a directory")):t.push(e.content||""):t.push("cat: ".concat(r,": No such file or directory"))}return{output:t.join("\n"),newDirectory:this.currentDirectory}}echo(e){return{output:e.join(" ").replace(/["']/g,"").replace(/\$(\w+)/g,(e,t)=>this.environmentVariables[t]||""),newDirectory:this.currentDirectory}}mkdir(e){if(0===e.length)return{output:"mkdir: missing operand",newDirectory:this.currentDirectory};const t=e[0],r=this.currentDirectory,i=this.resolvePath(r);return i.children[t]?{output:"mkdir: cannot create directory '".concat(t,"': File exists"),newDirectory:this.currentDirectory}:(i.children[t]={type:"directory",children:{}},{output:"",newDirectory:this.currentDirectory})}touch(e){if(0===e.length)return{output:"touch: missing file operand",newDirectory:this.currentDirectory};const t=e[0],r=this.resolvePath(this.currentDirectory);return r.children[t]||(r.children[t]={type:"file",content:""}),{output:"",newDirectory:this.currentDirectory}}rm(e){if(0===e.length)return{output:"rm: missing operand",newDirectory:this.currentDirectory};const t=e.includes("-r")||e.includes("-rf"),r=e.includes("-f")||e.includes("-rf"),i=e.find(e=>!e.startsWith("-"));if(!i)return{output:"rm: missing operand",newDirectory:this.currentDirectory};const n=this.resolvePath(this.currentDirectory),s=n.children[i];return s||r?"directory"!==(null===s||void 0===s?void 0:s.type)||t?(delete n.children[i],{output:"",newDirectory:this.currentDirectory}):{output:"rm: cannot remove '".concat(i,"': Is a directory"),newDirectory:this.currentDirectory}:{output:"rm: cannot remove '".concat(i,"': No such file or directory"),newDirectory:this.currentDirectory}}cp(e){if(e.length<2)return{output:"cp: missing destination file operand",newDirectory:this.currentDirectory};const t=e[0],r=e[1],i=this.resolvePath(t);if(!i)return{output:"cp: cannot stat '".concat(t,"': No such file or directory"),newDirectory:this.currentDirectory};return this.resolvePath(this.currentDirectory).children[r]=JSON.parse(JSON.stringify(i)),{output:"",newDirectory:this.currentDirectory}}mv(e){if(e.length<2)return{output:"mv: missing destination file operand",newDirectory:this.currentDirectory};const t=e[0],r=e[1],i=this.resolvePath(this.currentDirectory);return i.children[t]?(i.children[r]=i.children[t],delete i.children[t],{output:"",newDirectory:this.currentDirectory}):{output:"mv: cannot stat '".concat(t,"': No such file or directory"),newDirectory:this.currentDirectory}}grep(e){if(e.length<2)return{output:"Usage: grep [pattern] [file...]",newDirectory:this.currentDirectory};const t=e[0],r=e[1],i=this.resolvePath(r);if(!i)return{output:"grep: ".concat(r,": No such file or directory"),newDirectory:this.currentDirectory};if("directory"===i.type)return{output:"grep: ".concat(r,": Is a directory"),newDirectory:this.currentDirectory};return{output:(i.content||"").split("\n").filter(e=>e.includes(t)).join("\n"),newDirectory:this.currentDirectory}}find(e){const t=e.find((t,r)=>"-name"===e[r-1]);if(!t)return{output:"Usage: find [path] -name [pattern]",newDirectory:this.currentDirectory};const r=[],i=(e,n)=>{Object.entries(n.children||{}).forEach(n=>{let[s,o]=n;const a="/"===e?"/".concat(s):"".concat(e,"/").concat(s);s.includes(t.replace(/\*/g,""))&&r.push(a),"directory"===o.type&&i(a,o)})},n="-name"===e[0]?this.currentDirectory:e[0],s=this.resolvePath(n);return i(n,s),{output:r.join("\n"),newDirectory:this.currentDirectory}}whoami(){return{output:"user",newDirectory:this.currentDirectory}}date(){return{output:(new Date).toString(),newDirectory:this.currentDirectory}}clear(){return{output:"\x1b[2J\x1b[H",newDirectory:this.currentDirectory}}help(){return{output:"\ud83d\udc27 Linux Command Reference\n===========================\n\nBASIC COMMANDS:\n  pwd          - Print working directory\n  ls [-la]     - List directory contents\n  cd <dir>     - Change directory\n  mkdir <dir>  - Create directory\n  touch <file> - Create empty file\n  rm <file>    - Remove file\n  cp <src> <dst> - Copy file\n  mv <src> <dst> - Move/rename file\n  cat <file>   - Display file contents\n\nFILE OPERATIONS:\n  head [-n X] <file>  - Display first X lines (default 10)\n  tail [-n X] <file>  - Display last X lines (default 10)\n  wc [-lwc] <file>    - Count lines, words, characters\n  sort [-rn] <file>   - Sort file contents\n  uniq <file>         - Remove duplicate lines\n  chmod <mode> <file> - Change file permissions\n  grep <pattern> <file> - Search text in files\n  find <path> -name <pattern> - Find files\n  \nSYSTEM INFO:\n  ps [aux]     - Display running processes\n  df           - Display disk usage  \n  du [-h]      - Display directory sizes\n  which <cmd>  - Show command location\n  whoami       - Display current user\n  date         - Show current date/time\n  echo <text>  - Display text\n  clear        - Clear terminal screen\n  env          - Show environment variables\n  export <var>=<value> - Set environment variable\n  history      - Show command history\n\nADVANCED (Coming Soon):\n  pipe |       - Chain commands together\n  && and ||    - Conditional execution\n  top          - Real-time system monitor\n  tar          - Archive files\n  ssh          - Secure shell\n  awk          - Advanced text processing\n  sed          - Stream editor\n  \nType 'man <command>' for detailed help on any command.\nUse arrow keys to navigate command history.",newDirectory:this.currentDirectory}}man(e){if(0===e.length)return{output:"What manual page do you want?",newDirectory:this.currentDirectory};return{output:{ls:"NAME\n    ls - list directory contents\n\nSYNOPSIS\n    ls [OPTION]... [FILE]...\n\nDESCRIPTION\n    List information about the FILEs",cd:"NAME\n    cd - change directory\n\nSYNOPSIS\n    cd [directory]\n\nDESCRIPTION\n    Change the current directory to the specified path",pwd:"NAME\n    pwd - print working directory\n\nSYNOPSIS\n    pwd\n\nDESCRIPTION\n    Print the full pathname of the current working directory",cat:"NAME\n    cat - concatenate files and print\n\nSYNOPSIS\n    cat [FILE]...\n\nDESCRIPTION\n    Concatenate FILE(s) to standard output"}[e[0]]||"No manual entry for ".concat(e[0]),newDirectory:this.currentDirectory}}history(){return{output:"Command history not available in this session",newDirectory:this.currentDirectory}}env(){return{output:Object.entries(this.environmentVariables).map(e=>{let[t,r]=e;return"".concat(t,"=").concat(r)}).join("\n"),newDirectory:this.currentDirectory}}export(e){if(0===e.length)return this.env();const t=e[0],[r,i]=t.split("=");return r&&i?(this.environmentVariables[r]=i,{output:"",newDirectory:this.currentDirectory}):{output:"export: '".concat(t,"': not a valid identifier"),newDirectory:this.currentDirectory}}resolvePath(e){if(!e)return null;let t=this.fileSystem["/"],r="";if("/"===e)return t;if(e.startsWith("/"))r=e;else if(".."===e){const e=this.currentDirectory.split("/").filter(e=>e);e.pop(),r="/"+e.join("/")}else r="."===e?this.currentDirectory:"/"===this.currentDirectory?"/"+e:this.currentDirectory+"/"+e;const i=r.split("/").filter(e=>e);for(const n of i){if(".."===n)return null;if(!t.children||!t.children[n])return null;t=t.children[n]}return t}getAbsolutePath(e){if(e.startsWith("/"))return e;if(".."===e){const e=this.currentDirectory.split("/").filter(e=>e);return e.pop(),"/"+e.join("/")||0}return"."===e?this.currentDirectory:"/"===this.currentDirectory?"/"+e:this.currentDirectory+"/"+e}head(e){var t;if(0===e.length)return{output:"head: missing file operand",newDirectory:this.currentDirectory};const r=parseInt(null===(t=e.find(e=>e.startsWith("-n")))||void 0===t?void 0:t.slice(2))||10,i=e.find(e=>!e.startsWith("-"));if(!i)return{output:"head: missing file operand",newDirectory:this.currentDirectory};const n=this.resolvePath(i);if(!n)return{output:"head: ".concat(i,": No such file or directory"),newDirectory:this.currentDirectory};if("file"!==n.type)return{output:"head: ".concat(i,": Is a directory"),newDirectory:this.currentDirectory};return{output:(n.content||"").split("\n").slice(0,r).join("\n"),newDirectory:this.currentDirectory}}tail(e){var t;if(0===e.length)return{output:"tail: missing file operand",newDirectory:this.currentDirectory};const r=parseInt(null===(t=e.find(e=>e.startsWith("-n")))||void 0===t?void 0:t.slice(2))||10,i=e.find(e=>!e.startsWith("-"));if(!i)return{output:"tail: missing file operand",newDirectory:this.currentDirectory};const n=this.resolvePath(i);if(!n)return{output:"tail: ".concat(i,": No such file or directory"),newDirectory:this.currentDirectory};if("file"!==n.type)return{output:"tail: ".concat(i,": Is a directory"),newDirectory:this.currentDirectory};return{output:(n.content||"").split("\n").slice(-r).join("\n"),newDirectory:this.currentDirectory}}wc(e){if(0===e.length)return{output:"wc: missing file operand",newDirectory:this.currentDirectory};const t=e.find(e=>!e.startsWith("-"));if(!t)return{output:"wc: missing file operand",newDirectory:this.currentDirectory};const r=this.resolvePath(t);if(!r)return{output:"wc: ".concat(t,": No such file or directory"),newDirectory:this.currentDirectory};if("file"!==r.type)return{output:"wc: ".concat(t,": Is a directory"),newDirectory:this.currentDirectory};const i=r.content||"",n=i.split("\n").length,s=i.split(/\s+/).filter(e=>e).length,o=i.length;let a="";return(e.includes("-l")||!e.some(e=>e.startsWith("-")))&&(a+=n+" "),(e.includes("-w")||!e.some(e=>e.startsWith("-")))&&(a+=s+" "),(e.includes("-c")||!e.some(e=>e.startsWith("-")))&&(a+=o+" "),a+=t,{output:a.trim(),newDirectory:this.currentDirectory}}chmod(e){if(e.length<2)return{output:"chmod: missing operand",newDirectory:this.currentDirectory};const t=e[0],r=e[1],i=this.resolvePath(r);return i?(i.permissions=t,{output:"",newDirectory:this.currentDirectory}):{output:"chmod: cannot access '".concat(r,"': No such file or directory"),newDirectory:this.currentDirectory}}ps(e){return e.includes("aux")||e.includes("-aux")?{output:"USER       PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND\nroot         1  0.0  0.1  19352  1536 ?        Ss   10:00   0:01 /sbin/init\nuser      1234  0.1  0.5  45632  5120 pts/0    S+   10:15   0:00 bash\nuser      1235  0.0  0.3  38456  3072 pts/0    R+   10:30   0:00 ps aux",newDirectory:this.currentDirectory}:{output:"  PID TTY          TIME CMD\n 1234 pts/0    00:00:00 bash\n 1235 pts/0    00:00:00 ps",newDirectory:this.currentDirectory}}sort(e){if(0===e.length)return{output:"sort: missing file operand",newDirectory:this.currentDirectory};const t=e.find(e=>!e.startsWith("-"));if(!t)return{output:"sort: missing file operand",newDirectory:this.currentDirectory};const r=this.resolvePath(t);if(!r)return{output:"sort: ".concat(t,": No such file or directory"),newDirectory:this.currentDirectory};if("file"!==r.type)return{output:"sort: ".concat(t,": Is a directory"),newDirectory:this.currentDirectory};const i=(r.content||"").split("\n"),n=e.includes("-r"),s=e.includes("-n");return i.sort((e,t)=>s?n?parseFloat(t)-parseFloat(e):parseFloat(e)-parseFloat(t):n?t.localeCompare(e):e.localeCompare(t)),{output:i.join("\n"),newDirectory:this.currentDirectory}}uniq(e){if(0===e.length)return{output:"uniq: missing file operand",newDirectory:this.currentDirectory};const t=e.find(e=>!e.startsWith("-"));if(!t)return{output:"uniq: missing file operand",newDirectory:this.currentDirectory};const r=this.resolvePath(t);if(!r)return{output:"uniq: ".concat(t,": No such file or directory"),newDirectory:this.currentDirectory};if("file"!==r.type)return{output:"uniq: ".concat(t,": Is a directory"),newDirectory:this.currentDirectory};const i=(r.content||"").split("\n"),n=[];let s=null;for(const o of i)o!==s&&(n.push(o),s=o);return{output:n.join("\n"),newDirectory:this.currentDirectory}}df(){return{output:"Filesystem     1K-blocks    Used Available Use% Mounted on\n/dev/sda1       20480000  8192000  11264000  43% /\ntmpfs            2048000        0   2048000   0% /dev/shm\n/dev/sda2       40960000 16384000  22528000  43% /home",newDirectory:this.currentDirectory}}du(e){const t=e.includes("-h"),r=e.find(e=>!e.startsWith("-"))||".";if(!this.resolvePath(r))return{output:"du: cannot access '".concat(r,"': No such file or directory"),newDirectory:this.currentDirectory};return{output:"".concat(t?"4.0K":"4","\t").concat(r),newDirectory:this.currentDirectory}}which(e){if(0===e.length)return{output:"which: missing argument",newDirectory:this.currentDirectory};const t=e[0];return["ls","cd","pwd","cat","echo","grep","find","mkdir","touch","rm","cp","mv","head","tail","wc","chmod","ps","sort","uniq","df","du","which"].includes(t)?{output:"/usr/bin/".concat(t),newDirectory:this.currentDirectory}:{output:"",newDirectory:this.currentDirectory}}},S=t=>{let{onClose:r}=t;const[i]=(0,e.useState)(()=>new b),[n,s]=(0,e.useState)([]),[o,a]=(0,e.useState)(!1);return(0,c.jsxs)("div",{className:"sandbox-mode",children:[(0,c.jsxs)("div",{className:"sandbox-header",children:[(0,c.jsx)("h2",{children:"\ud83e\uddea Sandbox Mode - Practice Linux Commands Freely"}),(0,c.jsxs)("div",{className:"sandbox-controls",children:[(0,c.jsxs)("button",{className:"cheatsheet-btn",onClick:()=>a(!o),children:[o?"\ud83d\udcd6 Hide":"\ud83d\udcd6 Commands"," Cheat Sheet"]}),(0,c.jsx)("button",{className:"close-sandbox-btn",onClick:r,children:"\u2715 Exit Sandbox"})]})]}),(0,c.jsxs)("div",{className:"sandbox-body",children:[o&&(0,c.jsxs)("div",{className:"cheat-sheet",children:[(0,c.jsx)("h3",{children:"\ud83d\udcda Linux Command Reference"}),[{category:"Navigation",commands:[{cmd:"pwd",desc:"Print working directory"},{cmd:"ls",desc:"List files and directories"},{cmd:"cd [dir]",desc:"Change directory"},{cmd:"cd ..",desc:"Go to parent directory"},{cmd:"cd ~",desc:"Go to home directory"}]},{category:"File Operations",commands:[{cmd:"cat [file]",desc:"Display file contents"},{cmd:"touch [file]",desc:"Create empty file"},{cmd:"mkdir [dir]",desc:"Create directory"},{cmd:"rm [file]",desc:"Remove file"},{cmd:"cp [src] [dst]",desc:"Copy file"},{cmd:"mv [src] [dst]",desc:"Move/rename file"}]},{category:"Text Processing",commands:[{cmd:"grep [pattern] [file]",desc:"Search for pattern"},{cmd:"echo [text]",desc:"Display text"},{cmd:"find [path] -name [pattern]",desc:"Find files"}]},{category:"System Info",commands:[{cmd:"whoami",desc:"Current username"},{cmd:"date",desc:"Current date/time"},{cmd:"env",desc:"Environment variables"},{cmd:"history",desc:"Command history"},{cmd:"clear",desc:"Clear screen"}]}].map((e,t)=>(0,c.jsxs)("div",{className:"cheat-category",children:[(0,c.jsx)("h4",{children:e.category}),(0,c.jsx)("div",{className:"cheat-commands",children:e.commands.map((e,t)=>(0,c.jsxs)("div",{className:"cheat-command",children:[(0,c.jsx)("code",{children:e.cmd}),(0,c.jsx)("span",{children:e.desc})]},t))})]},t))]}),(0,c.jsxs)("div",{className:"sandbox-content",children:[(0,c.jsxs)("div",{className:"sandbox-info",children:[(0,c.jsx)("p",{children:"\ud83c\udfae This is your playground! Try any Linux command without worrying about challenges."}),(0,c.jsxs)("p",{children:["\ud83d\udca1 Tip: Type ",(0,c.jsx)("code",{children:"help"})," to see all available commands"]})]}),(0,c.jsx)("div",{className:"sandbox-terminal",children:(0,c.jsx)(u,{onCommand:e=>{const t=i.executeCommand(e);return s(r=>[...r,{command:e,result:t}].slice(-50)),t},currentDirectory:i.currentDirectory})}),n.length>0&&(0,c.jsxs)("div",{className:"command-history-panel",children:[(0,c.jsx)("h4",{children:"Recent Commands"}),(0,c.jsx)("div",{className:"history-list",children:n.slice(-10).reverse().map((e,t)=>(0,c.jsxs)("div",{className:"history-entry",children:[(0,c.jsxs)("code",{className:"history-command",children:["$ ",e.command]}),e.result.output&&(0,c.jsx)("pre",{className:"history-output",children:e.result.output.slice(0,100)})]},t))})]})]})]})]})},w=t=>{let{currentTheme:r,currentFontSize:i,onThemeChange:n,onFontSizeChange:s,onClose:o,onExport:a,onImport:l}=t;const[u,h]=(0,e.useState)("");return(0,c.jsx)("div",{className:"settings-modal",children:(0,c.jsxs)("div",{className:"settings-container",children:[(0,c.jsx)("button",{className:"close-btn",onClick:o,children:"\u2715"}),(0,c.jsx)("h2",{children:"\u2699\ufe0f Settings"}),(0,c.jsxs)("div",{className:"settings-section",children:[(0,c.jsx)("h3",{children:"Terminal Appearance"}),(0,c.jsxs)("div",{className:"setting-group",children:[(0,c.jsx)("label",{children:"Theme:"}),(0,c.jsx)("div",{className:"theme-grid",children:Object.entries({matrix:{name:"Matrix Green",bg:"#0a0a0a",fg:"#00ff00",cursor:"#00ff00"},dracula:{name:"Dracula",bg:"#282a36",fg:"#f8f8f2",cursor:"#ff79c6"},monokai:{name:"Monokai",bg:"#272822",fg:"#f8f8f2",cursor:"#f92672"},solarized:{name:"Solarized Dark",bg:"#002b36",fg:"#839496",cursor:"#268bd2"},ocean:{name:"Ocean Blue",bg:"#001220",fg:"#00ccff",cursor:"#00ccff"},amber:{name:"Amber",bg:"#1a1100",fg:"#ffb000",cursor:"#ffb000"},cyberpunk:{name:"Cyberpunk",bg:"#0d0208",fg:"#ff006e",cursor:"#8338ec"},retro:{name:"Retro Terminal",bg:"#000000",fg:"#33ff00",cursor:"#33ff00"}}).map(e=>{let[t,i]=e;return(0,c.jsxs)("div",{className:"theme-option ".concat(r===t?"active":""),onClick:()=>n(t),style:{backgroundColor:i.bg,color:i.fg,borderColor:r===t?i.cursor:"transparent"},children:[(0,c.jsxs)("div",{className:"theme-preview",children:[(0,c.jsx)("span",{style:{color:i.fg},children:"$ ls -la"}),(0,c.jsx)("span",{style:{color:i.cursor},children:"\u2588"})]}),(0,c.jsx)("div",{className:"theme-name",children:i.name})]},t)})})]}),(0,c.jsxs)("div",{className:"setting-group",children:[(0,c.jsx)("label",{children:"Font Size:"}),(0,c.jsxs)("div",{className:"font-size-control",children:[(0,c.jsx)("button",{onClick:()=>s(Math.max(10,i-1)),children:"-"}),(0,c.jsxs)("span",{className:"font-size-value",children:[i,"px"]}),(0,c.jsx)("button",{onClick:()=>s(Math.min(24,i+1)),children:"+"})]}),(0,c.jsx)("div",{className:"font-preview",style:{fontSize:"".concat(i,"px")},children:'user@linux:~$ echo "Hello, World!"'})]})]}),(0,c.jsxs)("div",{className:"settings-section",children:[(0,c.jsx)("h3",{children:"Progress Management"}),(0,c.jsxs)("div",{className:"setting-group",children:[(0,c.jsx)("label",{children:"Export Progress:"}),(0,c.jsx)("button",{className:"export-btn",onClick:()=>{a()},children:"\ud83d\udce5 Download Progress Backup"}),(0,c.jsx)("p",{className:"setting-hint",children:"Save your progress to a file that you can import later"})]}),(0,c.jsxs)("div",{className:"setting-group",children:[(0,c.jsx)("label",{children:"Import Progress:"}),(0,c.jsx)("textarea",{placeholder:"Paste your exported progress data here...",value:u,onChange:e=>h(e.target.value),className:"import-textarea"}),(0,c.jsx)("button",{className:"import-btn",onClick:()=>{if(u)try{const e=JSON.parse(u);l(e),h(""),alert("Progress imported successfully!")}catch(e){alert("Invalid import data. Please check and try again.")}},disabled:!u,children:"\ud83d\udce4 Import Progress"}),(0,c.jsx)("p",{className:"setting-hint",children:"Restore your progress from a previously exported file"})]})]}),(0,c.jsxs)("div",{className:"settings-section",children:[(0,c.jsx)("h3",{children:"Keyboard Shortcuts"}),(0,c.jsxs)("div",{className:"shortcuts-list",children:[(0,c.jsxs)("div",{className:"shortcut-item",children:[(0,c.jsx)("kbd",{children:"Tab"})," ",(0,c.jsx)("span",{children:"Autocomplete command"})]}),(0,c.jsxs)("div",{className:"shortcut-item",children:[(0,c.jsx)("kbd",{children:"\u2191/\u2193"})," ",(0,c.jsx)("span",{children:"Navigate command history"})]}),(0,c.jsxs)("div",{className:"shortcut-item",children:[(0,c.jsx)("kbd",{children:"Ctrl+C"})," ",(0,c.jsx)("span",{children:"Cancel current command"})]}),(0,c.jsxs)("div",{className:"shortcut-item",children:[(0,c.jsx)("kbd",{children:"Ctrl+L"})," ",(0,c.jsx)("span",{children:"Clear terminal"})]})]})]})]})})};function C(e,t){this.v=e,this.k=t}function k(e){return new C(e,0)}function x(e){var t,r;function i(t,r){try{var s=e[t](r),o=s.value,a=o instanceof C;Promise.resolve(a?o.v:o).then(function(r){if(a){var l="return"===t?"return":"next";if(!o.k||r.done)return i(l,r);r=e[l](r).value}n(s.done?"return":"normal",r)},function(e){i("throw",e)})}catch(e){n("throw",e)}}function n(e,n){switch(e){case"return":t.resolve({value:n,done:!0});break;case"throw":t.reject(n);break;default:t.resolve({value:n,done:!1})}(t=t.next)?i(t.key,t.arg):r=null}this._invoke=function(e,n){return new Promise(function(s,o){var a={key:e,arg:n,resolve:s,reject:o,next:null};r?r=r.next=a:(t=r=a,i(e,n))})},"function"!=typeof e.return&&(this.return=void 0)}x.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},x.prototype.next=function(e){return this._invoke("next",e)},x.prototype.throw=function(e){return this._invoke("throw",e)},x.prototype.return=function(e){return this._invoke("return",e)};const E=(e,t)=>t.some(t=>e instanceof t);let D,L;const R=new WeakMap,T=new WeakMap,P=new WeakMap;let A={get(e,t,r){if(e instanceof IDBTransaction){if("done"===t)return R.get(e);if("store"===t)return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return I(e[t])},set:(e,t,r)=>(e[t]=r,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function M(e){A=e(A)}function O(e){return(L||(L=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return e.apply(N(this),r),I(this.request)}:function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return I(e.apply(N(this),r))}}function B(e){return"function"===typeof e?O(e):(e instanceof IDBTransaction&&function(e){if(R.has(e))return;const t=new Promise((t,r)=>{const i=()=>{e.removeEventListener("complete",n),e.removeEventListener("error",s),e.removeEventListener("abort",s)},n=()=>{t(),i()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",n),e.addEventListener("error",s),e.addEventListener("abort",s)});R.set(e,t)}(e),E(e,D||(D=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,A):e)}function I(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,r)=>{const i=()=>{e.removeEventListener("success",n),e.removeEventListener("error",s)},n=()=>{t(I(e.result)),i()},s=()=>{r(e.error),i()};e.addEventListener("success",n),e.addEventListener("error",s)});return P.set(t,e),t}(e);if(T.has(e))return T.get(e);const t=B(e);return t!==e&&(T.set(e,t),P.set(t,e)),t}const N=e=>P.get(e);const H=["get","getKey","getAll","getAllKeys","count"],F=["put","add","delete","clear"],j=new Map;function z(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(j.get(t))return j.get(t);const r=t.replace(/FromIndex$/,""),i=t!==r,n=F.includes(r);if(!(r in(i?IDBIndex:IDBObjectStore).prototype)||!n&&!H.includes(r))return;const s=async function(e){const t=this.transaction(e,n?"readwrite":"readonly");let s=t.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return i&&(s=s.index(a.shift())),(await Promise.all([s[r](...a),n&&t.done]))[0]};return j.set(t,s),s}M(e=>a(a({},e),{},{get:(t,r,i)=>z(t,r)||e.get(t,r,i),has:(t,r)=>!!z(t,r)||e.has(t,r)}));const U=["continue","continuePrimaryKey","advance"],W={},q=new WeakMap,K=new WeakMap,V={get(e,t){if(!U.includes(t))return e[t];let r=W[t];return r||(r=W[t]=function(){q.set(this,K.get(this)[t](...arguments))}),r}};function X(){return G.apply(this,arguments)}function G(){var e;return e=function*(){let e=this;if(e instanceof IDBCursor||(e=yield k(e.openCursor(...arguments))),!e)return;const t=new Proxy(e,V);for(K.set(t,e),P.set(t,N(e));e;)yield t,e=yield k(q.get(t)||e.continue()),q.delete(t)},G=function(){return new x(e.apply(this,arguments))},G.apply(this,arguments)}function $(e,t){return t===Symbol.asyncIterator&&E(e,[IDBIndex,IDBObjectStore,IDBCursor])||"iterate"===t&&E(e,[IDBIndex,IDBObjectStore])}M(e=>a(a({},e),{},{get:(t,r,i)=>$(t,r)?X:e.get(t,r,i),has:(t,r)=>$(t,r)||e.has(t,r)}));const Y="LinuxMasteryGame",Q="challenges",J="progress";const Z=new class{constructor(){this.db=null,this.initDB()}async initDB(){try{this.db=await function(e,t){let{blocked:r,upgrade:i,blocking:n,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),a=I(o);return i&&o.addEventListener("upgradeneeded",e=>{i(I(o.result),e.oldVersion,e.newVersion,I(o.transaction),e)}),r&&o.addEventListener("blocked",e=>r(e.oldVersion,e.newVersion,e)),a.then(e=>{s&&e.addEventListener("close",()=>s()),n&&e.addEventListener("versionchange",e=>n(e.oldVersion,e.newVersion,e))}).catch(()=>{}),a}(Y,1,{upgrade(e){if(e.objectStoreNames.contains(Q)||e.createObjectStore(Q,{keyPath:"id"}),!e.objectStoreNames.contains(J)){const t=e.createObjectStore(J,{keyPath:"id",autoIncrement:!0});t.createIndex("challengeId","challengeId"),t.createIndex("timestamp","timestamp")}}})}catch(e){console.error("Failed to initialize IndexedDB:",e)}}saveToLocalStorage(e,t){try{return localStorage.setItem(e,JSON.stringify(t)),!0}catch(r){return console.error("LocalStorage save error:",r),!1}}getFromLocalStorage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{const r=localStorage.getItem(e);return r?JSON.parse(r):t}catch(r){return console.error("LocalStorage get error:",r),t}}removeFromLocalStorage(e){try{return localStorage.removeItem(e),!0}catch(t){return console.error("LocalStorage remove error:",t),!1}}saveUserPreferences(e){return this.saveToLocalStorage("userPreferences",e)}getUserPreferences(){return this.getFromLocalStorage("userPreferences",{theme:"dark",fontSize:14,soundEnabled:!1,difficulty:"beginner"})}saveCompletedChallenges(e){return this.saveToLocalStorage("completedChallenges",e)}getCompletedChallenges(){return this.getFromLocalStorage("completedChallenges",[])}saveCurrentChallenge(e){return this.saveToLocalStorage("currentChallenge",e)}getCurrentChallenge(){return this.getFromLocalStorage("currentChallenge",null)}async saveChallenges(e){this.db||await this.initDB();try{const t=this.db.transaction(Q,"readwrite");return await Promise.all(e.map(e=>t.store.put(e))),await t.done,!0}catch(t){return console.error("Failed to save challenges:",t),!1}}async getChallenges(){this.db||await this.initDB();try{return await this.db.getAll(Q)}catch(e){return console.error("Failed to get challenges:",e),[]}}async saveProgress(e){this.db||await this.initDB();try{const t=a(a({},e),{},{timestamp:(new Date).toISOString()}),r=this.db.transaction(J,"readwrite");return await r.store.add(t),await r.done,!0}catch(t){return console.error("Failed to save progress:",t),!1}}async getProgressHistory(){this.db||await this.initDB();try{return await this.db.getAll(J)}catch(e){return console.error("Failed to get progress history:",e),[]}}async getProgressForChallenge(e){this.db||await this.initDB();try{const t=this.db.transaction(J).store.index("challengeId");return await t.getAll(e)}catch(t){return console.error("Failed to get challenge progress:",t),[]}}async getStatistics(){const e=this.getCompletedChallenges(),t=await this.getProgressHistory();return{totalCompleted:e.length,completedChallenges:e,totalAttempts:t.length,hintsUsed:t.filter(e=>e.hintUsed).length,averageAttemptsPerChallenge:t.length/(e.length||1),lastPlayed:t.length>0?t[t.length-1].timestamp:null}}clearAllData(){localStorage.clear(),this.db&&(this.db.close(),indexedDB.deleteDatabase(Y),this.db=null)}async exportData(){const e={preferences:this.getUserPreferences(),completedChallenges:this.getCompletedChallenges(),currentChallenge:this.getCurrentChallenge(),challenges:await this.getChallenges(),progressHistory:await this.getProgressHistory(),exportDate:(new Date).toISOString()};return JSON.stringify(e,null,2)}async importData(e){try{const t=JSON.parse(e);return t.preferences&&this.saveUserPreferences(t.preferences),t.completedChallenges&&this.saveCompletedChallenges(t.completedChallenges),t.currentChallenge&&this.saveCurrentChallenge(t.currentChallenge),t.challenges&&await this.saveChallenges(t.challenges),!0}catch(t){return console.error("Failed to import data:",t),!1}}},ee=JSON.parse('[{"id":1,"title":"Your First Command","description":"Welcome to Linux! Let\'s start with the basics. Type the \'pwd\' command to see your current directory.","hint":"pwd stands for \'print working directory\'. Just type pwd and press Enter.","solution":"pwd","validation":"exact","xpReward":25,"successMessage":"Great! You\'ve displayed your current directory. You\'re in /home/user."},{"id":2,"title":"Listing Files","description":"Now let\'s see what files are in your current directory. Use the \'ls\' command to list them.","hint":"Type \'ls\' to see the files and folders in your current location.","solution":"ls","validation":"exact","successMessage":"Excellent! You can see the documents and projects folders."},{"id":3,"title":"Show Hidden Files","description":"Some files are hidden (they start with a dot). Use \'ls -a\' to see all files including hidden ones.","hint":"The -a flag means \'all\'. Try: ls -a","solution":"ls -a","validation":"exact","successMessage":"Perfect! Now you can see the hidden .bashrc file too."},{"id":4,"title":"Navigate to Documents","description":"Let\'s move into the documents folder. Use the \'cd\' command followed by \'documents\'.","hint":"cd stands for \'change directory\'. Type: cd documents","solution":"cd documents","validation":"exact","successMessage":"Well done! You\'ve navigated into the documents folder."},{"id":5,"title":"Read a File","description":"There\'s a file called \'readme.txt\' here. Use the \'cat\' command to read its contents.","hint":"cat displays file contents. Type: cat readme.txt","solution":"cat readme.txt","validation":"exact","successMessage":"Great job! You\'ve read your first file in Linux."},{"id":6,"title":"Go Back","description":"Navigate back to the parent directory using \'cd ..\'","hint":"The \'..\' means parent directory. Type: cd ..","solution":"cd ..","validation":"exact","successMessage":"Perfect! You\'re back in /home/user."},{"id":7,"title":"Create a Directory","description":"Create a new directory called \'practice\' using the mkdir command.","hint":"mkdir stands for \'make directory\'. Type: mkdir practice","solution":"mkdir practice","validation":"exact","successMessage":"Excellent! You\'ve created your first directory."},{"id":8,"title":"Create a File","description":"Create an empty file called \'test.txt\' using the touch command.","hint":"The touch command creates empty files. Type: touch test.txt","solution":"touch test.txt","validation":"exact","successMessage":"Great! You\'ve created a new file."},{"id":9,"title":"Display Text","description":"Use the echo command to display \'Hello Linux\' on the screen.","hint":"Echo repeats what you type. Try: echo Hello Linux","solution":"echo Hello Linux","validation":"contains","expectedOutput":"Hello Linux","successMessage":"Perfect! Echo is useful for displaying text and creating file contents."},{"id":10,"title":"Who Are You?","description":"Find out your username using the \'whoami\' command.","hint":"Just type \'whoami\' to see your username.","solution":"whoami","validation":"exact","successMessage":"Good! You\'re logged in as \'user\'."},{"id":11,"title":"Show the Date","description":"Display the current date and time using the \'date\' command.","hint":"Simply type \'date\' to see the current date and time.","solution":"date","validation":"exact","successMessage":"Well done! The date command is useful for timestamps."},{"id":12,"title":"Environment Variables","description":"Display your HOME environment variable using \'echo $HOME\'.","hint":"Environment variables start with $. Type: echo $HOME","solution":"echo $HOME","validation":"exact","successMessage":"Excellent! Environment variables store system configuration."},{"id":13,"title":"Clear the Screen","description":"The terminal is getting crowded. Use the \'clear\' command to clean it up.","hint":"Just type \'clear\' to clear the terminal screen.","solution":"clear","validation":"exact","successMessage":"Nice and clean! The clear command helps keep your workspace tidy."},{"id":14,"title":"Copy a File","description":"Copy test.txt to test_backup.txt using the cp command.","hint":"cp stands for copy. Format: cp source destination","solution":"cp test.txt test_backup.txt","validation":"exact","successMessage":"Great! You\'ve created a backup of your file."},{"id":15,"title":"List with Details","description":"Use \'ls -l\' to see detailed information about files.","hint":"The -l flag shows long format with permissions, size, and dates.","solution":"ls -l","validation":"exact","successMessage":"Excellent! You can now see file permissions, sizes, and modification dates."}]'),te=JSON.parse('[{"id":101,"title":"Find Files by Name","description":"Use the find command to locate all .txt files in the current directory and subdirectories.","hint":"Use: find . -name \'*.txt\'","solution":"find . -name *.txt","validation":"pattern","pattern":"find.*-name.*\\\\.txt","successMessage":"Excellent! The find command is powerful for locating files."},{"id":102,"title":"Search in Files","description":"Use grep to find the word \'Linux\' in readme.txt in the documents folder.","hint":"Navigate to documents first, then: grep Linux readme.txt","solution":"grep Linux readme.txt","validation":"contains","expectedOutput":"Linux","successMessage":"Great! Grep is essential for searching text patterns."},{"id":103,"title":"Rename a File","description":"Rename test.txt to myfile.txt using the mv command.","hint":"mv can move or rename. Use: mv test.txt myfile.txt","solution":"mv test.txt myfile.txt","validation":"exact","successMessage":"Perfect! The mv command handles both moving and renaming."},{"id":104,"title":"Remove a Directory","description":"Remove the practice directory and all its contents using rm with appropriate flags.","hint":"Use rm -r for recursive removal. Add -f to force.","solution":"rm -r practice","validation":"pattern","pattern":"rm.*-r.*practice","successMessage":"Well done! Be careful with rm -r, it\'s powerful but dangerous."},{"id":105,"title":"Create Nested Directories","description":"Create a directory structure: projects/web/css in one command.","hint":"Use mkdir -p to create parent directories as needed.","solution":"mkdir -p projects/web/css","validation":"exact","successMessage":"Excellent! The -p flag creates parent directories automatically."},{"id":106,"title":"Count Lines in a File","description":"Navigate to documents and count the lines in notes.txt using grep and wc.","hint":"You can use: cat notes.txt | wc -l or just wc -l notes.txt","solution":"cat notes.txt","validation":"contains","expectedOutput":"Remember","successMessage":"Good! Combining commands with pipes is a powerful Linux feature."},{"id":107,"title":"Set an Environment Variable","description":"Create a new environment variable called MYVAR with the value \'Hello\'.","hint":"Use: export MYVAR=Hello","solution":"export MYVAR=Hello","validation":"exact","successMessage":"Great! Environment variables are crucial for system configuration."},{"id":108,"title":"View All Environment Variables","description":"Display all environment variables using the env command.","hint":"Just type \'env\' to see all variables.","solution":"env","validation":"exact","successMessage":"Perfect! You can see all the system\'s environment variables."},{"id":109,"title":"Navigate to Root","description":"Navigate to the root directory of the filesystem.","hint":"The root is represented by a single forward slash: cd /","solution":"cd /","validation":"exact","successMessage":"You\'re at the root! This is the top of the Linux filesystem hierarchy."},{"id":110,"title":"Explore System Directories","description":"List the contents of the /etc directory.","hint":"Use: ls /etc or cd /etc then ls","solution":"ls /etc","validation":"pattern","pattern":"ls.*/etc","successMessage":"Good! The /etc directory contains system configuration files."},{"id":111,"title":"Return Home","description":"Return to your home directory using the shortcut.","hint":"Use: cd ~ or just cd without arguments","solution":"cd","validation":"pattern","pattern":"cd($|\\\\s+~)","successMessage":"Welcome home! The ~ symbol always represents your home directory."},{"id":112,"title":"Check Manual Pages","description":"View the manual page for the ls command.","hint":"Use: man ls","solution":"man ls","validation":"exact","successMessage":"Excellent! Manual pages are your best friend for learning commands."},{"id":113,"title":"Create Multiple Files","description":"Create three files (file1.txt, file2.txt, file3.txt) in a single command.","hint":"You can list multiple filenames: touch file1.txt file2.txt file3.txt","solution":"touch file1.txt file2.txt file3.txt","validation":"contains","expectedOutput":"file1.txt","successMessage":"Great! You can operate on multiple files at once."},{"id":114,"title":"Hidden Files in Home","description":"List all files in your home directory, including hidden ones, in long format.","hint":"Combine flags: ls -la or ls -al","solution":"ls -la","validation":"pattern","pattern":"ls.*-[la]{2}","successMessage":"Perfect! You can see all files with full details."},{"id":115,"title":"Search and Count","description":"Find how many times the word \'Linux\' appears in all .txt files in documents.","hint":"Navigate to documents, then: grep -c Linux *.txt","solution":"grep Linux documents/readme.txt","validation":"contains","expectedOutput":"Linux","successMessage":"Excellent! Combining grep with other options gives powerful search capabilities."}]'),re=JSON.parse('[{"id":201,"title":"Process Management","description":"List all running processes with detailed information","command":"ps aux","solution":"ps aux","hint":"Use \'ps\' with \'aux\' flags to see all processes","validation":"exact","xpReward":75,"category":"process","difficulty":"advanced","tags":["processes","system","monitoring"]},{"id":202,"title":"Find and Kill Process","description":"Find the process ID of \'nginx\' and terminate it","command":"ps aux | grep nginx","solution":"kill","hint":"First use ps and grep to find the process, then use kill","validation":"contains","xpReward":80,"category":"process","difficulty":"advanced"},{"id":203,"title":"System Resource Monitoring","description":"Display real-time system resource usage","command":"top","solution":"top","hint":"Use the \'top\' command for real-time monitoring","validation":"exact","xpReward":70,"category":"monitoring","difficulty":"advanced"},{"id":204,"title":"Disk Usage Analysis","description":"Check disk usage of the entire filesystem in human-readable format","command":"df -h","solution":"df -h","hint":"Use \'df\' with the -h flag","validation":"exact","xpReward":65,"category":"filesystem","difficulty":"advanced"},{"id":205,"title":"Network Connections","description":"Display all network connections and listening ports","command":"netstat -tuln","solution":"netstat","hint":"Use netstat with appropriate flags","validation":"contains","xpReward":85,"category":"networking","difficulty":"advanced"},{"id":206,"title":"Archive Creation","description":"Create a compressed tar archive of the /home/user/documents directory","command":"tar -czf archive.tar.gz /home/user/documents","solution":"tar -czf","hint":"Use tar with compression flags -czf","validation":"contains","xpReward":90,"category":"archiving","difficulty":"advanced"},{"id":207,"title":"System Logs","description":"View the last 50 lines of the system log","command":"tail -50 /var/log/syslog","solution":"tail","hint":"Use tail with -n flag to specify number of lines","validation":"contains","xpReward":75,"category":"logging","difficulty":"advanced"},{"id":208,"title":"Cron Job Scheduling","description":"Edit the crontab to schedule a job","command":"crontab -e","solution":"crontab -e","hint":"Use crontab with -e flag to edit","validation":"exact","xpReward":95,"category":"scheduling","difficulty":"advanced"},{"id":209,"title":"User Management","description":"Add a new user named \'developer\' to the system","command":"useradd developer","solution":"useradd developer","hint":"Use the useradd command","validation":"exact","xpReward":85,"category":"users","difficulty":"advanced"},{"id":210,"title":"Service Management","description":"Check the status of the SSH service","command":"systemctl status ssh","solution":"systemctl status ssh","hint":"Use systemctl to manage services","validation":"exact","xpReward":80,"category":"services","difficulty":"advanced"},{"id":211,"title":"Advanced Grep","description":"Find all lines containing \'error\' in log files, case-insensitive","command":"grep -i error /var/log/*.log","solution":"grep -i error","hint":"Use grep with -i flag for case-insensitive search","validation":"contains","xpReward":75,"category":"search","difficulty":"advanced"},{"id":212,"title":"SSH Key Generation","description":"Generate a new SSH key pair","command":"ssh-keygen","solution":"ssh-keygen","hint":"Use ssh-keygen to create SSH keys","validation":"exact","xpReward":90,"category":"security","difficulty":"advanced"}]'),ie=JSON.parse('[{"id":301,"title":"Bash Scripting","description":"Create a bash script that loops through files in current directory","command":"for file in *; do echo $file; done","solution":"for file in","hint":"Use a for loop with wildcard expansion","validation":"contains","xpReward":120,"category":"scripting","difficulty":"expert","tags":["bash","scripting","automation"]},{"id":302,"title":"Advanced AWK","description":"Use AWK to print the third column of a CSV file","command":"awk -F\',\' \'{print $3}\' data.csv","solution":"awk","hint":"Use awk with field separator -F\',\'","validation":"contains","xpReward":110,"category":"text-processing","difficulty":"expert"},{"id":303,"title":"Sed Stream Editor","description":"Replace all occurrences of \'old\' with \'new\' in a file using sed","command":"sed \'s/old/new/g\' file.txt","solution":"sed \'s/old/new/g\'","hint":"Use sed with substitution pattern s/pattern/replacement/g","validation":"contains","xpReward":105,"category":"text-processing","difficulty":"expert"},{"id":304,"title":"Complex Pipe Chain","description":"Find the top 10 largest files in /var and sort by size","command":"find /var -type f -exec ls -la {} \\\\; | sort -nrk 5 | head -10","solution":"find","hint":"Combine find, sort, and head commands with pipes","validation":"contains","xpReward":130,"category":"advanced-commands","difficulty":"expert"},{"id":305,"title":"Docker Container Management","description":"List all running Docker containers","command":"docker ps","solution":"docker ps","hint":"Use docker ps to list containers","validation":"exact","xpReward":100,"category":"containerization","difficulty":"expert"},{"id":306,"title":"Systemd Service Creation","description":"Create a systemd service file for a custom application","command":"systemctl daemon-reload","solution":"systemctl","hint":"After creating service file, reload systemd daemon","validation":"contains","xpReward":140,"category":"system-administration","difficulty":"expert"},{"id":307,"title":"Kernel Module Management","description":"List all currently loaded kernel modules","command":"lsmod","solution":"lsmod","hint":"Use lsmod to list kernel modules","validation":"exact","xpReward":115,"category":"kernel","difficulty":"expert"},{"id":308,"title":"Network Packet Analysis","description":"Capture network packets on interface eth0","command":"tcpdump -i eth0","solution":"tcpdump -i","hint":"Use tcpdump with -i flag for interface","validation":"contains","xpReward":125,"category":"networking","difficulty":"expert"},{"id":309,"title":"LVM Management","description":"Display all logical volumes in the system","command":"lvdisplay","solution":"lvdisplay","hint":"Use lvdisplay for logical volume information","validation":"exact","xpReward":135,"category":"storage","difficulty":"expert"},{"id":310,"title":"Advanced Git Operations","description":"Rebase current branch onto master","command":"git rebase master","solution":"git rebase master","hint":"Use git rebase command","validation":"exact","xpReward":110,"category":"version-control","difficulty":"expert"},{"id":311,"title":"Performance Tuning","description":"Display CPU information including cache sizes","command":"lscpu","solution":"lscpu","hint":"Use lscpu for detailed CPU information","validation":"exact","xpReward":100,"category":"performance","difficulty":"expert"},{"id":312,"title":"Firewall Configuration","description":"List all iptables firewall rules","command":"iptables -L","solution":"iptables -L","hint":"Use iptables with -L flag","validation":"exact","xpReward":120,"category":"security","difficulty":"expert"},{"id":313,"title":"Process Priority","description":"Change the nice value of a running process","command":"renice -n 10 -p","solution":"renice","hint":"Use renice command to adjust process priority","validation":"contains","xpReward":115,"category":"process-management","difficulty":"expert"},{"id":314,"title":"RAID Configuration","description":"Check the status of software RAID arrays","command":"cat /proc/mdstat","solution":"cat /proc/mdstat","hint":"Check /proc/mdstat for RAID status","validation":"exact","xpReward":145,"category":"storage","difficulty":"expert"},{"id":315,"title":"SELinux Management","description":"Check the current SELinux enforcement mode","command":"getenforce","solution":"getenforce","hint":"Use getenforce to check SELinux status","validation":"exact","xpReward":130,"category":"security","difficulty":"expert"}]'),ne=JSON.parse('[{"id":1001,"title":"The Server is Down!","story":{"setup":"2 AM. Your phone rings. The main web server is unresponsive and customers are complaining.","character":"You, the on-call DevOps engineer","stakes":"Every minute of downtime costs $10,000. Fix it fast!"},"technical":{"objective":"Navigate to /var/log and check the system.log file for errors","solution":"cd /var/log && cat system.log","validation":"pattern","pattern":"cd.*/var/log.*cat.*system\\\\.log","hiddenBonus":"Use grep to filter for ERROR messages"},"xpReward":150,"timeLimit":120,"difficulty":"intermediate","successMessage":"Crisis averted! You found the issue - a runaway process. The server is back online!","failureMessage":"The server stayed down too long. The company lost significant revenue."},{"id":1002,"title":"The Hacker\'s Trail","story":{"setup":"Security team detected suspicious activity. Someone tried to access restricted files.","character":"You, the Security Analyst","stakes":"Find evidence before the hacker covers their tracks!"},"technical":{"objective":"Search for any files modified in the last 24 hours","solution":"find . -type f -mtime -1","validation":"pattern","pattern":"find.*-mtime.*-1","hiddenBonus":"Check for hidden files with ls -la"},"xpReward":200,"timeLimit":180,"difficulty":"advanced","successMessage":"Excellent work! You found the compromised files and secured the system.","failureMessage":"The trail went cold. The hacker erased their tracks."},{"id":1003,"title":"The Archive Quest","story":{"setup":"An ancient backup contains critical data, but it\'s buried in nested directories.","character":"You, the Data Archaeologist","stakes":"The legal team needs this file for tomorrow\'s court case!"},"technical":{"objective":"Find all .txt files containing the word \'contract\'","solution":"grep -r contract *.txt","validation":"pattern","pattern":"grep.*contract.*\\\\.txt","hiddenBonus":"Use grep -l to list only filenames"},"xpReward":125,"timeLimit":150,"difficulty":"intermediate","successMessage":"Success! You found the contract. The legal team is saved!","failureMessage":"Time ran out. The case proceeds without the crucial evidence."},{"id":1004,"title":"The Space Crisis","story":{"setup":"Alert! The server is running out of disk space. Services are starting to fail.","character":"You, the System Administrator","stakes":"Clear space before the database crashes!"},"technical":{"objective":"Find and remove all .log files older than 30 days","solution":"find . -name \'*.log\' -mtime +30 -delete","validation":"pattern","pattern":"find.*\\\\.log.*-mtime.*\\\\+30.*-delete","hiddenBonus":"Create a backup before deletion"},"xpReward":175,"timeLimit":90,"difficulty":"advanced","successMessage":"Disk space recovered! All services are running smoothly again.","failureMessage":"The database crashed. Data recovery will take hours."},{"id":1005,"title":"The Configuration Mystery","story":{"setup":"The app won\'t start. Someone changed a configuration file but didn\'t document it.","character":"You, the Lead Developer","stakes":"The release is in 1 hour. Find and fix the configuration!"},"technical":{"objective":"Compare two config files to find differences","solution":"diff config.old config.new","validation":"pattern","pattern":"diff.*config","hiddenBonus":"Use git to check recent changes"},"xpReward":100,"timeLimit":120,"difficulty":"intermediate","successMessage":"Configuration fixed! The release proceeds on schedule.","failureMessage":"Release delayed. The team works overtime to fix the issue."},{"id":1006,"title":"The Zombie Process Hunt","story":{"setup":"System performance is degrading. Multiple zombie processes are consuming resources.","character":"You, the Performance Engineer","stakes":"Users are complaining about slow response times!"},"technical":{"objective":"List all running processes and identify the zombies","solution":"ps aux | grep defunct","validation":"pattern","pattern":"ps.*aux.*grep.*defunct","hiddenBonus":"Use top or htop for real-time monitoring"},"xpReward":150,"timeLimit":100,"difficulty":"advanced","successMessage":"Zombies eliminated! System performance restored to normal.","failureMessage":"System crashed under load. Emergency maintenance required."},{"id":1007,"title":"The Permission Puzzle","story":{"setup":"New team member can\'t access project files. Permission settings are misconfigured.","character":"You, the Team Lead","stakes":"They need access NOW for the client presentation!"},"technical":{"objective":"Make the project directory readable and writable for the team","solution":"chmod 775 project/","validation":"pattern","pattern":"chmod.*77[0-9].*project","hiddenBonus":"Use chown to set proper ownership"},"xpReward":100,"timeLimit":60,"difficulty":"intermediate","successMessage":"Access granted! The presentation goes perfectly.","failureMessage":"Presentation failed. The client is not impressed."},{"id":1008,"title":"The Backup Mission","story":{"setup":"Major update coming. You need to backup critical data before deployment.","character":"You, the Backup Specialist","stakes":"If something goes wrong without a backup, data will be lost forever!"},"technical":{"objective":"Create a compressed archive of the entire project directory","solution":"tar -czf backup.tar.gz project/","validation":"pattern","pattern":"tar.*-[czf].*backup.*project","hiddenBonus":"Include timestamp in backup filename"},"xpReward":125,"timeLimit":120,"difficulty":"intermediate","successMessage":"Backup complete! Deployment proceeds safely.","failureMessage":"No backup created. A bug in deployment causes data loss."},{"id":1009,"title":"The Network Detective","story":{"setup":"API calls are failing. Is it our server or the network?","character":"You, the Network Engineer","stakes":"The mobile app is down for millions of users!"},"technical":{"objective":"Test connectivity to the API server","solution":"ping api.server.com","validation":"pattern","pattern":"ping.*api","hiddenBonus":"Use traceroute to find where packets are dropping"},"xpReward":100,"timeLimit":90,"difficulty":"beginner","successMessage":"Network issue identified and reported. Fix deployed quickly.","failureMessage":"Unable to diagnose. Users remain frustrated for hours."},{"id":1010,"title":"The Midnight Migration","story":{"setup":"Database migration script must run tonight during maintenance window.","character":"You, the Database Admin","stakes":"If migration fails, Monday morning will be chaos!"},"technical":{"objective":"Schedule a script to run at 2 AM using cron","solution":"crontab -e","validation":"exact","hiddenBonus":"Add logging to capture migration output"},"xpReward":200,"timeLimit":180,"difficulty":"advanced","successMessage":"Migration scheduled successfully. Monday starts smoothly!","failureMessage":"Migration didn\'t run. Emergency fix needed Monday morning."}]');const se=function(){const[t,r]=(0,e.useState)([]),[i,n]=(0,e.useState)([]),[s,o]=(0,e.useState)(null),[l,d]=(0,e.useState)([]),[f,y]=(0,e.useState)("beginner"),[C]=(0,e.useState)(()=>new b),[k,x]=(0,e.useState)(!1),[E,D]=(0,e.useState)(!0),[L,R]=(0,e.useState)(""),[T,P]=(0,e.useState)(null),[A,M]=(0,e.useState)(null),[O,B]=(0,e.useState)(p.playerData),[I,N]=(0,e.useState)(!1),[H,F]=(0,e.useState)(!1),[j,z]=(0,e.useState)(!1),[U,W]=(0,e.useState)(null),[q,K]=(0,e.useState)([]),[V,X]=(0,e.useState)(null),[G,$]=(0,e.useState)(!1),[Y,Q]=(0,e.useState)(localStorage.getItem("terminal-theme")||"matrix"),[J,se]=(0,e.useState)(parseInt(localStorage.getItem("terminal-font-size"))||14);(0,e.useEffect)(()=>{(async()=>{try{p.updateStreak();const e=Z.getUserPreferences();y(e.difficulty||"beginner");const t=Z.getCompletedChallenges();let i;switch(d(t),f){case"beginner":default:i=ee;break;case"intermediate":i=te;break;case"advanced":i=re;break;case"expert":i=ie}console.log("Loaded challenges:",i.length),r(i);const s=ne;console.log("Loaded narrative challenges:",s.length),n(s),await Z.saveChallenges([...i,...s]);const a=p.getDailyQuest();W(a);const l=Z.getCurrentChallenge();if(l){const e=[...i,...s].find(e=>e.id===l);e&&o(e)}B(p.playerData)}catch(e){console.error("Failed to initialize app:",e);const t=await Z.getChallenges();if(t.length>0){const e=t.filter(e=>e.id<1e3),i=t.filter(e=>e.id>=1e3);r(e),n(i)}}finally{D(!1)}})()},[f]);const oe=(0,e.useCallback)(e=>{console.log("handleCommand called with:",e);const r=C.executeCommand(e);if(console.log("Command simulator result:",r),p.playerData.stats.commandsExecuted++,s&&""!==e.trim()){console.log("Current challenge:",s.title,"Solution:",s.solution);let c=!1;if("exact"===s.validation)c=e.trim()===s.solution;else if("contains"===s.validation)c=e.includes(s.solution)||r.output.includes(s.expectedOutput||"");else if("pattern"===s.validation){var n;c=new RegExp(s.pattern||(null===(n=s.technical)||void 0===n?void 0:n.pattern)).test(e)}if(console.log("Is correct?",c),c){console.log("Challenge completed!");const n=[...l,s.id];d(n),Z.saveCompletedChallenges(n);const c=s.xpReward||50,u=p.calculateXPMultiplier({noHints:!0,timeBonus:!0}),h=Math.round(c*u);p.addXP(h,"Completed: ".concat(s.title));if(X({amount:h,x:window.innerWidth/2,y:window.innerHeight/2}),setTimeout(()=>X(null),2e3),B(a({},p.playerData)),p.playerData.stats.challengesCompleted++,1===p.playerData.stats.challengesCompleted){const e=p.unlockAchievement("FIRST_COMMAND");e&&le(e)}U&&"daily_challenges"===U.id&&W(a(a({},U),{},{progress:U.progress+1})),Z.saveProgress({challengeId:s.id,command:e,completed:!0,hintUsed:!1}),R(s.successMessage||"Challenge completed!"),setTimeout(()=>R(""),5e3);const f=[...t,...i],m=f.findIndex(e=>e.id===s.id);if(m<f.length-1){const e=f[m+1];o(e),Z.saveCurrentChallenge(e.id)}return console.log("Returning success result"),a(a({},r),{},{challengeResult:"success"})}{console.log("Wrong answer! Returning incorrect result");const e=a(a({},r),{},{challengeResult:"incorrect",incorrectMessage:"\u274c Incorrect answer. Hint: ".concat(s.hint||"Try again!")});return console.log("Incorrect result object:",e),e}}return r},[s,t,i,l,U]),ae=e=>{y(e);const t=Z.getUserPreferences();Z.saveUserPreferences(a(a({},t),{},{difficulty:e}))},le=e=>{K([...q,{type:"achievement",title:"Achievement Unlocked!",message:e.achievement.name,icon:e.achievement.icon}]),setTimeout(()=>{K(e=>e.slice(1))},5e3)},ce=e=>{Q(e),localStorage.setItem("terminal-theme",e)},ue=e=>{se(e),localStorage.setItem("terminal-font-size",e.toString())};if(E)return(0,c.jsx)("div",{className:"app loading",children:(0,c.jsx)("div",{className:"loader",children:"Loading Linux Mastery Game..."})});const he="story"===f?i:t;return(0,c.jsxs)("div",{className:"app",onTouchStart:e=>{M(null),P(e.targetTouches[0].clientX)},onTouchMove:e=>{M(e.targetTouches[0].clientX)},onTouchEnd:()=>{if(!T||!A)return;const e=T-A,t=e<-50;e>50?x(!1):t&&window.innerWidth<=768&&x(!0)},children:[(0,c.jsxs)("header",{className:"app-header",children:[(0,c.jsx)("button",{className:"menu-toggle",onClick:()=>x(!k),title:"Toggle Menu",children:"\u2630"}),(0,c.jsx)("h1",{children:"Linux:~$"}),(0,c.jsxs)("div",{className:"nav-center",children:[(0,c.jsx)("button",{className:"nav-btn ".concat("beginner"===f?"active":""),onClick:()=>ae("beginner"),children:"Beginner"}),(0,c.jsx)("button",{className:"nav-btn ".concat("intermediate"===f?"active":""),onClick:()=>ae("intermediate"),children:"Intermediate"}),(0,c.jsx)("button",{className:"nav-btn ".concat("advanced"===f?"active":""),onClick:()=>ae("advanced"),children:"Advanced"}),(0,c.jsx)("button",{className:"nav-btn ".concat("expert"===f?"active":""),onClick:()=>ae("expert"),children:"Expert"}),(0,c.jsx)("button",{className:"nav-btn ".concat("story"===f?"active":""),onClick:()=>ae("story"),children:"Story"})]}),(0,c.jsxs)("div",{className:"nav-right",children:[(0,c.jsxs)("span",{className:"status-text",children:["Lv.",O.level," | ",O.xp,"XP"]}),(0,c.jsx)("button",{className:"nav-icon",onClick:()=>z(!0),title:"Sandbox",children:"\ud83e\uddea"}),(0,c.jsx)("button",{className:"nav-icon",onClick:()=>$(!0),title:"Settings",children:"\u2699\ufe0f"}),(0,c.jsx)("button",{className:"nav-icon",onClick:()=>N(!0),title:"Profile",children:"\ud83d\udc64"}),(0,c.jsx)("button",{className:"nav-icon",onClick:()=>F(!0),title:"Leaderboard",children:"\ud83c\udfc6"})]})]}),L&&(0,c.jsx)("div",{className:"success-banner",children:L}),q.map((e,t)=>(0,c.jsxs)("div",{className:"notification-popup",children:[(0,c.jsx)("span",{className:"notif-icon",children:e.icon}),(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:"notif-title",children:e.title}),(0,c.jsx)("div",{className:"notif-message",children:e.message})]})]},t)),V&&(0,c.jsxs)("div",{className:"xp-animation",style:{left:V.x,top:V.y},children:["+",V.amount," XP"]}),(0,c.jsxs)("div",{className:"app-body ".concat(k?"":"sidebar-collapsed"),children:[(0,c.jsx)("aside",{className:"sidebar ".concat(k?"":"collapsed"),children:k&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(v,{completedChallenges:l,totalChallenges:he.length}),U&&(0,c.jsx)(g,{quest:U,onClaim:e=>{p.addXP(e.xp,"Daily Quest Completed");B(a({},p.playerData)),W(a(a({},e),{},{progress:0,claimed:!0})),le({achievement:{name:"Daily Quest Complete!",icon:"\u2705"}})}}),(0,c.jsx)(h,{challenges:he,currentChallenge:s,completedChallenges:l,onSelectChallenge:e=>{o(e),Z.saveCurrentChallenge(e.id),x(!1)}}),(0,c.jsx)("div",{className:"sidebar-actions",children:(0,c.jsx)("button",{onClick:()=>{window.confirm("Are you sure you want to reset all progress?")&&(d([]),o(null),Z.saveCompletedChallenges([]),Z.saveCurrentChallenge(null),R("Progress reset!"),setTimeout(()=>R(""),3e3))},className:"reset-btn",children:"Reset Progress"})})]})}),(0,c.jsx)("main",{className:"main-content ".concat(k?"":"expanded"),children:(0,c.jsx)("div",{className:"terminal-section",children:(0,c.jsx)(u,{onCommand:oe,currentDirectory:C.currentDirectory,challenge:s,theme:Y,fontSize:J})})})]}),I&&(0,c.jsx)("div",{className:"modal-overlay",children:(0,c.jsx)(m,{playerData:O,onClose:()=>N(!1)})}),H&&(0,c.jsx)("div",{className:"modal-overlay",children:(0,c.jsx)(_,{players:p.getLeaderboard(),currentPlayer:O.username,onClose:()=>F(!1)})}),j&&(0,c.jsx)("div",{className:"modal-overlay",children:(0,c.jsx)(S,{onClose:()=>z(!1)})}),G&&(0,c.jsx)("div",{className:"modal-overlay",children:(0,c.jsx)(w,{currentTheme:Y,currentFontSize:J,onThemeChange:ce,onFontSizeChange:ue,onClose:()=>$(!1),onExport:()=>{const e={version:"1.0",date:(new Date).toISOString(),completedChallenges:l,currentChallenge:null===s||void 0===s?void 0:s.id,playerData:p.playerData,difficulty:f,theme:Y,fontSize:J},t=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),r=URL.createObjectURL(t),i=document.createElement("a");i.href=r,i.download="linux-mastery-progress-".concat(Date.now(),".json"),document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(r)},onImport:e=>{try{if(e.completedChallenges&&(d(e.completedChallenges),Z.saveCompletedChallenges(e.completedChallenges)),e.currentChallenge){const r=[...t,...i].find(t=>t.id===e.currentChallenge);r&&(o(r),Z.saveCurrentChallenge(r.id))}e.playerData&&(Object.assign(p.playerData,e.playerData),B(a({},p.playerData))),e.difficulty&&ae(e.difficulty),e.theme&&ce(e.theme),e.fontSize&&ue(e.fontSize),R("Progress imported successfully!"),setTimeout(()=>R(""),3e3)}catch(r){console.error("Import failed:",r),R("Failed to import progress"),setTimeout(()=>R(""),3e3)}}})}),(0,c.jsx)("footer",{className:"app-footer",children:(0,c.jsx)("p",{children:"Master Linux commands through epic gameplay \ud83d\ude80"})})]})},oe=e=>{e&&e instanceof Function&&r.e(453).then(r.bind(r,453)).then(t=>{let{getCLS:r,getFID:i,getFCP:n,getLCP:s,getTTFB:o}=t;r(e),i(e),n(e),s(e),o(e)})},ae=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function le(e,t){navigator.serviceWorker.register(e).then(e=>{e.onupdatefound=()=>{const r=e.installing;null!=r&&(r.onstatechange=()=>{"installed"===r.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed."),e.waiting&&(e.waiting.postMessage({type:"SKIP_WAITING"}),window.location.reload()),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(e=>{console.error("Error during service worker registration:",e)})}t.createRoot(document.getElementById("root")).render((0,c.jsx)(e.StrictMode,{children:(0,c.jsx)(se,{})})),function(e){if("serviceWorker"in navigator){if(new URL("/linux-mastery-game",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",()=>{const t="".concat("/linux-mastery-game","/service-worker.js");ae?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then(r=>{const i=r.headers.get("content-type");404===r.status||null!=i&&-1===i.indexOf("javascript")?navigator.serviceWorker.ready.then(e=>{e.unregister().then(()=>{window.location.reload()})}):le(e,t)}).catch(()=>{console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(()=>{console.log("This web app is being served cache-first by a service worker.")})):le(t,e)})}}(),oe()})()})();
//# sourceMappingURL=main.efafec05.js.map